{"version":3,"sources":["serviceWorker.js","redux/project/actions.js","redux/project/action-types.js","component/field-view/view-config.js","redux/path/actions.js","redux/path/action-types.js","handlers/csv-handler.js","handlers/local-storage-handler.js","redux/view/actions.js","redux/view/action-types.js","handlers/file-handler.js","handlers/project-handler.js","redux/app/actions.js","redux/app/action-types.js","handlers/app-handler.js","component/waypoints/swerve-waypoint-info.js","component/waypoints/tank-waypoint-info.js","component/waypoints/waypoints-list.js","component/field-view/canvas-painter.js","component/field-view/field-view.js","component/settings/settings-config.js","component/settings/settings-drive-type-config.js","component/settings/settings-folders-config.js","component/settings/settings-robot-config.js","component/settings/settings-filed-config.js","component/settings/settings-path-config.js","component/settings/settings.js","component/playing-bar.js","component/popups/popup.js","component/popups/popups.js","component/tools/tools-path-direction.js","component/tools/tools-download-path.js","component/tools/tools-add-waypoint.js","component/tools/tools-select-path.js","component/tools/tools-delete-path.js","component/tools/tools-rename-path.js","component/popups/popups-config.js","component/tools/tools-play-path.js","component/tools/tools-settings.js","component/tools/tools.js","component/app.js","redux/initial-state.js","redux/project/reducer.js","redux/view/reducer.js","redux/path/reducer.js","redux/store.js","redux/app/reducer.js","index.js"],"names":["Boolean","window","location","hostname","match","setFieldConfig","fieldConfig","type","payload","setImage","imageUrl","image","setCSVPath","path","setRobotDrawConfig","robotDrawConfig","FieldConfig","widthInMeter","heightInMeter","topLeftXPixel","topLeftYPixel","widthInPixel","heigthInPixel","this","Number","widthPixelToMeter","hightPixelToMeter","RobotDrawConfig","width","length","center","setWaypoint","waypoint","index","removeWaypoint","addPath","name","waypoints","isInReverse","setPathConfig","pathConfig","driveType","getSetpointsCSV","setpoints","setpointKeys","csvLines","map","setpoint","Object","keys","sort","getSetpointKeys","key","join","getSetpointCSV","getCoordsCSV","coords","coord","getCoordCSV","Util","r2d","angle","x","y","LocalStorageHandler","callback","dispatch","load","loadJsonProject","loadRobotDrawConfig","loadFieldConfig","loadFieldImage","loadPathConfig","loadPaths","jsonProject","JSON","parse","localStorage","getItem","error","undefined","assign","Swerve","Tank","PathConfig","forEach","startsWith","loadPath","replace","settings","projectSettings","setItem","stringify","pathName","data","isReverse","zip","JSZip","folder","endsWith","fileName","file","generateAsync","blob","url","URL","createObjectURL","link","document","createElement","download","href","click","removeItem","oldName","newName","changeRangePosition","position","setDrawRobotInterval","interval","changePopupsStatus","popup","changeListenToMouseStatus","FileHandler","ipcRenderer","require","fs","projectPath","setProjectFolderPath","setCSVFolderPath","folderPath","invoke","saveCSVTo","readFileSync","imagePath","indexOf","Blob","readdirSync","a","existsSync","mkdirSync","writeFileSync","csvFolder","rmdirSync","recursive","filter","unlinkSync","renameSync","handler","changeProjectFolderPath","saveJsonPath","deletePath","renameJsonPath","saveJsonProject","saveCSVPath","isWeb","value","setAppVersion","version","getAppVersion","onUpdateDownloaded","appVersion","on","event","info","updateApp","SwerveWaypointInfo","props","state","id","waypointsLength","React","createRef","v","vMax","addRef","deleteRef","robotAngle","add","bind","remove","onChange","getValue","isNeedToUpdateState","currentValue","current","setState","object","blur","Alert","className","variant","InputGroup","Prepend","Text","FormControl","ref","defaultValue","Button","onClick","color","Component","connect","selectedPath","TankWaypointInfo","WaypointsList","getSwerveWaypointInfo","getTankWaypointInfo","getWaypointInfo","element","addWaypointInIndex","paths","drawOnCanvas","canvas","ctx","getContext","clearRect","height","beginPath","rect","strokeStyle","stroke","drawFieldBorders","isIllegal","drawWaypoints","moveTo","lineTo","drawCoords","robotInReverse","isPathInReverse","robotLength","robotBorder","robotCenter","save","rangePosition","robotWidth","robotX","robotY","translate","rotate","fillStyle","fillRect","drawRobotShape","arc","Math","PI","fill","drawRobotCenter","drawRobotBorders","restore","drawRobot","FieldView","listenToMouseClicks","addEventListener","removeEventListener","getBoundingClientRect","scaleX","scaleY","clientX","left","clientY","top","addWaypoint","toFixed","style","backgroundPosition","backgroundSize","backgroundRepeat","backgroundImage","filedImageUrl","SettingsConfig","getData","fontSize","fontWeight","Row","getConfigInfo","Container","getBody","SettingsDriveTypeConfig","setDriveTypeTank","setDriveTypeSwerve","setElementData","Col","block","active","SettingsFoldersConfig","lastProjectPath","CSVFolderRef","projectFolderRef","resetProjectPath","onProjectFolderPathChange","Form","Group","as","Label","Control","SettingsRobotConfig","robotWidthRef","robotLengthRef","robotCenterRef","md","OverlayTrigger","overlay","Tooltip","SettingsFiledConfig","fieldHeightInPixelRef","fieldHeightInMeterRef","fieldWidthInPixelRef","fieldWidthInMeterRef","filedImageNameRef","fieldTopLeftXRef","fieldTopLeftYRef","SettingsPathConfig","pathWidthRef","robotMaxVRef","robotMaxAccRef","robotLoopTimeRef","acc","robotLoopTime","Settings","saveSettings","closeSettings","getUpdateButton","getFoldersConfig","popupsStatus","settingsPopup","mousetrap","bindGlobal","unbind","func","filedConfig","foldersConfig","setSettings","closePopups","newVersion","Modal","show","onHide","backdrop","Header","Title","Body","Footer","PlayingBar","range","disabled","querySelector","sign","deltaY","max","sourceSetpoints","newPosition","lastPosition","maxPosition","sm","target","Popup","cancelButtonRef","refToUse","setTimeout","focus","confirm","activeElement","confirmButton","cancelButton","close","title","body","Popups","newPathRef","renamePathRef","renamePath","createNewPath","renamePathPopup","pathsName","includes","resetRangePosition","deletePathPopup","placeholder","createNewPathPopup","pathIsIllegalPopup","problem","solution","newVersionPopup","savePathToCSVPopup","ToolsPathDirection","getButtonIcon","changeDirection","isPathReverse","size","isTurnInPlace","ToolsDownloadPath","showIllegalPathPopup","isPathIllegal","ToolsAddWaypoint","ToolsSelectPath","getPathsItem","setSelectedPath","showCreateNewPathPopup","Dropdown","Item","changeSelectedPath","Toggle","Menu","Divider","ToolsDeletePath","showDeletePathPopup","ToolsRenamePath","showRenamePathPopup","PopupsConfig","ToolsPlayPath","canCreateInterval","getPlayButtonIcon","updateRangePosition","isRangePositionInTheEnd","onkeydown","e","keyCode","setInterval","drawRobotInterval","ToolsSettings","showSettings","Tools","App","appUpdaterInit","projectInit","fluid","app","initialState","clearInterval","newState","newWaypointObject","isNaN","Waypoint","getNewWaypoint","Path","removePath","reducers","reduceReducers","action","status","push","newWaypoint","oldPath","setProjectPath","setPlatform","setNewVersion","store","createStore","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"6JAYoBA,QACU,cAA7BC,OAAOC,SAASC,UAEc,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MAAM,2D,gFCU1B,SAASC,EAAeC,GAC9B,MAAO,CACNC,KC3B8B,mBD4B9BC,QAAS,CACRF,YAAaA,IAKT,SAASG,EAASC,EAAUC,GAClC,MAAO,CACNJ,KCjCuB,YDkCvBC,QAAS,CACRE,SAAUA,EACVC,MAAOA,IAKH,SAASC,EAAWC,GAC1B,MAAO,CACNN,KC5C0B,eD6C1BC,QAAS,CACRK,KAAMA,IAKF,SAASC,EAAmBC,GAClC,MAAO,CACNR,KCzDmC,wBD0DnCC,QAAS,CACRO,gBAAiBA,IE3Db,IAAMC,EACZ,aAOG,IANFC,EAMC,uDANc,QACfC,EAKC,uDALe,MAChBC,EAIC,uDAJe,EAChBC,EAGC,uDAHe,EAChBC,EAEC,uDAFc,EACfC,EACC,uDADe,EACf,oBACDC,KAAKN,aAAeO,OAAOP,GAC3BM,KAAKL,cAAgBM,OAAON,GAC5BK,KAAKJ,cAAgBK,OAAOL,GAC5BI,KAAKH,cAAgBI,OAAOJ,GAC5BG,KAAKF,aAAeG,OAAOH,GAC3BE,KAAKD,cAAgBE,OAAOF,GAE5BC,KAAKE,kBAAqC,IAAjBJ,EAAqB,EAAIJ,EAAeI,EACjEE,KAAKG,kBAAsC,IAAlBJ,EAAsB,EAAIJ,EAAgBI,GAIxDK,EACZ,aAAgD,IAApCC,EAAmC,uDAA3B,EAAGC,EAAwB,uDAAf,EAAGC,EAAY,uDAAH,EAAG,oBAC9CP,KAAKO,OAASN,OAAOM,GACrBP,KAAKM,OAASL,OAAOK,GACrBN,KAAKK,MAAQJ,OAAOI,ICJf,SAASG,EAAYC,EAAUC,GACrC,MAAO,CACN1B,KCnB0B,eDoB1BC,QAAS,CACRwB,SAAUA,EACVC,MAAOA,IAKH,SAASC,EAAeD,GAC9B,MAAO,CACN1B,KC/B6B,kBDgC7BC,QAAS,CACRyB,MAAOA,IA8BH,SAASE,EAAQC,EAAMC,EAAWC,GACxC,MAAO,CACN/B,KC3DsB,WD4DtBC,QAAS,CACR4B,KAAMA,EACNC,UAAWA,EACXC,YAAaA,IAKT,SAASC,EAAcC,EAAYC,GACzC,MAAO,CACNlC,KC3E6B,kBD4E7BC,QAAS,CACRgC,WAAYA,EACZC,UAAWA,I,YE/EP,SAASC,EAAgBC,GAC/B,IAAIC,EAAe,GACbC,EAAWF,EAAUG,KAAI,SAACC,EAAUd,GAEzC,OADc,IAAVA,IAAaW,EAMnB,SAAyBG,GACxB,OAAOC,OAAOC,KAAKF,GAAUG,OAPIC,CAAgBJ,IAUlD,SAAwBA,EAAUE,GAIjC,OAHgBA,EAAKH,KAAI,SAACM,GACzB,OAAOL,EAASK,MAEFC,KAAK,KAAO,IAbnBC,CAAeP,EAAUH,MAEjC,MAAM,GAAN,OAAUA,EAAaS,KAAK,KAA5B,cAAsCR,EAASQ,KAAK,OAc9C,SAASE,EAAa1C,GAC5B,IAAMgC,EAAWhC,EAAK2C,OAAOV,KAAI,SAACW,GACjC,OAAOC,EAAYD,MAEpB,OAAOC,IAAgBb,EAASQ,KAAK,MAGtC,SAASK,EAAYD,GACpB,OAAKA,EACC,GAAN,OAAUE,OAAKC,IAAIH,EAAMI,OAAzB,YAAmCJ,EAAMK,EAAzC,YAA8CL,EAAMM,EAApD,KADmB,e,YCvBCC,E,WACpB,WAAYC,GAAW,oBACtB1C,KAAK2C,SAAWD,EAChB1C,KAAK4C,O,6JAIL5C,KAAK6C,kBACL7C,KAAK8C,sBACL9C,KAAK+C,kBACL/C,KAAKgD,iBACLhD,KAAKiD,iBACLjD,KAAKkD,Y,8IAIL,IACClD,KAAKmD,YAAcC,KAAKC,MAAMC,aAAaC,QAAQ,qBAClD,MAAOC,GACRxD,KAAKmD,iBAAcM,K,4JAKhBjE,EAAkB,IAAIY,EACtBJ,KAAKmD,aAAenD,KAAKmD,YAAY3D,kBACxCA,EAAkBiC,OAAOiC,OAAO,IAAItD,EAAmBJ,KAAKmD,YAAY3D,kBACzEQ,KAAK2C,SAASpD,EAAmBC,I,8PAI7BT,EAAc,IAAIU,EAClBO,KAAKmD,aAAenD,KAAKmD,YAAYpE,cACxCA,EAAc0C,OAAOiC,OAAO,IAAIjE,EAAeO,KAAKmD,YAAYpE,cACjEiB,KAAK2C,SAAS7D,EAAeC,I,oLAGTK,G,iEACpB,IACCA,EAAQA,GAAgBY,KAAKmD,YAAY/D,MACzCY,KAAK2C,SAASzD,EAASE,EAAOA,IAC7B,MAAOoE,GACRxD,KAAK2C,SAASzD,EAAS,GAAI,K,gQAK5B,IACCc,KAAKmD,YAAYjC,UAAYlB,KAAKmD,YAAYjC,UAAYlB,KAAKmD,YAAYjC,UAAY,OACjFA,EAA2C,WAA/BlB,KAAKmD,YAAYjC,UAAyByC,SAASC,OAC/D3C,EAAajB,KAAKmD,YAAYlC,WAAajB,KAAKmD,YAAYlC,WAAa,GAC/EjB,KAAK2C,SAAS3B,EAAcC,EAAYC,IACvC,MAAOsC,GACRxD,KAAK2C,SAAS3B,EAAc,IAAI4C,OAAKC,WAAcD,S,6PAKpDnC,OAAOC,KAAK4B,cAAcQ,SAAQ,SAACjC,GAC9BA,EAAIkC,WAAW,UAAU,EAAKC,SAASnC,M,yKAI9BA,G,uEACd,IACOvC,EAAO8D,KAAKC,MAAMC,aAAaC,QAAQ1B,IAC7C7B,KAAK2C,SAAS/B,EAAQiB,EAAIoC,QAAQ,QAAS,IAAK3E,EAAKwB,UAAWxB,EAAKyB,cACpE,MAAOyC,I,sLAGYU,G,wEACfC,E,eAAuBD,IACbhD,UAAYgD,EAAShD,YAAcyC,SAAS,SAAW,OACvEL,aAAac,QAAQ,mBAAoBhB,KAAKiB,UAAUF,I,8KAGtCG,EAAUhF,G,uEACtBiF,EAAO,CAAExD,YAAazB,EAAKkF,YAAa1D,UAAWxB,EAAKwB,WAC9DwC,aAAac,QAAb,eAA6BE,GAAYlB,KAAKiB,UAAUE,I,+KAGvCjF,EAAMgF,G,+FAElBG,EAAM,IAAIC,EACVC,EAASF,EAAIE,OAAOL,GACxB7C,OAAOC,KAAKpC,GAAMwE,SAAQ,SAACjC,GAC1B,GAAKA,EAAI+C,SAAS,aAAlB,CACA,IAAMC,EAAQ,UAAMP,EAAN,YAAkBzC,EAAIoC,QAAQ,IAAK,IAAIA,QAAQ,YAAa,IAA5D,QACdU,EAAOG,KAAKD,EAAU1D,EAAgB7B,EAAKuC,SAE5C8C,EAAOG,KAAP,UAAeR,EAAf,eAAsCtC,EAAa1C,I,SAChCmF,EAAIM,cAAc,CAAE/F,KAAM,S,OAAvCgG,E,OACAC,EAAMC,IAAIC,gBAAgBH,IAC1BI,EAAOC,SAASC,cAAc,MAC/BC,SAAL,UAAmBjB,EAAnB,QACAc,EAAKI,KAAOP,EACZG,EAAKK,Q,+OAIUnB,G,iEAChBhB,aAAaoC,WAAb,eAAgCpB,I,gLAGZqB,EAASC,G,uEACvBtG,EAAOgE,aAAaC,QAAb,eAA6BoC,IAC1CrC,aAAac,QAAb,eAA6BwB,GAAWtG,GACxCgE,aAAaoC,WAAb,eAAgCC,I,2GC3G3B,SAASE,EAAoBC,GACnC,MAAO,CACN9G,KCPmC,wBDQnCC,QAAS,CACR6G,SAAUA,IAKN,SAASC,EAAqBC,GACpC,MAAO,CACNhH,KCjBqC,0BDkBrCC,QAAS,CACR+G,SAAUA,IAKN,SAASC,EAAmBC,GAClC,MAAO,CACNlH,KCxBkC,uBDyBlCC,QAAS,CACRiH,MAAOA,IAKH,SAASC,EAA0BzF,GACzC,MAAO,CACN1B,KCpC2C,gCDqC3CC,QAAS,CACRyB,MAAOA,I,IE/BW0F,E,WACpB,WAAY1D,GAAW,oBACtB1C,KAAKqG,YAAc3H,OAAO4H,QAAQ,YAAYD,YAC9CrG,KAAKuG,GAAK7H,OAAO4H,QAAQ,MACzBtG,KAAK2C,SAAWD,EAChB1C,KAAKwG,YAAc,GACnBxG,KAAK4C,O,6KAIC5C,KAAKyG,uB,OACXzG,KAAK6C,kBACL7C,KAAK0G,mBACL1G,KAAK8C,sBACL9C,KAAK+C,kBACL/C,KAAKgD,iBACLhD,KAAKiD,iBACLjD,KAAKkD,Y,6LAGwByD,G,iFACvB3G,KAAKqG,YAAYO,OAAO,mBAAoBD,G,OAClD3G,KAAK4C,O,8QAIoB5C,KAAKqG,YAAYO,OAAO,iB,OAAjD5G,KAAKwG,Y,OACLxG,KAAK2C,STfC,CACN3D,KCnB8B,mBDoB9BC,QAAS,CACRuH,YSY4BxG,KAAKwG,e,yPAI9BxG,KAAKmD,aAAenD,KAAKmD,YAAY0D,WAA4C,KAA/B7G,KAAKmD,YAAY0D,UACtE7G,KAAK2C,SAAStD,EAAWW,KAAKmD,YAAY0D,YACtC7G,KAAK2C,SAAStD,EAAW,GAAD,OAAIW,KAAKwG,YAAT,U,8IAI7B,IACC,IAAMjC,EAAOvE,KAAKuG,GAAGO,aAAR,UAAwB9G,KAAKwG,YAA7B,wBACbxG,KAAKmD,YAAcC,KAAKC,MAAMkB,GAC7B,MAAOf,GACRxD,KAAKmD,iBAAcM,K,4JAKhBjE,EAAkB,IAAIY,EACtBJ,KAAKmD,aAAenD,KAAKmD,YAAY3D,kBACxCA,EAAkBiC,OAAOiC,OAAO,IAAItD,EAAmBJ,KAAKmD,YAAY3D,kBACzEQ,KAAK2C,SAASpD,EAAmBC,I,8PAI7BT,EAAc,IAAIU,EAClBO,KAAKmD,aAAenD,KAAKmD,YAAYpE,cACxCA,EAAc0C,OAAOiC,OAAO,IAAIjE,EAAeO,KAAKmD,YAAYpE,cACjEiB,KAAK2C,SAAS7D,EAAeC,I,oLAGTK,G,yFAEnBA,EAAQA,GAAgBY,KAAKmD,YAAY/D,OAC/B2E,WAAW,Q,uBACpB/D,KAAK2C,SAASzD,EAASE,EAAOA,I,0BAI3B2H,EAAY,GACeA,GAAH,IAAxB3H,EAAM4H,QAAQ,KAAsB,UAAMhH,KAAKwG,YAAX,YAA0BpH,GACjDA,EAEXmF,EAAOvE,KAAKuG,GAAGO,aAAaC,GAC5B5H,EAAW+F,IAAIC,gBAAgB,IAAI8B,KAAK,CAAC1C,KAC/CvE,KAAK2C,SAASzD,EAASC,EAAUC,I,kDAEjCY,KAAK2C,SAASzD,EAAS,GAAIE,GAAS,K,0QAKrC,IACCY,KAAKmD,YAAYjC,UAAYlB,KAAKmD,YAAYjC,UAAYlB,KAAKmD,YAAYjC,UAAY,OACjFA,EAA2C,WAA/BlB,KAAKmD,YAAYjC,UAAyByC,SAASC,OAC/D3C,EAAajB,KAAKmD,YAAYlC,WAAajB,KAAKmD,YAAYlC,WAAa,GAC/EjB,KAAK2C,SAAS3B,EAAcC,EAAYC,IACvC,MAAOsC,GACRxD,KAAK2C,SAAS3B,EAAc,IAAI4C,OAAKC,WAAcD,S,6PAKpD,IACe5D,KAAKuG,GAAGW,YAAR,UAAuBlH,KAAKwG,YAA5B,WACR1C,QAAN,uCAAc,WAAOe,GAAP,SAAAsC,EAAA,sDACTtC,EAASD,SAAS,UAAU,EAAKZ,SAASa,GADjC,2CAAd,uDAGC,MAAOrB,I,8KAGKqB,G,yEACd,IACON,EAAOvE,KAAKuG,GAAGO,aAAR,UAAwB9G,KAAKwG,YAA7B,kBAAkD3B,IACzDvF,EAAO8D,KAAKC,MAAMkB,GACxBvE,KAAK2C,SAAS/B,EAAQiE,EAASZ,QAAQ,QAAS,IAAK3E,EAAKwB,UAAWxB,EAAKyB,cACzE,MAAOyC,I,sLAGYU,G,yEACrB,KACOC,EADH,eAC0BD,IACbhD,UAAYgD,EAAShD,YAAcyC,SAAS,SAAW,cAChEQ,EAAgBqC,YACjBrD,EAAcC,KAAKiB,UAAUF,GAC9BnE,KAAKuG,GAAGa,WAAWpH,KAAKwG,cAAcxG,KAAKuG,GAAGc,UAAUrH,KAAKwG,aAClExG,KAAKuG,GAAGe,cAAR,UAAyBtH,KAAKwG,YAA9B,uBAAgErD,GAC/D,MAAOK,I,mLAGSc,EAAUhF,G,uEAC5B,IACMU,KAAKuG,GAAGa,WAAR,UAAsBpH,KAAKwG,YAA3B,YAAiDxG,KAAKuG,GAAGc,UAAR,UAAqBrH,KAAKwG,YAA1B,WAChDjC,EAAOnB,KAAKiB,UAAU,CAAEtD,YAAazB,EAAKkF,YAAa1D,UAAWxB,EAAKwB,YAC7Ed,KAAKuG,GAAGe,cAAR,UAAyBtH,KAAKwG,YAA9B,kBAAmDlC,EAAnD,SAAoEC,GACnE,MAAOf,I,oLAGQlE,EAAMgF,EAAUiD,G,4EACjC,IACMvH,KAAKuG,GAAGa,WAAWG,IAAYvH,KAAKuG,GAAGc,UAAUE,GAClDvH,KAAKuG,GAAGa,WAAR,UAAsBG,EAAtB,YAAmCjD,KACtCtE,KAAKuG,GAAGiB,UAAR,UAAqBD,EAArB,YAAkCjD,GAAY,CAAEmD,WAAW,IAC5DzH,KAAKuG,GAAGc,UAAR,UAAqBE,EAArB,YAAkCjD,IAErB7C,OAAOC,KAAKpC,GAAMoI,QAAO,SAAC7F,GAAD,OAASA,EAAI+C,SAAS,gBACvDd,SAAQ,SAACjC,GACb,IAAMgD,EAAQ,UAAMP,EAAN,YAAkBzC,EAAIoC,QAAQ,IAAK,IAAIA,QAAQ,YAAa,IAA5D,QACd,EAAKsC,GAAGe,cAAR,UAAyBC,EAAzB,YAAsCjD,EAAtC,YAAkDO,GAAY1D,EAAgB7B,EAAKuC,QAEpF7B,KAAKuG,GAAGe,cAAR,UAAyBC,EAAzB,YAAsCjD,EAAtC,YAAkDA,EAAlD,eAAyEtC,EAAa1C,IACtFU,KAAK2C,SAASsD,EAAmB,uBAChC,MAAOzC,I,qLAGOc,EAAUiD,G,iEAC1B,IACCvH,KAAKuG,GAAGoB,WAAR,UAAsB3H,KAAKwG,YAA3B,kBAAgDlC,EAAhD,UACAtE,KAAKuG,GAAGiB,UAAR,UAAqBD,EAArB,YAAkCjD,GAAY,CAAEmD,WAAW,IAC1D,MAAOjE,I,uLAGWmC,EAASC,G,iEAC7B,IACC5F,KAAKuG,GAAGqB,WAAR,UACI5H,KAAKwG,YADT,kBAC8Bb,EAD9B,mBAEI3F,KAAKwG,YAFT,kBAE8BZ,EAF9B,UAIC,MAAOpC,I,gHChKPqE,OAAUpE,E,4CAEP,WAA2Bf,GAA3B,SAAAyE,EAAA,sDACN,IACCU,EAAU,IAAIzB,EAAY1D,GACzB,MAAOc,GACRqE,EAAU,IAAIpF,EAAoBC,GAJ7B,4C,sBAQA,SAAeoF,EAAtB,kC,4CAAO,WAAuCnB,GAAvC,SAAAQ,EAAA,sDACN,IACCU,EAAQC,wBAAwBnB,GAC/B,MAAOnD,IAHH,4C,sBAMA,SAAeuE,EAAtB,oC,4CAAO,WAA4BzD,EAAUhF,GAAtC,SAAA6H,EAAA,sDACN,IACCU,EAAQE,aAAazD,EAAUhF,GAC9B,MAAOkE,IAHH,4C,kEAMA,WAA0Bc,EAAUiD,GAApC,SAAAJ,EAAA,sDACN,IACCU,EAAQG,WAAW1D,EAAUiD,GAC5B,MAAO/D,IAHH,4C,kEAMA,WAA8BmC,EAASC,GAAvC,SAAAuB,EAAA,sDACN,IACCU,EAAQI,eAAetC,EAASC,GAC/B,MAAOpC,IAHH,4C,kEAMA,WAA+BU,GAA/B,SAAAiD,EAAA,sDACN,IACCU,EAAQK,gBAAgBhE,GACvB,MAAOV,IAHH,4C,kEAMA,WAA8BpE,GAA9B,SAAA+H,EAAA,sDACN,IACCU,EAAQ7E,eAAe5D,GACtB,MAAOoE,IAHH,4C,kEAMA,WAA2BlE,EAAMgF,EAAUK,GAA3C,SAAAwC,EAAA,sDACN,IACCU,EAAQM,YAAY7I,EAAMgF,EAAUK,GACnC,MAAOnB,IAHH,4C,sBC/CA,SAAS4E,EAAMC,GACrB,MAAO,CACNrJ,KCF0B,eDG1BC,QAAS,CACRmJ,MAAOC,IAKH,SAASC,EAAcC,GAC7B,MAAO,CACNvJ,KCb6B,kBDc7BC,QAAS,CACRsJ,QAASA,IEbZ,IAAI5F,OAAWc,EACX4C,OAAc5C,E,4CAEX,WAA8Bf,GAA9B,SAAAyE,EAAA,sDACN,IACCxE,EAAWD,EACX2D,EAAc3H,OAAO4H,QAAQ,YAAYD,YACzC1D,EAASyF,GAAM,IACfI,IACAC,IACC,MAAOjF,GACRb,EAASyF,GAAM,IARV,4C,+BAYQI,I,2EAAf,4BAAArB,EAAA,+EAE2Bd,EAAYO,OAAO,iBAF9C,OAEQ8B,EAFR,OAGE/F,EAAS2F,EAAcI,IAHzB,wG,sBAOA,SAASD,IACR,IACCpC,EAAYsC,GAAG,qBAAqB,SAACC,EAAOC,GAC3ClG,EFNK,CACN3D,KCrB6B,kBDsB7BC,QAAS,CACRsJ,QEGuBM,EAAKN,cAE5B,MAAO/E,KAGH,SAASsF,IACf,IACCzC,EAAYO,OAAO,aAClB,MAAOpD,K,6EC5BJuF,G,kDACL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CAAEC,IAAK,EAAG5E,cAAUb,EAAW0F,iBAAkB,GAE9D,EAAK5G,EAAI6G,KAAMC,YACf,EAAK7G,EAAI4G,KAAMC,YACf,EAAKC,EAAIF,KAAMC,YACf,EAAKE,KAAOH,KAAMC,YAClB,EAAK/G,MAAQ8G,KAAMC,YACnB,EAAKG,OAASJ,KAAMC,YACpB,EAAKI,UAAYL,KAAMC,YACvB,EAAKK,WAAaN,KAAMC,YAExB,EAAKM,IAAM,EAAKA,IAAIC,KAAT,gBACX,EAAKC,OAAS,EAAKA,OAAOD,KAAZ,gBACd,EAAKE,SAAW,EAAKA,SAASF,KAAd,gBAChB,EAAKG,SAAW,EAAKA,SAASH,KAAd,gBAChB,EAAKI,oBAAsB,EAAKA,oBAAoBJ,KAAzB,gBAjBT,E,kEAqBlB,OACC5J,KAAKiJ,MAAMC,KAAOlJ,KAAKgJ,MAAME,IAC7BlJ,KAAKiJ,MAAM3E,WAAatE,KAAKgJ,MAAM1E,UACnCtE,KAAKiJ,MAAME,kBAAoBnJ,KAAKgJ,MAAMG,kB,+BAInCc,EAAc5B,GACtB,OAAIrI,KAAKgK,sBAA8B3B,EACnC4B,EAAarF,SAAS,KAAaqF,EAChC5B,I,2CAGc,IAAD,OACpBrI,KAAKuJ,KAAKW,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKuJ,KAAKW,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS8I,MACrFvJ,KAAKuC,EAAE2H,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKuC,EAAE2H,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS8B,GAC/EvC,KAAKwC,EAAE0H,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKwC,EAAE0H,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS+B,GAC/ExC,KAAKsJ,EAAEY,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKsJ,EAAEY,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS6I,GAE3EtJ,KAAKgK,uBACRhK,KAAKmK,UAAS,WACb,MAAO,CACNjB,GAAI,EAAKF,MAAME,GACf5E,SAAU,EAAK0E,MAAM1E,SACrB6E,gBAAiB,EAAKH,MAAMG,sB,iCAO/B,IAAMiB,EAAS,CACd7H,EAAGtC,OAAOD,KAAKuC,EAAE2H,QAAQ7B,OACzB7F,EAAGvC,OAAOD,KAAKwC,EAAE0H,QAAQ7B,OACzBiB,EAAGrJ,OAAOD,KAAKsJ,EAAEY,QAAQ7B,OACzBkB,KAAMtJ,OAAOD,KAAKuJ,KAAKW,QAAQ7B,OAC/B/F,MAAOrC,OAAOD,KAAKsC,MAAM4H,QAAQ7B,OACjCqB,WAAYzJ,OAAOD,KAAK0J,WAAWQ,QAAQ7B,QAE5CrI,KAAKgJ,MAAMxI,YAAY4J,EAAQpK,KAAKgJ,MAAME,M,+BAI1ClJ,KAAKyJ,UAAUS,QAAQG,OACvBrK,KAAKgJ,MAAMrI,eAAeX,KAAKgJ,MAAME,M,4BAIrClJ,KAAKwJ,OAAOU,QAAQG,OACpBrK,KAAKgJ,MAAM7C,0BAA0BnG,KAAKgJ,MAAME,M,+BAIhD,OACC,mBAACoB,GAAA,EAAD,CAAOC,UAAWvK,KAAKgJ,MAAME,GAAK,EAAI,YAAc,YAAasB,QAAQ,WACxE,mBAACC,GAAA,EAAD,KACC,2BAAMF,UAAU,QAAhB,IAAyBvK,KAAKgJ,MAAME,GAAK,EAAzC,KAEA,mBAACuB,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,WAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKuC,EACVuI,aAAc9K,KAAKgJ,MAAMvI,SAAS8B,EAClCuH,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,WAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKwC,EACVsI,aAAc9K,KAAKgJ,MAAMvI,SAAS+B,EAClCsH,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,oBAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKsC,MACVwI,aAAc9K,KAAKgJ,MAAMvI,SAAS6B,MAClCwH,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,qBAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAK0J,WACVoB,aAAc9K,KAAKgJ,MAAMvI,SAASiJ,WAClCI,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,WAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKsJ,EACVwB,aAAc9K,KAAKgJ,MAAMvI,SAAS6I,EAClCQ,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,cAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKuJ,KACVuB,aAAc9K,KAAKgJ,MAAMvI,SAAS8I,KAClCO,SAAU9J,KAAK8J,WAGhB,mBAACiB,GAAA,EAAD,CAAQF,IAAK7K,KAAKyJ,UAAWc,UAAU,OAAOC,QAAQ,SAASQ,QAAShL,KAAK6J,QAC5E,mBAAC,KAAD,OAGD,mBAACkB,GAAA,EAAD,CAAQF,IAAK7K,KAAKwJ,OAAQwB,QAAShL,KAAK2J,IAAKa,QAASxK,KAAKgJ,MAAMiC,OAChE,mBAAC,KAAD,a,GAjJ2B7B,KAAM8B,WAuKxBC,gBAdS,SAAClC,GACxB,MAAO,CACN3E,SAAU2E,EAAMmC,iBAIS,SAACzI,GAC3B,MAAO,CACNwD,0BAA2B,SAACzF,GAAD,OAAWiC,EAASwD,EAA0BzF,KACzEF,YAAa,SAACC,EAAUC,GAAX,OAAqBiC,EAASnC,EAAYC,EAAUC,KACjEC,eAAgB,SAACD,GAAD,OAAWiC,EAAShC,EAAeD,QAItCyK,CAA6CpC,ICvKtDsC,G,kDACL,WAAYrC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CAAEC,IAAK,EAAG5E,cAAUb,EAAW0F,iBAAkB,GAE9D,EAAK5G,EAAI6G,KAAMC,YACf,EAAK7G,EAAI4G,KAAMC,YACf,EAAKC,EAAIF,KAAMC,YACf,EAAKE,KAAOH,KAAMC,YAClB,EAAK/G,MAAQ8G,KAAMC,YACnB,EAAKG,OAASJ,KAAMC,YACpB,EAAKI,UAAYL,KAAMC,YAEvB,EAAKM,IAAM,EAAKA,IAAIC,KAAT,gBACX,EAAKC,OAAS,EAAKA,OAAOD,KAAZ,gBACd,EAAKE,SAAW,EAAKA,SAASF,KAAd,gBAChB,EAAKG,SAAW,EAAKA,SAASH,KAAd,gBAChB,EAAKI,oBAAsB,EAAKA,oBAAoBJ,KAAzB,gBAhBT,E,kEAoBlB,OACC5J,KAAKiJ,MAAMC,KAAOlJ,KAAKgJ,MAAME,IAC7BlJ,KAAKiJ,MAAM3E,WAAatE,KAAKgJ,MAAM1E,UACnCtE,KAAKiJ,MAAME,kBAAoBnJ,KAAKgJ,MAAMG,kB,+BAInCc,EAAc5B,GACtB,OAAIrI,KAAKgK,sBAA8B3B,EACnC4B,EAAarF,SAAS,KAAaqF,EAChC5B,I,2CAGc,IAAD,OACpBrI,KAAKuJ,KAAKW,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKuJ,KAAKW,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS8I,MACrFvJ,KAAKuC,EAAE2H,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKuC,EAAE2H,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS8B,GAC/EvC,KAAKwC,EAAE0H,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKwC,EAAE0H,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS+B,GAC/ExC,KAAKsJ,EAAEY,QAAQ7B,MAAQrI,KAAK+J,SAAS/J,KAAKsJ,EAAEY,QAAQ7B,MAAOrI,KAAKgJ,MAAMvI,SAAS6I,GAE3EtJ,KAAKgK,uBACRhK,KAAKmK,UAAS,WACb,MAAO,CACNjB,GAAI,EAAKF,MAAME,GACf5E,SAAU,EAAK0E,MAAM1E,SACrB6E,gBAAiB,EAAKH,MAAMG,sB,iCAO/B,IAAMiB,EAAS,CACd7H,EAAGtC,OAAOD,KAAKuC,EAAE2H,QAAQ7B,OACzB7F,EAAGvC,OAAOD,KAAKwC,EAAE0H,QAAQ7B,OACzBiB,EAAGrJ,OAAOD,KAAKsJ,EAAEY,QAAQ7B,OACzBkB,KAAMtJ,OAAOD,KAAKuJ,KAAKW,QAAQ7B,OAC/B/F,MAAOrC,OAAOD,KAAKsC,MAAM4H,QAAQ7B,QAElCrI,KAAKgJ,MAAMxI,YAAY4J,EAAQpK,KAAKgJ,MAAME,M,+BAI1ClJ,KAAKyJ,UAAUS,QAAQG,OACvBrK,KAAKgJ,MAAMrI,eAAeX,KAAKgJ,MAAME,M,4BAIrClJ,KAAKwJ,OAAOU,QAAQG,OACpBrK,KAAKgJ,MAAM7C,0BAA0BnG,KAAKgJ,MAAME,M,+BAIhD,OACC,mBAACoB,GAAA,EAAD,CAAOC,UAAWvK,KAAKgJ,MAAME,GAAK,EAAI,YAAc,YAAasB,QAAQ,WACxE,mBAACC,GAAA,EAAD,KACC,2BAAMF,UAAU,QAAhB,IAAyBvK,KAAKgJ,MAAME,GAAK,EAAzC,KAEA,mBAACuB,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,WAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKuC,EACVuI,aAAc9K,KAAKgJ,MAAMvI,SAAS8B,EAClCuH,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,WAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKwC,EACVsI,aAAc9K,KAAKgJ,MAAMvI,SAAS+B,EAClCsH,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,eAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKsC,MACVwI,aAAc9K,KAAKgJ,MAAMvI,SAAS6B,MAClCwH,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,WAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKsJ,EACVwB,aAAc9K,KAAKgJ,MAAMvI,SAAS6I,EAClCQ,SAAU9J,KAAK8J,WAGhB,mBAACW,GAAA,EAAWC,QAAZ,KACC,mBAACD,GAAA,EAAWE,KAAZ,cAED,mBAACC,GAAA,EAAD,CACCL,UAAU,OACVM,IAAK7K,KAAKuJ,KACVuB,aAAc9K,KAAKgJ,MAAMvI,SAAS8I,KAClCO,SAAU9J,KAAK8J,WAGhB,mBAACiB,GAAA,EAAD,CAAQF,IAAK7K,KAAKyJ,UAAWc,UAAU,OAAOC,QAAQ,SAASQ,QAAShL,KAAK6J,QAC5E,mBAAC,KAAD,OAGD,mBAACkB,GAAA,EAAD,CAAQF,IAAK7K,KAAKwJ,OAAQwB,QAAShL,KAAK2J,IAAKa,QAASxK,KAAKgJ,MAAMiC,OAChE,mBAAC,KAAD,a,GArIyB7B,KAAM8B,WA2JtBC,gBAdS,SAAClC,GACxB,MAAO,CACN3E,SAAU2E,EAAMmC,iBAIS,SAACzI,GAC3B,MAAO,CACNwD,0BAA2B,SAACzF,GAAD,OAAWiC,EAASwD,EAA0BzF,KACzEF,YAAa,SAACC,EAAUC,GAAX,OAAqBiC,EAASnC,EAAYC,EAAUC,KACjEC,eAAgB,SAACD,GAAD,OAAWiC,EAAShC,EAAeD,QAItCyK,CAA6CE,IC5JtDC,G,kDACL,WAAYtC,GAAQ,IAAD,8BAClB,cAAMA,IACDuC,sBAAwB,EAAKA,sBAAsB3B,KAA3B,gBAC7B,EAAK4B,oBAAsB,EAAKA,oBAAoB5B,KAAzB,gBAC3B,EAAK6B,gBAAkB,EAAKA,gBAAgB7B,KAArB,gBAJL,E,gEAOC8B,EAAShL,GAC5B,OACC,mBAAC,GAAD,CACCwI,GAAIxI,EACJmB,IAAKnB,EACLD,SAAUiL,EACVvC,gBAAiBnJ,KAAKgJ,MAAM1J,KAAKwB,UAAUR,OAC3C2K,MAAOvK,IAAUV,KAAKgJ,MAAM2C,mBAAqB,UAAY,c,4CAK1CD,EAAShL,GAC9B,OACC,mBAAC,GAAD,CACCwI,GAAIxI,EACJmB,IAAKnB,EACLD,SAAUiL,EACVvC,gBAAiBnJ,KAAKgJ,MAAM1J,KAAKwB,UAAUR,OAC3C2K,MAAOvK,IAAUV,KAAKgJ,MAAM2C,mBAAqB,UAAY,c,sCAKhDD,EAAShL,GACxB,OAAIV,KAAKgJ,MAAM9H,YAAc0C,OAAa5D,KAAKwL,oBAAoBE,EAAShL,GACnEV,KAAKgJ,MAAM9H,YAAcyC,SAAe3D,KAAKuL,sBAAsBG,EAAShL,GAC9E,kC,+BAGE,IAAD,OACR,OACC,0BAAK6J,UAAU,iBACbvK,KAAKgJ,MAAM1J,KACXU,KAAKgJ,MAAM1J,KAAKwB,UAAUS,KAAI,SAACmK,EAAShL,GACvC,OAAO,EAAK+K,gBAAgBC,EAAShL,MAGtC,gE,GA9CuB0I,KAAM8B,WAiEnBC,gBAZS,SAAClC,GACxB,MAAO,CACN/H,UAAW+H,EAAM/H,UACjB5B,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxBO,mBAAoB1C,EAAM0C,uBAID,SAAChJ,GAC3B,MAAO,KAGOwI,CAA6CG,ICvErD,SAASO,GAAaC,EAAQ9C,GACpC,IAAM+C,EAAMD,EAAOE,WAAW,MAC9BD,EAAIE,UAAU,EAAG,EAAGH,EAAOzL,MAAOyL,EAAOI,QAc1C,SAA0BH,EAAK/C,GAC9B+C,EAAII,YACJJ,EAAIK,KACHpD,EAAMjK,YAAYa,cAClBoJ,EAAMjK,YAAYc,cAClBmJ,EAAMjK,YAAYe,aAClBkJ,EAAMjK,YAAYgB,eAEnBgM,EAAIM,YAAc,OAClBN,EAAIO,SAtBJC,CAAiBR,EAAK/C,GAEjBA,EAAM1J,OACP0J,EAAM1J,KAAKkN,aAA4C,IAA7BxD,EAAM1J,KAAK2C,OAAO3B,OAC/CmM,GAAcV,EAAK/C,IAgCrB,SAAoB+C,EAAK/C,GACxB+C,EAAII,YACJnD,EAAM1J,KAAK2C,OAAO6B,SAAQ,SAACtC,EAAUd,GACpC,IAAM6B,EAAIf,EAASe,EAAIyG,EAAMjK,YAAYmB,kBAAoB8I,EAAMjK,YAAYa,cACzE4C,EAAIhB,EAASgB,EAAIwG,EAAMjK,YAAYoB,kBAAoB6I,EAAMjK,YAAYc,cACjE,IAAVa,EAAaqL,EAAIW,OAAOnK,EAAGC,GAC1BuJ,EAAIY,OAAOpK,EAAGC,MAEpBuJ,EAAIM,YAAc,SAClBN,EAAIO,SArCJM,CAAWb,EAAK/C,GAChByD,GAAcV,EAAK/C,GAuCpB,SAAmB+C,EAAK/C,GACvB,IAAM6D,EAAiB7D,EAAM8D,iBAAmB,EAAI,EAC9CC,EAAc/D,EAAMxJ,gBAAgBc,OAAS0I,EAAMjK,YAAYmB,kBAC/D8M,EAA6C,GAA9BhE,EAAMxJ,gBAAgBa,MAAe2I,EAAMjK,YAAYoB,kBACtE8M,EAAeJ,EAAiB7D,EAAMxJ,gBAAgBe,OAAUyI,EAAMjK,YAAYmB,kBAExF6L,EAAII,YACJJ,EAAImB,OAQL,SAAwBnB,EAAK/C,EAAO+D,EAAaE,GAChD,IAAMvM,EAAQsI,EAAMmE,cACdC,EAAapE,EAAMxJ,gBAAgBa,MAAQ2I,EAAMjK,YAAYoB,kBAC7DkN,EACLrE,EAAM1J,KAAK2C,OAAOvB,GAAO6B,EAAIyG,EAAMjK,YAAYmB,kBAC/C6M,EAAc,EACd/D,EAAMjK,YAAYa,cACb0N,EACLtE,EAAM1J,KAAK2C,OAAOvB,GAAO8B,EAAIwG,EAAMjK,YAAYoB,kBAC/CiN,EAAa,EACbpE,EAAMjK,YAAYc,cAEnBkM,EAAIwB,UAAUF,EAASN,EAAc,EAAGO,EAASF,EAAa,GAC9DrB,EAAIyB,OAAOxE,EAAM1J,KAAK2C,OAAOvB,GAAO4B,OACpCyJ,EAAI0B,UAAY,QAChB1B,EAAI2B,UAAUX,EAAc,EAAIE,GAAcG,EAAa,EAAGL,EAAaK,GAtB3EO,CAAe5B,EAAK/C,EAAO+D,EAAaE,GAyBzC,SAAyBlB,GACxBA,EAAI6B,IAAI,EAAG,EAAG,IAAK,EAAa,EAAVC,KAAKC,IAAQ,GACnC/B,EAAI0B,UAAY,kBAChB1B,EAAIgC,OA3BJC,CAAgBjC,GAChBkC,GAAiBlC,EAAKc,EAAgBE,EAAaE,EAAaD,EAAa,QAC7EiB,GAAiBlC,EAAKc,GAAiBE,EAAaE,EAAaD,EAAa,OAC9EjB,EAAImC,UAlDJC,CAAUpC,EAAK/C,KAehB,SAASyD,GAAcV,EAAK/C,GAC3BA,EAAM1J,KAAKwB,UAAUgD,SAAQ,SAACrD,GAC7B,IAAM8B,EAAI9B,EAAS8B,EAAIyG,EAAMjK,YAAYmB,kBAAoB8I,EAAMjK,YAAYa,cACzE4C,EAAI/B,EAAS+B,EAAIwG,EAAMjK,YAAYoB,kBAAoB6I,EAAMjK,YAAYc,cAC/EkM,EAAII,YACJJ,EAAI6B,IAAIrL,EAAGC,EAAG,EAAG,EAAa,EAAVqL,KAAKC,IAAQ,GACjC/B,EAAI0B,UAAY,MAChB1B,EAAIgC,UAuDN,SAASE,GAAiBlC,EAAKc,EAAgBE,EAAaE,EAAaD,EAAa/B,GACrFc,EAAII,YACJJ,EAAIW,OAAOG,GAAkBE,EAAc,GAAKE,GAAcD,EAAc,GAC5EjB,EAAIY,OAAOE,GAAkBE,EAAc,GAAKE,EAAaD,EAAc,GAC3EjB,EAAIM,YAAcpB,EAClBc,EAAIO,S,IC1FC8B,G,kDACL,WAAYpF,GAAQ,IAAD,8BAClB,cAAMA,IACD8C,OAAS1C,KAAMC,YACpB,EAAK2B,QAAU,EAAKA,QAAQpB,KAAb,gBAHG,E,gEAOlBiC,GAAa7L,KAAK8L,OAAO5B,QAASlK,KAAKgJ,S,2CAIvC,IAAM8C,EAAS9L,KAAK8L,OAAO5B,QACvBlK,KAAKgJ,MAAMqF,oBAAqBvC,EAAOwC,iBAAiB,YAAatO,KAAKgL,SACzEc,EAAOyC,oBAAoB,YAAavO,KAAKgL,SAClDa,GAAaC,EAAQ9L,KAAKgJ,S,8BAGnBJ,GACP,IAAMkD,EAAS9L,KAAK8L,OAAO5B,QACrBkC,EAAON,EAAO0C,wBACdC,EAAS3C,EAAOzL,MAAQ+L,EAAK/L,MAC7BqO,EAAS5C,EAAOI,OAASE,EAAKF,OAC9B3J,IACHqG,EAAM+F,QAAUvC,EAAKwC,MAAQH,EAASzO,KAAKgJ,MAAMjK,YAAYa,eAC/DI,KAAKgJ,MAAMjK,YAAYmB,kBAClBsC,IACHoG,EAAMiG,QAAUzC,EAAK0C,KAAOJ,EAAS1O,KAAKgJ,MAAMjK,YAAYc,eAC9DG,KAAKgJ,MAAMjK,YAAYoB,kBACxBH,KAAKgJ,MAAM+F,YAAY,CAAExM,EAAGtC,OAAOsC,EAAEyM,QAAQ,IAAKxM,EAAGvC,OAAOuC,EAAEwM,QAAQ,Q,+BAItE,OACC,0BAAKzE,UAAU,aACd,6BACCA,UAAU,aACVM,IAAK7K,KAAK8L,OACVmD,MAAO,CACNC,mBAAoB,SACpBC,eAAgB,UAChBC,iBAAkB,YAClBC,gBAAiB,OAASrP,KAAKgJ,MAAMsG,cAAgB,Y,GA1CnClG,KAAM8B,WAoEfC,gBAlBS,SAAClC,GACxB,MAAO,CACNqG,cAAerG,EAAM9J,SACrBJ,YAAakK,EAAMlK,YACnBoO,cAAelE,EAAMkE,cACrB7N,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxB5L,gBAAiByJ,EAAMzJ,gBACvB6O,oBAAqBpF,EAAMoF,oBAC3BvB,kBAAiB7D,EAAM2C,MAAM3C,EAAMmC,eAAgBnC,EAAM2C,MAAM3C,EAAMmC,cAAc5G,gBAI1D,SAAC7B,GAC3B,MAAO,CACNoM,YAAa,SAACtO,GAAD,OAAckC,EfzDtB,SAAqBlC,GAC3B,MAAO,CACNzB,KCT0B,eDU1BC,QAAS,CACRwB,SAAUA,IeqDyBsO,CAAYtO,QAInC0K,CAA6CiD,I,6BCvC7CmB,G,kDA9Bd,WAAYvG,GAAQ,IAAD,8BAClB,cAAMA,IACDwG,QAAU,EAAKA,QAAQ5F,KAAb,gBACf,EAAKqF,MAAQ,CAAEQ,SAAU,GAAIC,WAAY,QAHvB,E,sDAOlB,MAAO,K,sCAIP,MAAO,K,gCAIP,OAAO,iC,+BAIP,OACC,8BACC,mBAACC,GAAA,EAAD,CAAKpF,UAAU,aACd,2BAAM0E,MAAOjP,KAAKiP,OAAQjP,KAAK4P,kBAEhC,mBAACC,GAAA,EAAD,KAAY7P,KAAK8P,gB,GAzBQ1G,KAAM8B,WCG7B6E,G,kDACL,WAAY/G,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CAAE/H,UAAW0C,QAE1B,EAAKoM,iBAAmB,EAAKA,iBAAiBpG,KAAtB,gBACxB,EAAKqG,mBAAqB,EAAKA,mBAAmBrG,KAAxB,gBALR,E,sDASlB,MAAO,CAAE1I,UAAWlB,KAAKiJ,MAAM/H,a,0CAGX,IAAD,OACnBlB,KAAKgJ,MAAMkH,eAAe,YAAalQ,KAAKwP,SAC5CxP,KAAKmK,UAAS,WACb,MAAO,CACNjJ,UAAW,EAAK8H,MAAM9H,gB,yCAMxBlB,KAAKmK,UAAS,WACb,MAAO,CAAEjJ,UAAW0C,a,2CAKrB5D,KAAKmK,UAAS,WACb,MAAO,CAAEjJ,UAAWyC,e,sCAKrB,MAAO,iB,gCAIP,OACC,mBAACgM,GAAA,EAAD,CAAKpF,UAAU,QACd,mBAAC4F,GAAA,EAAD,KACC,mBAACpF,GAAA,EAAD,CAAQqF,OAAK,EAACpF,QAAShL,KAAKgQ,iBAAkBK,OAAQrQ,KAAKiJ,MAAM/H,YAAc0C,QAA/E,SAID,mBAACuM,GAAA,EAAD,KACC,mBAACpF,GAAA,EAAD,CAAQqF,OAAK,EAACpF,QAAShL,KAAKiQ,mBAAoBI,OAAQrQ,KAAKiJ,MAAM/H,YAAcyC,UAAjF,gB,GA/CiC4L,IAkEvBpE,gBAVS,SAAClC,GACxB,MAAO,CACN/H,UAAW+H,EAAM/H,cAIQ,SAACyB,GAC3B,MAAO,KAGOwI,CAA6C4E,I,UClEtDO,G,kDACL,WAAYtH,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CAAEsH,gBAAiB,IAChC,EAAKC,aAAepH,KAAMC,YAC1B,EAAKoH,iBAAmBrH,KAAMC,YAC9B,EAAKqH,iBAAmB,EAAKA,iBAAiB9G,KAAtB,gBACxB,EAAK+G,0BAA4B,EAAKA,0BAA0B/G,KAA/B,gBANf,E,gEASE,IAAD,OACnB5J,KAAKgJ,MAAMkH,eAAe,gBAAiBlQ,KAAKwP,SAChDxP,KAAKgJ,MAAMkH,eAAe,mBAAoBlQ,KAAK0Q,kBACnD1Q,KAAKmK,UAAS,WACb,MAAO,CAAEoG,gBAAiB,EAAKvH,MAAMxC,kB,gCAKtC,MAAO,CACNK,UAAW7G,KAAKwQ,aAAatG,QAAQ7B,OAASrI,KAAKgJ,MAAMnC,UACzDL,YAAaxG,KAAKyQ,iBAAiBvG,QAAQ7B,S,sCAK5C,MAAO,oB,kDAIPP,EAAwB9H,KAAKyQ,iBAAiBvG,QAAQ7B,S,yCAIlDrI,KAAKgJ,MAAMxC,cAAgBxG,KAAKiJ,MAAMsH,iBAAiBzI,EAAwB9H,KAAKiJ,MAAMsH,mB,gCAI9F,OACC,8BACC,mBAACK,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACS,GAAA,EAAKG,MAAN,uBACA,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMxC,YACzBqE,IAAK7K,KAAKyQ,iBACV3G,SAAU9J,KAAK2Q,8BAIlB,mBAACC,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACS,GAAA,EAAKG,MAAN,0BACA,mBAACH,GAAA,EAAKI,QAAN,CAAclG,aAAc9K,KAAKgJ,MAAMnC,UAAWgE,IAAK7K,KAAKwQ,sB,GArD9BjB,IAwErBpE,gBAXS,SAAClC,GACxB,MAAO,CACNzC,YAAayC,EAAMzC,YACnBK,UAAWoC,EAAMpC,cAIQ,SAAClE,GAC3B,MAAO,KAGOwI,CAA6CmF,I,oBCxEtDW,G,kDACL,WAAYjI,GAAQ,IAAD,8BAClB,cAAMA,IAEDkI,cAAgB9H,KAAMC,YAC3B,EAAK8H,eAAiB/H,KAAMC,YAC5B,EAAK+H,eAAiBhI,KAAMC,YALV,E,gEASlBrJ,KAAKgJ,MAAMkH,eAAe,kBAAmBlQ,KAAKwP,W,2CAIlDxP,KAAKkR,cAAchH,QAAQ7B,MAAQrI,KAAKgJ,MAAMxJ,gBAAgBa,MAC9DL,KAAKmR,eAAejH,QAAQ7B,MAAQrI,KAAKgJ,MAAMxJ,gBAAgBc,OAC/DN,KAAKoR,eAAelH,QAAQ7B,MAAQrI,KAAKgJ,MAAMxJ,gBAAgBe,S,gCAI/D,MAAO,CACNf,gBAAiB,IAAIY,EACpBJ,KAAKkR,cAAchH,QAAQ7B,MAC3BrI,KAAKmR,eAAejH,QAAQ7B,MAC5BrI,KAAKoR,eAAelH,QAAQ7B,U,sCAM9B,MAAO,uB,gCAIP,OACC,mBAACuI,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,KAAKkB,GAAG,KACvB,mBAACC,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,uBACxB,mBAACZ,GAAA,EAAKG,MAAN,eAED,mBAACH,GAAA,EAAKI,QAAN,CACChS,KAAK,SACL6L,IAAK7K,KAAKkR,cACVpG,aAAc9K,KAAKgJ,MAAMxJ,gBAAgBa,SAG3C,mBAACuQ,GAAA,EAAKC,MAAN,CAAYC,GAAIX,KAAKkB,GAAG,KACvB,mBAACC,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,uBACxB,mBAACZ,GAAA,EAAKG,MAAN,gBAED,mBAACH,GAAA,EAAKI,QAAN,CACChS,KAAK,SACL6L,IAAK7K,KAAKmR,eACVrG,aAAc9K,KAAKgJ,MAAMxJ,gBAAgBc,UAG3C,mBAACsQ,GAAA,EAAKC,MAAN,CAAYC,GAAIX,KAAKkB,GAAG,KACvB,mBAACC,GAAA,EAAD,CACCC,QACC,mBAACC,GAAA,EAAD,KACC,2BAAMvC,MAAO,CAAEhE,MAAO,QAAtB,QADD,IAC6C,UAC5C,2BAAMgE,MAAO,CAAEhE,MAAO,oBAAtB,YACC,UAHF,IAGa,2BAAMgE,MAAO,CAAEhE,MAAO,SAAtB,WAId,mBAAC2F,GAAA,EAAKG,MAAN,gBAED,mBAACH,GAAA,EAAKI,QAAN,CACChS,KAAK,SACL6L,IAAK7K,KAAKoR,eACVtG,aAAc9K,KAAKgJ,MAAMxJ,gBAAgBe,e,GAvEbgP,IAyFnBpE,gBAVS,SAAClC,GACxB,MAAO,CACNzJ,gBAAiByJ,EAAMzJ,oBAIE,SAACmD,GAC3B,MAAO,KAGOwI,CAA6C8F,ICzFtDQ,G,kDACL,WAAYzI,GAAQ,IAAD,8BAClB,cAAMA,IAED0I,sBAAwBtI,KAAMC,YACnC,EAAKsI,sBAAwBvI,KAAMC,YACnC,EAAKuI,qBAAuBxI,KAAMC,YAClC,EAAKwI,qBAAuBzI,KAAMC,YAClC,EAAKyI,kBAAoB1I,KAAMC,YAC/B,EAAK0I,iBAAmB3I,KAAMC,YAC9B,EAAK2I,iBAAmB5I,KAAMC,YATZ,E,gEAalBrJ,KAAKgJ,MAAMkH,eAAe,cAAelQ,KAAKwP,W,2CAI9CxP,KAAK2R,sBAAsBzH,QAAQ7B,MAAQrI,KAAKgJ,MAAMjK,YAAYY,cAClEK,KAAK6R,qBAAqB3H,QAAQ7B,MAAQrI,KAAKgJ,MAAMjK,YAAYW,aACjEM,KAAK+R,iBAAiB7H,QAAQ7B,MAAQrI,KAAKgJ,MAAMjK,YAAYa,cAC7DI,KAAKgS,iBAAiB9H,QAAQ7B,MAAQrI,KAAKgJ,MAAMjK,YAAYc,cAC7DG,KAAK4R,qBAAqB1H,QAAQ7B,MAAQrI,KAAKgJ,MAAMjK,YAAYe,aACjEE,KAAK0R,sBAAsBxH,QAAQ7B,MAAQrI,KAAKgJ,MAAMjK,YAAYgB,cAClEC,KAAK8R,kBAAkB5H,QAAQ7B,MAAQrI,KAAKgJ,MAAMsG,gB,gCAIlD,MAAO,CACNlQ,MAAOY,KAAK8R,kBAAkB5H,QAAQ7B,MACtCtJ,YAAa,IAAIU,EAChBO,KAAK6R,qBAAqB3H,QAAQ7B,MAClCrI,KAAK2R,sBAAsBzH,QAAQ7B,MACnCrI,KAAK+R,iBAAiB7H,QAAQ7B,MAC9BrI,KAAKgS,iBAAiB9H,QAAQ7B,MAC9BrI,KAAK4R,qBAAqB1H,QAAQ7B,MAClCrI,KAAK0R,sBAAsBxH,QAAQ7B,U,sCAMrC,MAAO,kB,gCAIP,OACC,8BACC,mBAACuI,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,oBACxB,mBAACZ,GAAA,EAAKG,MAAN,eAED,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMjK,YAAYW,aACrCmL,IAAK7K,KAAK6R,qBACV7S,KAAK,YAGP,mBAAC4R,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,oBACxB,mBAACZ,GAAA,EAAKG,MAAN,gBAED,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMjK,YAAYY,cACrCkL,IAAK7K,KAAK2R,sBACV3S,KAAK,aAKR,mBAAC4R,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACS,GAAA,EAAKG,MAAN,cACA,mBAACH,GAAA,EAAKI,QAAN,CAAclG,aAAc9K,KAAKgJ,MAAMsG,cAAezE,IAAK7K,KAAK8R,sBAIlE,mBAAClB,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACS,GAAA,EAAKG,MAAN,mBACA,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMjK,YAAYa,cACrCiL,IAAK7K,KAAK+R,iBACV/S,KAAK,YAGP,mBAAC4R,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACS,GAAA,EAAKG,MAAN,mBACA,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMjK,YAAYc,cACrCgL,IAAK7K,KAAKgS,iBACVhT,KAAK,YAGP,mBAAC4R,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,oBACxB,mBAACZ,GAAA,EAAKG,MAAN,eAED,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMjK,YAAYe,aACrC+K,IAAK7K,KAAK4R,qBACV5S,KAAK,YAGP,mBAAC4R,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,oBACxB,mBAACZ,GAAA,EAAKG,MAAN,gBAED,mBAACH,GAAA,EAAKI,QAAN,CACClG,aAAc9K,KAAKgJ,MAAMjK,YAAYgB,cACrC8K,IAAK7K,KAAK0R,sBACV1S,KAAK,kB,GAhHsBuQ,IAoInBpE,gBAXS,SAAClC,GACxB,MAAO,CACNlK,YAAakK,EAAMlK,YACnBuQ,cAAerG,EAAM7J,UAII,SAACuD,GAC3B,MAAO,KAGOwI,CAA6CsG,ICrItDQ,G,kDACL,WAAYjJ,GAAQ,IAAD,8BAClB,cAAMA,IAEDkJ,aAAe9I,KAAMC,YAC1B,EAAK8I,aAAe/I,KAAMC,YAC1B,EAAK+I,eAAiBhJ,KAAMC,YAC5B,EAAKgJ,iBAAmBjJ,KAAMC,YANZ,E,gEAUlBrJ,KAAKgJ,MAAMkH,eAAe,aAAclQ,KAAKwP,W,2CAI7CxP,KAAKmS,aAAajI,QAAQ7B,MAAQrI,KAAKgJ,MAAM/H,WAAWsI,KACxDvJ,KAAKkS,aAAahI,QAAQ7B,MAAQrI,KAAKgJ,MAAM/H,WAAWZ,MACxDL,KAAKoS,eAAelI,QAAQ7B,MAAQrI,KAAKgJ,MAAM/H,WAAWqR,IAC1DtS,KAAKqS,iBAAiBnI,QAAQ7B,MAAQrI,KAAKgJ,MAAM/H,WAAWsR,gB,gCAI5D,MAAO,CACNtR,WAAY,CACXsI,KAAMtJ,OAAOD,KAAKmS,aAAajI,QAAQ7B,OACvChI,MAAOJ,OAAOD,KAAKkS,aAAahI,QAAQ7B,OACxCiK,IAAKrS,OAAOD,KAAKoS,eAAelI,QAAQ7B,OACxCkK,cAAetS,OAAOD,KAAKqS,iBAAiBnI,QAAQ7B,W,gCAMtD,OACC,mBAACuI,GAAA,EAAKjB,IAAN,KACC,mBAACiB,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,aACxB,mBAACZ,GAAA,EAAKG,MAAN,eAED,mBAACH,GAAA,EAAKI,QAAN,CAAchS,KAAK,SAAS6L,IAAK7K,KAAKkS,aAAcpH,aAAc9K,KAAKgJ,MAAM/H,WAAWZ,SAEzF,mBAACuQ,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,iBACxB,mBAACZ,GAAA,EAAKG,MAAN,eAED,mBAACH,GAAA,EAAKI,QAAN,CAAchS,KAAK,SAAS6L,IAAK7K,KAAKmS,aAAcrH,aAAc9K,KAAKgJ,MAAM/H,WAAWsI,QAEzF,mBAACqH,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,qBACxB,mBAACZ,GAAA,EAAKG,MAAN,iBAED,mBAACH,GAAA,EAAKI,QAAN,CAAchS,KAAK,SAAS6L,IAAK7K,KAAKoS,eAAgBtH,aAAc9K,KAAKgJ,MAAM/H,WAAWqR,OAE3F,mBAAC1B,GAAA,EAAKC,MAAN,CAAYC,GAAIX,MACf,mBAACmB,GAAA,EAAD,CAAgBC,QAAS,mBAACC,GAAA,EAAD,aACxB,mBAACZ,GAAA,EAAKG,MAAN,mBAED,mBAACH,GAAA,EAAKI,QAAN,CACChS,KAAK,SACL6L,IAAK7K,KAAKqS,iBACVvH,aAAc9K,KAAKgJ,MAAM/H,WAAWsR,sB,GA5DThD,IA8ElBpE,gBAVS,SAAClC,GACxB,MAAO,CACNhI,WAAYgI,EAAMhI,eAIO,SAAC0B,GAC3B,MAAO,KAGOwI,CAA6C8G,I,8BCpEtDO,I,wDACL,WAAYxJ,GAAQ,IAAD,8BAClB,cAAMA,IACDyJ,aAAe,EAAKA,aAAa7I,KAAlB,gBACpB,EAAK8I,cAAgB,EAAKA,cAAc9I,KAAnB,gBACrB,EAAKpB,cAAgB,EAAKA,cAAcoB,KAAnB,gBACrB,EAAKsG,eAAiB,EAAKA,eAAetG,KAApB,gBACtB,EAAK+I,gBAAkB,EAAKA,gBAAgB/I,KAArB,gBACvB,EAAKgJ,iBAAmB,EAAKA,iBAAiBhJ,KAAtB,gBAPN,E,iEAWd5J,KAAKgJ,MAAM6J,aAAaC,cAAeC,KAAUC,WAAW,QAAShT,KAAKyS,cACzEM,KAAUE,OAAO,W,qCAGRpR,EAAKqR,GACnBlT,KAAK6B,GAAOqR,I,qCAIZ,IAAIhP,EAAQ,mDACRlE,KAAKkB,aACLlB,KAAKiB,cACLjB,KAAKmT,eACLnT,KAAKR,mBAELQ,KAAKoT,gBAAelP,EAAWzC,OAAOiC,OAAOQ,EAAUlE,KAAKoT,kBAC5DlP,EAAS9E,QAAUY,KAAKgJ,MAAMsG,efA7B,SAAP,2BeAmDtM,CAAekB,EAAS9E,OACzEY,KAAKgJ,MAAMqK,YAAYnP,GACvBlE,KAAKgJ,MAAMsK,gB,wCAIX,YAA8B7P,IAA1BzD,KAAKgJ,MAAMuK,WAEb,mBAACxI,GAAA,EAAD,CAAQP,QAAQ,kBAAkBQ,QAASlC,GAA3C,qBAAqE9I,KAAKgJ,MAAMuK,aAG3E,kC,sCAIP,OAAIvT,KAAKgJ,MAAMZ,MAAc,gCACtB,0BAAK6G,MAAO,CAAEQ,SAAU,KAAxB,IAAgCzP,KAAKgJ,MAAMT,W,yCAIlD,OAAIvI,KAAKgJ,MAAMZ,MAAc,gCACtB,mBAAC,GAAD,CAAuB8H,eAAgBlQ,KAAKkQ,mB,sCAI/ClQ,KAAK0Q,kBAAkB1Q,KAAK0Q,mBAChC1Q,KAAKgJ,MAAMsK,gB,+BAIX,OACC,mBAACE,GAAA,EAAD,CAAOC,KAAMzT,KAAKgJ,MAAM6J,aAAaC,cAAeY,OAAQ1T,KAAK0S,cAAeiB,SAAS,UACxF,mBAACH,GAAA,EAAMI,OAAP,KACC,mBAACJ,GAAA,EAAMK,MAAP,kBAED,mBAACL,GAAA,EAAMM,KAAP,KACC,0BAAKvJ,UAAU,gBACbvK,KAAK4S,mBACN,mBAAC,GAAD,CAAyB1C,eAAgBlQ,KAAKkQ,iBAC9C,mBAAC,GAAD,CAAoBA,eAAgBlQ,KAAKkQ,iBACzC,mBAAC,GAAD,CAAqBA,eAAgBlQ,KAAKkQ,iBAC1C,mBAAC,GAAD,CAAqBA,eAAgBlQ,KAAKkQ,iBACzClQ,KAAKwI,kBAGR,mBAACgL,GAAA,EAAMO,OAAP,KACE/T,KAAK2S,kBACN,mBAAC5H,GAAA,EAAD,CAAQP,QAAQ,kBAAkBQ,QAAShL,KAAK0S,eAAhD,UAGA,mBAAC3H,GAAA,EAAD,CAAQC,QAAShL,KAAKyS,cAAtB,c,GA9EkBrJ,KAAM8B,YAuGdC,gBAlBS,SAAClC,GACxB,MAAO,CACN4J,aAAc5J,EAAM4J,aACpBrM,YAAayC,EAAMzC,YACnB+M,WAAYtK,EAAMsK,WAClBjE,cAAerG,EAAM7J,MACrBmJ,QAASU,EAAMV,QACfH,MAAOa,EAAMb,UAIY,SAACzF,GAC3B,MAAO,CACN0Q,YAAa,SAACnP,GAAD,OAAcvB,EzBxGtB,SAAqBuB,GAC3B,MAAO,CACNlF,KCR0B,eDS1BC,QAAS,CACRiF,SAAUA,IyBoGyBmP,CAAYnP,KAChDoP,YAAa,kBAAM3Q,EAASsD,SAIfkF,CAA6CqH,ICjHtDwB,G,kDACL,WAAYhL,GAAQ,IAAD,8BAClB,cAAMA,IACDiL,MAAQ7K,KAAMC,YACnB,EAAKxD,oBAAsB,EAAKA,oBAAoB+D,KAAzB,gBAHT,E,gEAME,IAAD,OACnB5J,KAAKiU,MAAM/J,QAAQ7B,MAAQ,EAC3BrI,KAAKiU,MAAM/J,QAAQgK,UAAW,EAC9B7O,SACE8O,cAAc,UACd7F,iBAAiB,SAAS,SAAC1F,GAAD,OAC1B,EAAK/C,oBAAoB,EAAKmD,MAAMmE,cAAgBU,KAAKuG,KAAKxL,EAAMyL,c,2CAKlErU,KAAKgJ,MAAM1J,MACdU,KAAKiU,MAAM/J,QAAQoK,IAAMtU,KAAKgJ,MAAM1J,KAAKiV,gBAAgBjU,OAAS,EAClEN,KAAKiU,MAAM/J,QAAQ7B,MAAQrI,KAAKgJ,MAAMmE,cACtCnN,KAAKiU,MAAM/J,QAAQgK,UAAW,IAE9BlU,KAAKiU,MAAM/J,QAAQgK,UAAW,EAC9BlU,KAAKiU,MAAM/J,QAAQ7B,MAAQ,K,0CAITmM,GACnB,GAAKxU,KAAKgJ,MAAM1J,KAAhB,CACAU,KAAKgJ,MAAMjD,uBACX,IAAM0O,EAAezU,KAAKgJ,MAAMmE,cAC1BuH,EAAc1U,KAAKgJ,MAAM1J,KAAKiV,gBAAgBjU,OAAS,EACvDwF,EAAW0O,GAAe,GAAKA,GAAeE,EAAcF,EAAcC,EAChFzU,KAAKgJ,MAAMnD,oBAAoBC,M,+BAGtB,IAAD,OACFmJ,EAAQ,CAAEQ,SAAU,QAC1B,OACC,mBAACI,GAAA,EAAD,KACC,mBAACF,GAAA,EAAD,KACC,mBAACQ,GAAA,EAAD,CAAKwE,GAAI,GAAK1F,MAAOA,GACnBjP,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAMuJ,cAAgBvS,KAAKgJ,MAAMmE,eAAe6B,QAAQ,GAAK,QAEvF,mBAACmB,GAAA,EAAD,KACC,mBAACS,GAAA,EAAKI,QAAN,CACCnG,IAAK7K,KAAKiU,MACVjV,KAAK,QACL8K,SAAU,SAAClB,GAAD,OAAW,EAAK/C,oBAAoB+C,EAAMgM,OAAOvM,WAG7D,mBAAC8H,GAAA,EAAD,CAAKwE,GAAI,GAAK1F,MAAOA,GACnBjP,KAAKgJ,MAAM1J,OAASU,KAAKgJ,MAAM1J,KAAKkN,aAElCqB,KAAKuG,KAAKpU,KAAKgJ,MAAM1J,KAAKiV,gBAAgBjU,SACzCN,KAAKgJ,MAAM1J,KAAKiV,gBAAgBjU,OAAS,GAC1CN,KAAKgJ,MAAMuJ,eACTvD,QAAQ,GACV,c,GA3DgB5F,KAAM8B,WAkFhBC,gBAfS,SAAClC,GACxB,MAAO,CACNkE,cAAelE,EAAMkE,cACrB7N,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxBmH,cAAetJ,EAAMhI,WAAWsR,kBAIP,SAAC5P,GAC3B,MAAO,CACNkD,oBAAqB,SAACC,GAAD,OAAcnD,EAASkD,EAAoBC,KAChEC,qBAAsB,kBAAMpD,EAASoD,SAIxBoF,CAA6C6I,ICjC7Ca,G,kDAhDd,WAAY7L,GAAQ,IAAD,8BAClB,cAAMA,IACD8L,gBAAkB1L,KAAMC,YAFX,E,iEAKG,IAAD,OACfrJ,KAAKgJ,MAAMyK,YACYhQ,IAAxBzD,KAAKgJ,MAAM+L,UAA0D,OAAhC/U,KAAKgJ,MAAM+L,SAAS7K,QAC5D8K,YAAW,kBAAM,EAAKhM,MAAM+L,SAAS7K,QAAQ+K,UAAS,KACb,OAAjCjV,KAAK8U,gBAAgB5K,SAAkBlK,KAAK8U,gBAAgB5K,QAAQ+K,QACzEjV,KAAKgJ,MAAMkM,SACdnC,KAAUC,WAAW,CAAC,SAAU,UAAU,WACrC3N,SAAS8P,gBAAkB,EAAKL,gBAAgB5K,SAChD,EAAKlB,MAAMyK,MAAM,EAAKzK,MAAMkM,gB,+BAKlC,IAAIE,EAAgB,mBAACrK,GAAA,EAAD,CAAQC,QAAShL,KAAKgJ,MAAMkM,SAA5B,WAChBG,EACH,mBAACtK,GAAA,EAAD,CAAQP,QAAQ,kBAAkBQ,QAAShL,KAAKgJ,MAAMsM,MAAOzK,IAAK7K,KAAK8U,iBAAvE,UAaD,YAT2BrR,IAAvBzD,KAAKgJ,MAAMkM,UACdE,EAAgB,gCAChBC,EACC,mBAACtK,GAAA,EAAD,CAAQF,IAAK7K,KAAK8U,gBAAiB9J,QAAShL,KAAKgJ,MAAMsM,OAAvD,OAOD,mBAAC9B,GAAA,EAAD,CAAOC,KAAMzT,KAAKgJ,MAAMyK,KAAMC,OAAQ1T,KAAKgJ,MAAMsM,OAChD,mBAAC9B,GAAA,EAAMI,OAAP,KACC,mBAACJ,GAAA,EAAMK,MAAP,KAAc7T,KAAKgJ,MAAMuM,QAE1B,mBAAC/B,GAAA,EAAMM,KAAP,KAAa9T,KAAKgJ,MAAMwM,MACxB,mBAAChC,GAAA,EAAMO,OAAP,KACEsB,EACAD,Q,GA1CchM,KAAM8B,WCEpBuK,G,kDACL,WAAYzM,GAAQ,IAAD,8BAClB,cAAMA,IACD0M,WAAatM,KAAMC,YACxB,EAAKsM,cAAgBvM,KAAMC,YAC3B,EAAKuM,WAAa,EAAKA,WAAWhM,KAAhB,gBAClB,EAAK5B,WAAa,EAAKA,WAAW4B,KAAhB,gBAClB,EAAKiM,cAAgB,EAAKA,cAAcjM,KAAnB,gBANH,E,iEAUd5J,KAAKgJ,MAAM6J,aAAaiD,kBAAiB9V,KAAK2V,cAAczL,QAAQY,aAAe9K,KAAKgJ,MAAM1E,Y,mCAIlGtE,KAAKgJ,MAAMsK,cACXtT,KAAKgJ,MAAMhB,e,mCAIPhI,KAAK2V,cAAczL,QAAQ7B,QAC9BrI,KAAKgJ,MAAM4M,WAAW5V,KAAK2V,cAAczL,QAAQ7B,OACjDrI,KAAKgJ,MAAMsK,iB,sCAKRtT,KAAK0V,WAAWxL,QAAQ7B,QAAUrI,KAAKgJ,MAAM+M,UAAUC,SAAShW,KAAK0V,WAAWxL,QAAQ7B,SAC3FrI,KAAKgJ,MAAMpI,QAAQZ,KAAK0V,WAAWxL,QAAQ7B,OAC3CrI,KAAKgJ,MAAMiN,qBACXjW,KAAKgJ,MAAMsK,iB,+BAKZ,OACC,8BACC,mBAAC,GAAD,CACCG,KAAMzT,KAAKgJ,MAAM6J,aAAaqD,gBAC9BV,KAAK,wCACLF,MAAOtV,KAAKgJ,MAAMsK,YAClB4B,QAASlV,KAAKgI,WACduN,MAAM,gBAGP,mBAAC,GAAD,CACC9B,KAAMzT,KAAKgJ,MAAM6J,aAAaiD,gBAC9BN,KAAM,mBAAC5K,GAAA,EAAD,CAAaC,IAAK7K,KAAK2V,gBAC7BL,MAAOtV,KAAKgJ,MAAMsK,YAClByB,SAAU/U,KAAK2V,cACfT,QAASlV,KAAK4V,WACdL,MAAM,gBAGP,mBAAC,GAAD,CACCC,KAAM,mBAAC5K,GAAA,EAAD,CAAaC,IAAK7K,KAAK0V,WAAYS,YAAY,cACrD1C,KAAMzT,KAAKgJ,MAAM6J,aAAauD,mBAC9Bd,MAAOtV,KAAKgJ,MAAMsK,YAClB4B,QAASlV,KAAK6V,cACdd,SAAU/U,KAAK0V,WACfH,MAAM,sBAGP,mBAAC,GAAD,CACC9B,KAAMzT,KAAKgJ,MAAM6J,aAAawD,mBAC9Bd,MAAOvV,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM1J,KAAKkN,YAAcxM,KAAKgJ,MAAM1J,KAAKkE,MAAMqF,KAAO,GACrF2M,KACC,8BACExV,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM1J,KAAKkN,YAAnC,UACKxM,KAAKgJ,MAAM1J,KAAKkE,MAAM8S,QAD3B,gBAC0CtW,KAAKgJ,MAAM1J,KAAKkE,MAAM+S,UAC9D,IAGLjB,MAAOtV,KAAKgJ,MAAMsK,cAGnB,mBAAC,GAAD,CACCiC,MAAK,WAAMvV,KAAKgJ,MAAMuK,WAAjB,iBACLE,KAAMzT,KAAKgJ,MAAM6J,aAAa2D,gBAC9BlB,MAAOtV,KAAKgJ,MAAMsK,YAClBkC,KACC,8BACE,gHAMJ,mBAAC,GAAD,CACC/B,KACCzT,KAAKgJ,MAAM6J,aAAa4D,oBAA+C,KAAzBzW,KAAKgJ,MAAMnC,YAAqB7G,KAAKgJ,MAAMZ,MAE1FmN,MAAM,gBACNC,KAAK,oEACLF,MAAOtV,KAAKgJ,MAAMsK,cAGnB,mBAAC,GAAD,CACCG,KAAMzT,KAAKgJ,MAAM6J,aAAa4D,oBAA+C,KAAzBzW,KAAKgJ,MAAMnC,UAC/D0O,MAAM,gBACNC,KAAK,kBACLF,MAAOtV,KAAKgJ,MAAMsK,mB,GArGFlK,KAAM8B,WAkIZC,gBAtBS,SAAClC,GACxB,MAAO,CACN3E,SAAU2E,EAAMmC,aAAenC,EAAMmC,aAAe,GACpD9L,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxB2K,UAAWtU,OAAOC,KAAKuH,EAAM2C,OAC7BiH,aAAc5J,EAAM4J,aACpBU,WAAYtK,EAAMsK,WAClB1M,UAAWoC,EAAMpC,UACjBuB,MAAOa,EAAMb,UAIY,SAACzF,GAC3B,MAAO,CACNsT,mBAAoB,kBAAMtT,EAASkD,EAAoB,KACvDyN,YAAa,kBAAM3Q,EAASsD,MAC5B2P,WAAY,SAAC/U,GAAD,OAAU8B,EzB3EjB,SAAoB9B,GAC1B,MAAO,CACN7B,KCnDyB,cDoDzBC,QAAS,CACR4B,KAAMA,IyBuEwB+U,CAAW/U,KAC1CD,QAAS,SAACC,GAAD,OAAU8B,EAAS/B,EAAQC,KACpCmH,WAAY,kBAAMrF,EzBnFZ,CACN3D,KC7CyB,cD8CzBC,QAAS,SyBqFIkM,CAA6CsK,I,SCjItDiB,G,kDACL,WAAY1N,GAAQ,IAAD,8BAClB,cAAMA,IACDgC,QAAU,EAAKA,QAAQpB,KAAb,gBACf,EAAK+M,cAAgB,EAAKA,cAAc/M,KAAnB,gBAHH,E,gEAOlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgL,W,gCAI9C3F,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OAC/CrK,KAAKgJ,MAAM1J,MAAMU,KAAKgJ,MAAM4N,oB,sCAIhC,OAAI5W,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM6N,cAAsB,mBAAC,KAAD,CAAetM,UAAU,SAC1E,mBAAC,KAAD,CAAUA,UAAU,W,+BAI3B,OACC,mBAACQ,GAAA,EAAD,CACC+L,KAAK,KACLvM,UAAU,OACVS,QAAShL,KAAKgL,QACdkJ,UAAWlU,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM1J,KAAKyX,iBAE7C/W,KAAK2W,gBANP,kB,GAvB8BvN,KAAM8B,WAiDxBC,gBAbS,SAAClC,GACxB,MAAO,CACN3J,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxByL,gBAAe5N,EAAMmC,cAAenC,EAAM2C,MAAM3C,EAAMmC,cAAc5G,gBAI3C,SAAC7B,GAC3B,MAAO,CACNiU,gBAAiB,kBAAMjU,E1BkCjB,CACN3D,KCvF8B,mBDwF9BC,QAAS,S0BhCIkM,CAA6CuL,IC/CtDM,G,kDACL,WAAYhO,GAAQ,IAAD,8BAClB,cAAMA,IACDgC,QAAU,EAAKA,QAAQpB,KAAb,gBAFG,E,gEAMlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgL,W,gCAI9C3F,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OAC9CrK,KAAKgJ,MAAM1J,OAAkC,KAAzBU,KAAKgJ,MAAMnC,WAAqB7G,KAAKgJ,MAAMZ,SAChEpI,KAAKgJ,MAAM1J,KAAKkN,YAAaxM,KAAKgJ,MAAMiO,uBpB0BvC,SAAP,+BoBzBO9O,CAAYnI,KAAKgJ,MAAM1J,KAAMU,KAAKgJ,MAAM1E,SAAUtE,KAAKgJ,MAAMnC,c,+BAIlE,IAAMqQ,EAAgBlX,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM1J,KAAKkN,YACzD,OACC,mBAACzB,GAAA,EAAD,CACC+L,KAAK,KACLvM,UAAU,OACVS,QAAShL,KAAKgL,QACdkJ,UAAWlU,KAAKgJ,MAAM1J,KACtBiW,MAAM,yBACN/K,QAAS0M,EAAgB,SAAW,WAEnCA,EAAgB,mBAAC,KAAD,MAAc,mBAAC,KAAD,W,GA5BH9N,KAAM8B,WAiDvBC,gBAfS,SAAClC,GACxB,MAAO,CACNb,MAAOa,EAAMb,MACbvB,UAAWoC,EAAMpC,UACjBvC,SAAU2E,EAAMmC,aAChB9L,KAAM2J,EAAM2C,MAAM3C,EAAMmC,kBAIC,SAACzI,GAC3B,MAAO,CACNsU,qBAAsB,kBAAMtU,EAASsD,EAAmB,2BAI3CkF,CAA6C6L,I,SCnDtDG,G,kDACL,WAAYnO,GAAQ,IAAD,8BAClB,cAAMA,IACDgC,QAAU,EAAKA,QAAQpB,KAAb,gBAFG,E,gEAMlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgL,W,gCAI9C3F,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OAC/CrK,KAAKgJ,MAAM1J,MAAMU,KAAKgJ,MAAM7C,8B,+BAIhC,OACC,mBAAC4E,GAAA,EAAD,CACC+L,KAAK,KACLvM,UAAU,OACVS,QAAShL,KAAKgL,QACdkJ,UAAWlU,KAAKgJ,MAAM1J,KACtBiW,MAAM,0BACN/K,QAASxK,KAAKgJ,MAAMqF,oBAAsB,UAAY,WAEtD,mBAAC,KAAD,W,GAzB2BjF,KAAM8B,WA4CtBC,gBAbS,SAAClC,GACxB,MAAO,CACN3J,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxBiD,oBAAqBpF,EAAMoF,wBAIF,SAAC1L,GAC3B,MAAO,CACNwD,0BAA2B,kBAAMxD,EAASwD,SAI7BgF,CAA6CgM,I,UC5CtDC,G,kDACL,WAAYpO,GAAQ,IAAD,8BAClB,cAAMA,IACDqO,aAAe,EAAKA,aAAazN,KAAlB,gBACpB,EAAK0N,gBAAkB,EAAKA,gBAAgB1N,KAArB,gBAHL,E,gEAOlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgJ,MAAMuO,0B,qCAGzC,IAAD,OACd,OAAOvX,KAAKgJ,MAAM+M,UAAUxU,KAAI,SAAC+C,EAAU5D,GAC1C,OACC,mBAAC8W,GAAA,EAASC,KAAV,CAAe3G,GAAG,SAASjP,IAAKnB,EAAOsK,QAAS,kBAAM,EAAKsM,gBAAgBhT,KACzEA,Q,sCAMWA,GACXe,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OACnDrK,KAAKgJ,MAAM0O,mBAAmBpT,K,+BAI9B,OACC,mBAACkT,GAAA,EAAD,KACC,mBAACA,GAAA,EAASG,OAAV,CAAiBb,KAAK,MAAM9W,KAAKgJ,MAAM1E,SAAWtE,KAAKgJ,MAAM1E,SAAW,eACxE,mBAACkT,GAAA,EAASI,KAAV,KACE5X,KAAKqX,eACN,mBAACG,GAAA,EAASK,QAAV,MACA,mBAACL,GAAA,EAASC,KAAV,CAAe3G,GAAG,SAAS9F,QAAShL,KAAKgJ,MAAMuO,wBAA/C,kB,GAjCyBnO,KAAM8B,WAwDrBC,gBAdS,SAAClC,GACxB,MAAO,CACN8M,UAAWtU,OAAOC,KAAKuH,EAAM2C,OAC7BtH,SAAU2E,EAAMmC,iBAIS,SAACzI,GAC3B,MAAO,CACN4U,uBAAwB,kBAAM5U,EAASsD,EAAmB,wBAC1DyR,mBAAoB,SAACpT,GAAD,OAAc3B,E7BpB7B,SAA4B2B,GAClC,MAAO,CACNtF,KC1CkC,uBD2ClCC,QAAS,CACRqF,SAAUA,I6BgBgCoT,CAAmBpT,QAIjD6G,CAA6CiM,ICxDtDU,G,kDACL,WAAY9O,GAAQ,IAAD,8BAClB,cAAMA,IACDgC,QAAU,EAAKA,QAAQpB,KAAb,gBAFG,E,gEAMlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgL,W,gCAI9C3F,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OAC/CrK,KAAKgJ,MAAM1J,MAAMU,KAAKgJ,MAAM+O,wB,+BAIhC,OACC,mBAAChN,GAAA,EAAD,CACC+L,KAAK,KACLtM,QAAQ,SACRD,UAAU,OACVgL,MAAM,cACNvK,QAAShL,KAAKgL,QACdkJ,UAAWlU,KAAKgJ,MAAM1J,MAEtB,mBAAC,KAAD,W,GAzB0B8J,KAAM8B,WA2CrBC,gBAZS,SAAClC,GACxB,MAAO,CACN3J,KAAM2J,EAAM2C,MAAM3C,EAAMmC,kBAIC,SAACzI,GAC3B,MAAO,CACNoV,oBAAqB,kBAAMpV,EAASsD,EAAmB,wBAI1CkF,CAA6C2M,IC3CtDE,G,kDACL,WAAYhP,GAAQ,IAAD,8BAClB,cAAMA,IACD6B,IAAMzB,KAAMC,YACjB,EAAK2B,QAAU,EAAKA,QAAQpB,KAAb,gBAHG,E,gEAOlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgL,W,gCAI9ChL,KAAKgJ,MAAM1J,MAAMU,KAAKgJ,MAAMiP,wB,+BAIhC,OACC,mBAAClN,GAAA,EAAD,CACC+L,KAAK,KACLjM,IAAK7K,KAAK6K,IACVN,UAAU,OACVgL,MAAM,cACNvK,QAAShL,KAAKgL,QACdkJ,UAAWlU,KAAKgJ,MAAM1J,MAEtB,mBAAC,KAAD,W,GAzB0B8J,KAAM8B,WA2CrBC,gBAZS,SAAClC,GACxB,MAAO,CACN3J,KAAM2J,EAAM2C,MAAM3C,EAAMmC,kBAIC,SAACzI,GAC3B,MAAO,CACNsV,oBAAqB,kBAAMtV,EAASsD,EAAmB,wBAI1CkF,CAA6C6M,ICnD/CE,GACZ,aAAe,oBACdlY,KAAKoW,oBAAqB,EAC1BpW,KAAKyW,oBAAqB,EAC1BzW,KAAKqW,oBAAqB,EAC1BrW,KAAK8V,iBAAkB,EACvB9V,KAAKkW,iBAAkB,EACvBlW,KAAKwW,iBAAkB,EACvBxW,KAAK8S,eAAgB,GCCjBqF,G,kDACL,WAAYnP,GAAQ,IAAD,8BAClB,cAAMA,IACDgC,QAAU,EAAKA,QAAQpB,KAAb,gBACf,EAAKwO,kBAAoB,EAAKA,kBAAkBxO,KAAvB,gBACzB,EAAKyO,kBAAoB,EAAKA,kBAAkBzO,KAAvB,gBACzB,EAAK0O,oBAAsB,EAAKA,oBAAoB1O,KAAzB,gBAC3B,EAAK2O,wBAA0B,EAAKA,wBAAwB3O,KAA7B,gBANb,E,gEAUlBmJ,KAAUC,WAAW,QAAShT,KAAKgL,SACnCtM,OAAO8Z,UAAY,SAACC,GAAD,OAAqB,KAAdA,EAAEC,W,gCAI5B,GAAItV,KAAKiB,UAAUrE,KAAKgJ,MAAM6J,gBAAkBzP,KAAKiB,UAAU,IAAI6T,IAAnE,CACI7S,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OACnD,IAAIrE,OAAWvC,EACXzD,KAAKoY,sBACJpY,KAAKuY,2BAA2BvY,KAAKgJ,MAAMnD,oBAAoB,GACnEG,EAAW2S,YAAY3Y,KAAKsY,oBAAgD,IAA3BtY,KAAKgJ,MAAMuJ,gBAE7DvS,KAAKgJ,MAAMjD,qBAAqBC,M,4CAI5BhG,KAAKuY,0BAA2BvY,KAAKgJ,MAAMjD,uBAC1C/F,KAAKgJ,MAAMnD,oBAAoB7F,KAAKgJ,MAAMmE,cAAgB,K,0CAI/D,OACCnN,KAAKgJ,MAAM1J,OACVU,KAAKgJ,MAAM4P,oBACX5Y,KAAKgJ,MAAM6J,aAAaC,eACzB9S,KAAKgJ,MAAM1J,KAAKiV,gBAAgBjU,OAAS,I,gDAK1C,OAAON,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM1J,KAAKiV,gBAAgBjU,OAAS,IAAMN,KAAKgJ,MAAMmE,gB,0CAIpF,OAAInN,KAAKgJ,MAAM4P,kBAA0B,mBAAC,KAAD,MAChC5Y,KAAKuY,0BAAkC,mBAAC,KAAD,MACpC,mBAAC,KAAD,Q,+BAIZ,OACC,mBAACxN,GAAA,EAAD,CACC+L,KAAK,KACLvM,UAAU,YACVS,QAAShL,KAAKgL,QACdkJ,UAAWlU,KAAKgJ,MAAM1J,MAAQU,KAAKgJ,MAAM1J,KAAKkN,aAE7CxM,KAAKqY,yB,GA1DkBjP,KAAM8B,WAiFnBC,gBAjBS,SAAClC,GACxB,MAAO,CACNkE,cAAelE,EAAMkE,cACrB7N,KAAM2J,EAAM2C,MAAM3C,EAAMmC,cACxBwN,kBAAmB3P,EAAM2P,kBACzBrG,cAAetJ,EAAMhI,WAAWsR,cAChCM,aAAc5J,EAAM4J,iBAIK,SAAClQ,GAC3B,MAAO,CACNoD,qBAAsB,SAACC,GAAD,OAAcrD,EAASoD,EAAqBC,KAClEH,oBAAqB,SAACC,GAAD,OAAcnD,EAASkD,EAAoBC,QAInDqF,CAA6CgN,IClFtDU,G,kDACL,WAAY7P,GAAQ,IAAD,8BAClB,cAAMA,IACDgC,QAAU,EAAKA,QAAQpB,KAAb,gBAFG,E,gEAMlBmJ,KAAUC,WAAW,CAAC,YAAa,SAAUhT,KAAKgL,SAClD+H,KAAUC,WAAW,MAAOhT,KAAKgJ,MAAM0J,iB,gCAInCrN,SAAS8P,eAAe9P,SAAS8P,cAAc9K,OACnDrK,KAAKgJ,MAAM8P,iB,+BAIX,OACC,mBAAC/N,GAAA,EAAD,CACC+L,KAAK,KACLvM,UAAU,OACVgL,MAAM,WACNvK,QAAShL,KAAKgL,QACdR,QAASxK,KAAKgJ,MAAMuK,WAAa,UAAY,WAE7C,mBAAC,KAAD,W,GAzBwBnK,KAAM8B,WA4CnBC,gBAbS,SAAClC,GACxB,MAAO,CACNsK,WAAYtK,EAAMsK,eAIO,SAAC5Q,GAC3B,MAAO,CACNmW,aAAc,kBAAMnW,EAASsD,EAAmB,mBAChDyM,cAAe,kBAAM/P,EAASsD,SAIjBkF,CAA6C0N,ICxCtDE,G,uKAEJ,OACC,mBAAClJ,GAAA,EAAD,KACC,mBAACF,GAAA,EAAD,KACC,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,Y,GAZevG,KAAM8B,WA2BXC,gBARS,SAAClC,GACxB,MAAO,MAGmB,SAACtG,GAC3B,MAAO,KAGOwI,CAA6C4N,ICzBtDC,G,mL1BTC,SAAP,2B0BWEC,CAAejZ,KAAKgJ,MAAMrG,U7BXrB,SAAP,2B6BYEuW,CAAYlZ,KAAKgJ,MAAMrG,UACvBoQ,KAAUC,WAAW,OAAO,WACvB3N,SAAS8P,eAAe9P,SAAS8P,cAAc9K,Y,+BAKpD,OACC,0BAAKE,UAAU,OACd,mBAACsF,GAAA,EAAD,CAAWsJ,MAAM,MAChB,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,MACA,mBAAC,GAAD,Y,GAlBa/P,KAAM8B,WAoCTkO,GADHjO,aAVY,SAAClC,GACxB,MAAO,MAGmB,SAACtG,GAC3B,MAAO,CACNA,SAAU,SAAC0F,GAAD,OAAW1F,EAAS0F,OAIpB8C,CAA6C6N,I,oBC7C5CK,GAAe,CAE3BxG,aAAc,IAAIqF,GAClBvM,wBAAoBlI,EACpBmV,uBAAmBnV,EACnB4K,qBAAqB,EACrBjD,kBAAc3H,EACd0J,cAAe,EAGfjM,UAAW0C,OACXgI,MAAO,GAGPpM,gBAAiB,IAAIY,EACrBa,WAAY,IAAI2C,OAAKC,WACrB9E,YAAa,IAAIU,EACjB+G,YAAa,GACbK,UAAW,GACX1H,SAAU,GACVC,MAAO,GAGPmU,gBAAY9P,EACZ8E,QAAS,QACTH,OAAO,G,SCnBR,SAASiL,GAAYpK,EAAOhK,GAE3B,O/ByBM,SAAP,2B+B1BCiJ,CAAgBjJ,EAAQiF,UACjB,uCAAK+E,GAAUhK,EAAQiF,UAA9B,IAAwCkH,kBAAc3H,EAAW4K,qBAAqB,I,aCJvF,SAASxI,GAAoBoD,EAAOhK,GACnC,OAAO,2BAAKgK,GAAZ,IAAmBkE,cAAelN,OAAOhB,EAAQ6G,YAGlD,SAASC,GAAqBkD,EAAOhK,GACpC,OAAKgK,EAAM2P,mBAAqB3Z,EAAQ+G,SAAiB,2BAAKiD,GAAZ,IAAmB2P,kBAAmB3Z,EAAQ+G,YAChGsT,cAAcrQ,EAAM2P,mBACb,2BAAK3P,GAAZ,IAAmB2P,uBAAmBnV,KCqBvC,SAASjD,GAAYyI,EAAOhK,GAC3B,IAAMsa,EAAQ,eAAQtQ,GAChBnI,EAAYmI,EAAM2C,MAAM3C,EAAMmC,cAActK,UAAUS,KAAI,SAACmK,EAAShL,GACzE,OAAIA,IAAUzB,EAAQyB,MAAcgL,EA1BtC,SAAwBzC,EAAOxI,EAAU2J,EAAQnJ,EAAYlC,GAC5D,IAAMya,EAAoB,CACzBjX,EAAGtC,OAAOwZ,MAAMrP,EAAO7H,GAAK9B,EAAS8B,EAAI6H,EAAO7H,EAChDC,EAAGvC,OAAOwZ,MAAMrP,EAAO5H,GAAK/B,EAAS+B,EAAI4H,EAAO5H,EAChD8G,EAAGrJ,OAAOwZ,MAAMrP,EAAOd,GAAK7I,EAAS6I,EAAIc,EAAOd,EAChDC,KAAMtJ,OAAOwZ,MAAMrP,EAAOb,MAAQ9I,EAAS8I,KAAOa,EAAOb,KACzDjH,MAAOrC,OAAOwZ,MAAMrP,EAAO9H,OAAS7B,EAAS6B,MAAQ8H,EAAO9H,MAC5DoH,WAAYzJ,OAAOwZ,MAAMrP,EAAOV,YAAcjJ,EAASiJ,WAAaU,EAAOV,YAa5E,OAVI8P,EAAkBjX,EAAI,IAAGiX,EAAkBjX,EAAI,GAC/CiX,EAAkBjX,EAAIxD,EAAYW,eAAc8Z,EAAkBjX,EAAIxD,EAAYW,cAClF8Z,EAAkBhX,EAAI,IAAGgX,EAAkBhX,EAAI,GAC/CgX,EAAkBhX,EAAIzD,EAAYY,gBAAe6Z,EAAkBhX,EAAIzD,EAAYY,eACnF6Z,EAAkBlQ,EAAI,IAAGkQ,EAAkBlQ,EAAI,GAC/CkQ,EAAkBlQ,EAAIrI,EAAWsI,OAAMiQ,EAAkBlQ,EAAIrI,EAAWsI,MACxEiQ,EAAkBjQ,KAAO,IAAGiQ,EAAkBjQ,KAAO,GACrDiQ,EAAkBjQ,KAAOtI,EAAWsI,OAAMiQ,EAAkBjQ,KAAOtI,EAAWsI,WAE7C9F,IAAjC+V,EAAkB9P,mBAAiC8P,EAAkB9P,WAClEjI,OAAOiC,OAAO,IAAIuF,EAAM/H,UAAUwY,SAAYF,GAOxCG,CAAe1Q,EAAOyC,EAASzM,EAAQwB,SAAUwI,EAAMhI,WAAYgI,EAAMlK,gBAKtF,OAHAwa,EAAS3N,MAAM3C,EAAMmC,cAAgB,IAAInC,EAAM/H,UAAU0Y,KAAK9Y,EAAWyY,EAAStY,YAC9EgI,EAAM2C,MAAM3C,EAAMmC,cAAc5G,aAAa+U,EAAS3N,MAAM3C,EAAMmC,cAAcwL,kBACpF7O,EAAakB,EAAMmC,aAAcmO,EAAS3N,MAAM3C,EAAMmC,eAC/CmO,EAuBR,SAASM,GAAW5Q,EAAOhK,GAC1B,IAAMsa,EAAQ,2BAAQtQ,GAAR,IAAeoF,qBAAqB,IAIlD,cAHOkL,EAAS3N,MAAM3C,EAAMmC,cAC5BmO,EAASnO,kBAAe3H,EjC9ClB,SAAP,6BiC+CCuE,CAAWiB,EAAMmC,aAAcnC,EAAMpC,WAC9B0S,EAGR,SAAS3D,GAAW3M,EAAOhK,GAC1B,IAAMsa,EAAQ,2BAAQtQ,GAAR,IAAemC,aAAcnM,EAAQ4B,OAMnD,OALI5B,EAAQ4B,OAASoI,EAAMmC,eAC1BmO,EAAS3N,MAAM3M,EAAQ4B,MAAQ0Y,EAAS3N,MAAM3C,EAAMmC,qBAC7CmO,EAAS3N,MAAM3C,EAAMmC,cjCjDvB,SAAP,6BiCkDEnD,CAAegB,EAAMmC,aAAcnM,EAAQ4B,OAErC0Y,EC3ER,IAAMO,GAAWC,aAAeV,IF0BjB,SAAcpQ,EAAO+Q,GAKnC,MlCtCsC,4BkCkClCA,EAAOhb,MlCjCyB,0BkCiCWgb,EAAOhb,OAErDiK,EAAQpD,GADRoD,EAAQlD,GAAqBkD,EAAO,IACD,CAAEnD,SAAU,KlClCb,yBkCoC/BkU,EAAOhb,KArBZ,SAA4BiK,EAAOhK,GAClC,IAAMsa,EAAQ,2BAAQtQ,GAAR,IAAe4J,aAAc,IAAIqF,KAE/C,YADsBzU,IAAlBxE,EAAQiH,QAAqBqT,EAAS1G,aAAa5T,EAAQiH,QAAU+C,EAAM4J,aAAa5T,EAAQiH,QAC7FqT,EAkB0CtT,CAAmBgD,EAAO+Q,EAAO/a,SlCrC9C,0BkCsChC+a,EAAOhb,KAAuC6G,GAAoBoD,EAAO+Q,EAAO/a,SlCvC9C,4BkCwClC+a,EAAOhb,KAAyC+G,GAAqBkD,EAAO+Q,EAAO/a,SlCzC3C,kCkC0CxC+a,EAAOhb,KAlBZ,SAAmCiK,EAAOhK,GACzC,IAAMyB,OAAqC+C,IAA7BwF,EAAM0C,wBAAmClI,EAAYxE,EAAQyB,MACrEuZ,OAA2BxW,IAAlBxE,EAAQyB,QAA8BuI,EAAMoF,oBAC3D,OAAO,2BACHpF,GADJ,IAECoF,oBAAqB4L,EACrBtO,mBAAoBjL,IAYqCyF,CAA0B8C,EAAO+Q,EAAO/a,SAC3FgK,KCwFO,SAAcA,EAAO+Q,GACnC,MvC5HuB,auC4HnBA,EAAOhb,KA9CZ,SAAiBiK,EAAOhK,GACvB,IAAMsa,EAAQ,eAAQtQ,GAChBnI,EAAY,GASlB,OARI7B,EAAQ6B,WACX7B,EAAQ6B,UAAUgD,SAAQ,SAACrD,GAC1BK,EAAUoZ,KAAKzY,OAAOiC,OAAO,IAAIuF,EAAM/H,UAAUwY,SAAYjZ,OAE/D8Y,EAAS3N,MAAM3M,EAAQ4B,MAAQ,IAAIoI,EAAM/H,UAAU0Y,KAAK9Y,EAAWmI,EAAMhI,YACrEhC,EAAQ8B,aAAawY,EAAS3N,MAAM3M,EAAQ4B,MAAM+V,kBACtD2C,EAASnO,aAAenM,EAAQ6B,eAAY2C,EAAYxE,EAAQ4B,KAC3D5B,EAAQ6B,WAAWiH,EAAa9I,EAAQ4B,KAAM0Y,EAAS3N,MAAM3M,EAAQ4B,OACnE0Y,EAmC8B3Y,CAAQqI,EAAO+Q,EAAO/a,SvC7HjC,gBuC8HtB+a,EAAOhb,KAA6B4W,GAAW3M,EAAO+Q,EAAO/a,SvC/HvC,gBuCgItB+a,EAAOhb,KAA6B6a,GAAW5Q,EAAO+Q,EAAO/a,SvCjItC,iBuCkIvB+a,EAAOhb,KAnCZ,SAAqBiK,EAAOhK,GAC3B,IAAM6B,EAAY,GACZsJ,EAAM,eAAQnL,EAAQwB,UACtB0Z,EAAc1Y,OAAOiC,OAAO,IAAIuF,EAAM/H,UAAUwY,SAAYtP,GAClEnB,EAAM2C,MAAM3C,EAAMmC,cAActK,UAAUgD,SAAQ,SAACrD,EAAUC,GAC5DI,EAAUoZ,KAAKzZ,GACXC,IAAUuI,EAAM0C,oBAAoB7K,EAAUoZ,KAAKC,WAEvB1W,IAA7BwF,EAAM0C,oBAAkC7K,EAAUoZ,KAAKC,GAC3D,IAAMZ,EAAQ,2BAAQtQ,GAAR,IAAe0C,wBAAoBlI,IAKjD,OAJA8V,EAAS3N,MAAM3C,EAAMmC,cAAgB,IAAInC,EAAM/H,UAAU0Y,KAAK9Y,EAAWmI,EAAMhI,iBAC9CwC,IAA7BwF,EAAM0C,qBAAkC4N,EAASlL,qBAAsB,GACvEpF,EAAM2C,MAAM3C,EAAMmC,cAAc5G,aAAa+U,EAAS3N,MAAM3C,EAAMmC,cAAcwL,kBACpF7O,EAAakB,EAAMmC,aAAcmO,EAAS3N,MAAM3C,EAAMmC,eAC/CmO,EAqBkCxK,CAAY9F,EAAO+Q,EAAO/a,SvCnIxC,iBuCoIvB+a,EAAOhb,KAA8BwB,GAAYyI,EAAO+Q,EAAO/a,SvCrIrC,oBuCsI1B+a,EAAOhb,KApBZ,SAAuBiK,EAAOhK,GAC7B,IAAMgC,EAAaQ,OAAOiC,OAAO,IAAIuF,EAAM/H,UAAU2C,WAAc5E,EAAQgC,YACrEsY,EAAQ,2BAAQtQ,GAAR,IAAehI,WAAYA,IAEzC,OADIhC,EAAQiC,YAAWqY,EAASrY,UAAYjC,EAAQiC,WAC7CqY,EAgBqCvY,CAAciI,EAAO+Q,EAAO/a,SvCvI1C,oBuCwI1B+a,EAAOhb,KA1FZ,SAAwBiK,EAAOhK,GAC9B,IAAM6B,EAAY,GACZyY,EAAQ,eAAQtQ,GAOtB,OANAA,EAAM2C,MAAM3C,EAAMmC,cAActK,UAAUgD,SAAQ,SAAC4H,EAAShL,GACvDA,IAAUzB,EAAQyB,OAAOI,EAAUoZ,KAAKxO,MAE7C6N,EAAS3N,MAAM3C,EAAMmC,cAAgB,IAAInC,EAAM/H,UAAU0Y,KAAK9Y,EAAWyY,EAAStY,YAC9EgI,EAAM2C,MAAM3C,EAAMmC,cAAc5G,aAAa+U,EAAS3N,MAAM3C,EAAMmC,cAAcwL,kBACpF7O,EAAakB,EAAMmC,aAAcmO,EAAS3N,MAAM3C,EAAMmC,eAC/CmO,EAiFqC5Y,CAAesI,EAAO+Q,EAAO/a,SvCzI1C,qBuC0I3B+a,EAAOhb,KAfZ,SAAyBiK,EAAOhK,GAC/B,IAAMsa,EAAQ,eAAQtQ,GAGtB,OAFAsQ,EAAS3N,MAAM3C,EAAMmC,cAAcwL,kBACnC7O,EAAakB,EAAMmC,aAAcmO,EAAS3N,MAAM3C,EAAMmC,eAC/CmO,EAWsC3C,CAAgB3N,EAAO+Q,EAAO/a,SvC3IxC,yBuC4I/B+a,EAAOhb,KAhFZ,SAA4BiK,EAAOhK,GAClC,IAAMmb,EAAUnR,EAAM2C,MAAM3M,EAAQqF,UAC9BiV,EAAQ,2BAAQtQ,GAAR,IAAemC,aAAcnM,EAAQqF,WAGnD,OAFAiV,EAAS3N,MAAM3M,EAAQqF,UAAY,IAAI2E,EAAM/H,UAAU0Y,KAAKQ,EAAQtZ,UAAWmI,EAAMhI,YACjFmZ,EAAQ5V,aAAa+U,EAAS3N,MAAM3M,EAAQqF,UAAUsS,kBACnD2C,EA2E0C7B,CAAmBzO,EAAO+Q,EAAO/a,SAC3EgK,KF1GO,SAAiBA,EAAO+Q,GACtC,MxC/BwB,cwC+BpBA,EAAOhb,KAbZ,SAAkBiK,EAAOhK,GACxB,OAAO,2BAAKgK,GAAZ,IAAmB7J,MAAOH,EAAQG,MAAOD,SAAUF,EAAQE,WAYrBD,CAAS+J,EAAO+Q,EAAO/a,SxChClC,iBwCiCvB+a,EAAOhb,KAVZ,SAAoBiK,EAAOhK,GAC1B,OAAO,2BAAKgK,GAAZ,IAAmBpC,UAAW5H,EAAQK,OASGD,CAAW4J,EAAO+Q,EAAO/a,SxClCvC,iBwCmCvB+a,EAAOhb,KAA8BqU,GAAYpK,EAAO+Q,EAAO/a,SxCrCpC,qBwCsC3B+a,EAAOhb,KAxBZ,SAAwBiK,EAAOhK,GAC9B,OAAO,2BAAKgK,GAAZ,IAAmBzC,YAAavH,EAAQuH,YAAa4E,kBAAc3H,EAAWmI,MAAO,KAuBxCyO,CAAepR,EAAO+Q,EAAO/a,SxCrC3C,qBwCsC3B+a,EAAOhb,KArBZ,SAAwBiK,EAAOhK,GAC9B,OAAO,2BAAKgK,GAAZ,IAAmBlK,YAAaE,EAAQF,cAoBKD,CAAemK,EAAO+Q,EAAO/a,SxCxCtC,0BwCyChC+a,EAAOhb,KAVZ,SAA4BiK,EAAOhK,GAClC,OAAO,2BAAKgK,GAAZ,IAAmBzJ,gBAAiBP,EAAQO,kBASMD,CAAmB0J,EAAO+Q,EAAO/a,SAC5EgK,KIzBO,SAAaA,EAAO+Q,GAClC,MjChB2B,iBiCgBvBA,EAAOhb,KAfZ,SAAqBiK,EAAOhK,GAC3B,OAAO,2BAAKgK,GAAZ,IAAmBb,MAAOnJ,EAAQmJ,QAcOkS,CAAYrR,EAAO+Q,EAAO/a,SjClBrC,oBiCmB1B+a,EAAOhb,KAZZ,SAAuBiK,EAAOhK,GAC7B,OAAO,2BAAKgK,GAAZ,IAAmBV,QAAStJ,EAAQsJ,UAWQD,CAAcW,EAAO+Q,EAAO/a,SjClB1C,oBiCmB1B+a,EAAOhb,KATZ,SAAuBiK,EAAOhK,GAC7B,IAAMsa,EAAQ,2BAAQtQ,GAAR,IAAesK,WAAYtU,EAAQsJ,QAASsK,aAAc,IAAIqF,KAE5E,OADAqB,EAAS1G,aAAa2D,iBAAkB,EACjC+C,EAMqCgB,CAActR,EAAO+Q,EAAO/a,SACjEgK,KDLOuR,OAPDC,aAAYX,I,OEA1BY,KAASC,OACR,mBAAC,IAAD,CAAUH,MAAOA,IAChB,mBAAC,GAAD,OAEDnV,SAASuV,eAAe,S/C+GpB,kBAAmBC,WACtBA,UAAUC,cAAcC,MACtBC,MAAK,SAACC,GACNA,EAAaC,gBAEbC,OAAM,SAAC3X,GACP4X,QAAQ5X,MAAMA,EAAM6X,a","file":"static/js/main.0ac3a894.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import {\n\tSET_ROBOT_DRAW_CONFIG,\n\tSET_PROJECT_PATH,\n\tSET_FIELD_CONFIG,\n\tSET_SETTINGS,\n\tSET_CSV_PATH,\n\tSET_IMAGE,\n} from './action-types';\n\nexport function setSettings(settings) {\n\treturn {\n\t\ttype: SET_SETTINGS,\n\t\tpayload: {\n\t\t\tsettings: settings,\n\t\t},\n\t};\n}\n\nexport function setProjectPath(path) {\n\treturn {\n\t\ttype: SET_PROJECT_PATH,\n\t\tpayload: {\n\t\t\tprojectPath: path,\n\t\t},\n\t};\n}\n\nexport function setFieldConfig(fieldConfig) {\n\treturn {\n\t\ttype: SET_FIELD_CONFIG,\n\t\tpayload: {\n\t\t\tfieldConfig: fieldConfig,\n\t\t},\n\t};\n}\n\nexport function setImage(imageUrl, image) {\n\treturn {\n\t\ttype: SET_IMAGE,\n\t\tpayload: {\n\t\t\timageUrl: imageUrl,\n\t\t\timage: image,\n\t\t},\n\t};\n}\n\nexport function setCSVPath(path) {\n\treturn {\n\t\ttype: SET_CSV_PATH,\n\t\tpayload: {\n\t\t\tpath: path,\n\t\t},\n\t};\n}\n\nexport function setRobotDrawConfig(robotDrawConfig) {\n\treturn {\n\t\ttype: SET_ROBOT_DRAW_CONFIG,\n\t\tpayload: {\n\t\t\trobotDrawConfig: robotDrawConfig,\n\t\t},\n\t};\n}\n","export const SET_ROBOT_DRAW_CONFIG = 'SET_ROBOT_DRAW_CONFIG';\nexport const SET_PROJECT_PATH = 'SET_PROJECT_PATH';\nexport const SET_FIELD_CONFIG = 'SET_FIELD_CONFIG';\nexport const SET_SETTINGS = 'SET_SETTINGS';\nexport const SET_CSV_PATH = 'SET_CSV_PATH';\nexport const SET_IMAGE = 'SET_IMAGE';\n","export class FieldConfig {\n\tconstructor(\n\t\twidthInMeter = 16.5354,\n\t\theightInMeter = 8.001,\n\t\ttopLeftXPixel = 0,\n\t\ttopLeftYPixel = 0,\n\t\twidthInPixel = 0,\n\t\theigthInPixel = 0\n\t) {\n\t\tthis.widthInMeter = Number(widthInMeter);\n\t\tthis.heightInMeter = Number(heightInMeter);\n\t\tthis.topLeftXPixel = Number(topLeftXPixel);\n\t\tthis.topLeftYPixel = Number(topLeftYPixel);\n\t\tthis.widthInPixel = Number(widthInPixel);\n\t\tthis.heigthInPixel = Number(heigthInPixel);\n\n\t\tthis.widthPixelToMeter = widthInPixel === 0 ? 0 : widthInMeter / widthInPixel;\n\t\tthis.hightPixelToMeter = heigthInPixel === 0 ? 0 : heightInMeter / heigthInPixel;\n\t}\n}\n\nexport class RobotDrawConfig {\n\tconstructor(width = 0, length = 0, center = 0) {\n\t\tthis.center = Number(center);\n\t\tthis.length = Number(length);\n\t\tthis.width = Number(width);\n\t}\n}\n","import {\n\tCHANGE_SELECTED_PATH,\n\tCHANGE_DIRECTION,\n\tREMOVE_WAYPOINT,\n\tSET_PATH_CONFIG,\n\tADD_WAYPOINT,\n\tSET_WAYPOINT,\n\tDELETE_PATH,\n\tRENAME_PATH,\n\tADD_PATH,\n} from './action-types';\n\nexport function addWaypoint(waypoint) {\n\treturn {\n\t\ttype: ADD_WAYPOINT,\n\t\tpayload: {\n\t\t\twaypoint: waypoint,\n\t\t},\n\t};\n}\n\nexport function setWaypoint(waypoint, index) {\n\treturn {\n\t\ttype: SET_WAYPOINT,\n\t\tpayload: {\n\t\t\twaypoint: waypoint,\n\t\t\tindex: index,\n\t\t},\n\t};\n}\n\nexport function removeWaypoint(index) {\n\treturn {\n\t\ttype: REMOVE_WAYPOINT,\n\t\tpayload: {\n\t\t\tindex: index,\n\t\t},\n\t};\n}\n\nexport function changeSelectedPath(pathName) {\n\treturn {\n\t\ttype: CHANGE_SELECTED_PATH,\n\t\tpayload: {\n\t\t\tpathName: pathName,\n\t\t},\n\t};\n}\n\nexport function deletePath() {\n\treturn {\n\t\ttype: DELETE_PATH,\n\t\tpayload: {},\n\t};\n}\n\nexport function renamePath(name) {\n\treturn {\n\t\ttype: RENAME_PATH,\n\t\tpayload: {\n\t\t\tname: name,\n\t\t},\n\t};\n}\n\nexport function addPath(name, waypoints, isInReverse) {\n\treturn {\n\t\ttype: ADD_PATH,\n\t\tpayload: {\n\t\t\tname: name,\n\t\t\twaypoints: waypoints,\n\t\t\tisInReverse: isInReverse,\n\t\t},\n\t};\n}\n\nexport function setPathConfig(pathConfig, driveType) {\n\treturn {\n\t\ttype: SET_PATH_CONFIG,\n\t\tpayload: {\n\t\t\tpathConfig: pathConfig,\n\t\t\tdriveType: driveType,\n\t\t},\n\t};\n}\n\nexport function changeDirection() {\n\treturn {\n\t\ttype: CHANGE_DIRECTION,\n\t\tpayload: {},\n\t};\n}\n","export const CHANGE_SELECTED_PATH = 'CHANGE_SELECTED_PATH';\nexport const CHANGE_DIRECTION = 'CHANGE_DIRECTION';\nexport const REMOVE_WAYPOINT = 'REMOVE_WAYPOINT';\nexport const SET_PATH_CONFIG = 'SET_PATH_CONFIG';\nexport const SET_WAYPOINT = 'SET_WAYPOINT';\nexport const ADD_WAYPOINT = 'ADD_WAYPOINT';\nexport const DELETE_PATH = 'DELETE_PATH';\nexport const RENAME_PATH = 'RENAME_PATH';\nexport const ADD_PATH = 'ADD_PATH';\n","import { Util } from 'path-generator';\n\nexport function getSetpointsCSV(setpoints) {\n\tvar setpointKeys = [];\n\tconst csvLines = setpoints.map((setpoint, index) => {\n\t\tif (index === 0) setpointKeys = getSetpointKeys(setpoint);\n\t\treturn getSetpointCSV(setpoint, setpointKeys);\n\t});\n\treturn `${setpointKeys.join(',')},\\n${csvLines.join('\\n')}`;\n}\n\nfunction getSetpointKeys(setpoint) {\n\treturn Object.keys(setpoint).sort();\n}\n\nfunction getSetpointCSV(setpoint, keys) {\n\tconst csvLine = keys.map((key) => {\n\t\treturn setpoint[key];\n\t});\n\treturn csvLine.join(',') + ',';\n}\n\nexport function getCoordsCSV(path) {\n\tconst csvLines = path.coords.map((coord) => {\n\t\treturn getCoordCSV(coord);\n\t});\n\treturn getCoordCSV() + csvLines.join('\\n');\n}\n\nfunction getCoordCSV(coord) {\n\tif (!coord) return 'Angle,X,Y,\\n';\n\treturn `${Util.r2d(coord.angle)},${coord.x},${coord.y},`;\n}\n","import { setRobotDrawConfig, setFieldConfig, setImage } from '../redux/project/actions';\nimport { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { setPathConfig, addPath } from '../redux/path/actions';\nimport { getCoordsCSV, getSetpointsCSV } from './csv-handler';\nimport { Swerve, Tank } from 'path-generator';\nimport * as JSZip from 'jszip';\n\nexport default class LocalStorageHandler {\n\tconstructor(callback) {\n\t\tthis.dispatch = callback;\n\t\tthis.load();\n\t}\n\n\tasync load() {\n\t\tthis.loadJsonProject();\n\t\tthis.loadRobotDrawConfig();\n\t\tthis.loadFieldConfig();\n\t\tthis.loadFieldImage();\n\t\tthis.loadPathConfig();\n\t\tthis.loadPaths();\n\t}\n\n\tloadJsonProject() {\n\t\ttry {\n\t\t\tthis.jsonProject = JSON.parse(localStorage.getItem('project settings'));\n\t\t} catch (error) {\n\t\t\tthis.jsonProject = undefined;\n\t\t}\n\t}\n\n\tasync loadRobotDrawConfig() {\n\t\tlet robotDrawConfig = new RobotDrawConfig();\n\t\tif (this.jsonProject && this.jsonProject.robotDrawConfig)\n\t\t\trobotDrawConfig = Object.assign(new RobotDrawConfig(), this.jsonProject.robotDrawConfig);\n\t\tthis.dispatch(setRobotDrawConfig(robotDrawConfig));\n\t}\n\n\tasync loadFieldConfig() {\n\t\tlet fieldConfig = new FieldConfig();\n\t\tif (this.jsonProject && this.jsonProject.fieldConfig)\n\t\t\tfieldConfig = Object.assign(new FieldConfig(), this.jsonProject.fieldConfig);\n\t\tthis.dispatch(setFieldConfig(fieldConfig));\n\t}\n\n\tasync loadFieldImage(image) {\n\t\ttry {\n\t\t\timage = image ? image : this.jsonProject.image;\n\t\t\tthis.dispatch(setImage(image, image));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setImage('', ''));\n\t\t}\n\t}\n\n\tasync loadPathConfig() {\n\t\ttry {\n\t\t\tthis.jsonProject.driveType = this.jsonProject.driveType ? this.jsonProject.driveType : 'tank';\n\t\t\tconst driveType = this.jsonProject.driveType === 'swerve' ? Swerve : Tank;\n\t\t\tconst pathConfig = this.jsonProject.pathConfig ? this.jsonProject.pathConfig : {};\n\t\t\tthis.dispatch(setPathConfig(pathConfig, driveType));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setPathConfig(new Tank.PathConfig(), Tank));\n\t\t}\n\t}\n\n\tasync loadPaths() {\n\t\tObject.keys(localStorage).forEach((key) => {\n\t\t\tif (key.startsWith('path/')) this.loadPath(key);\n\t\t});\n\t}\n\n\tasync loadPath(key) {\n\t\ttry {\n\t\t\tconst path = JSON.parse(localStorage.getItem(key));\n\t\t\tthis.dispatch(addPath(key.replace('path/', ''), path.waypoints, path.isInReverse));\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonProject(settings) {\n\t\tconst projectSettings = { ...settings };\n\t\tprojectSettings.driveType = settings.driveType === Swerve ? 'swerve' : 'tank';\n\t\tlocalStorage.setItem('project settings', JSON.stringify(projectSettings));\n\t}\n\n\tasync saveJsonPath(pathName, path) {\n\t\tconst data = { isInReverse: path.isReverse(), waypoints: path.waypoints };\n\t\tlocalStorage.setItem(`path/${pathName}`, JSON.stringify(data));\n\t}\n\n\tasync saveCSVPath(path, pathName) {\n\t\ttry {\n\t\t\tlet zip = new JSZip();\n\t\t\tlet folder = zip.folder(pathName);\n\t\t\tObject.keys(path).forEach((key) => {\n\t\t\t\tif (!key.endsWith('Setpoints')) return;\n\t\t\t\tconst fileName = `${pathName}.${key.replace('_', '').replace('Setpoints', '')}.csv`;\n\t\t\t\tfolder.file(fileName, getSetpointsCSV(path[key]));\n\t\t\t});\n\t\t\tfolder.file(`${pathName}.coords.csv`, getCoordsCSV(path));\n\t\t\tconst blob = await zip.generateAsync({ type: 'blob' });\n\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.download = `${pathName}.zip`;\n\t\t\tlink.href = url;\n\t\t\tlink.click();\n\t\t} catch (error) {}\n\t}\n\n\tasync deletePath(pathName) {\n\t\tlocalStorage.removeItem(`path/${pathName}`);\n\t}\n\n\tasync renameJsonPath(oldName, newName) {\n\t\tconst path = localStorage.getItem(`path/${oldName}`);\n\t\tlocalStorage.setItem(`path/${newName}`, path);\n\t\tlocalStorage.removeItem(`path/${oldName}`);\n\t}\n}\n","import {\n\tCHANGE_LISTEN_TO_MOUSE_STATUS,\n\tSET_DRAW_ROBOT_INTERVAL,\n\tCHANGE_RANGE_POSITION,\n\tCHANGE_POPUPS_STATUS,\n} from './action-types';\n\nexport function changeRangePosition(position) {\n\treturn {\n\t\ttype: CHANGE_RANGE_POSITION,\n\t\tpayload: {\n\t\t\tposition: position,\n\t\t},\n\t};\n}\n\nexport function setDrawRobotInterval(interval) {\n\treturn {\n\t\ttype: SET_DRAW_ROBOT_INTERVAL,\n\t\tpayload: {\n\t\t\tinterval: interval,\n\t\t},\n\t};\n}\n\nexport function changePopupsStatus(popup) {\n\treturn {\n\t\ttype: CHANGE_POPUPS_STATUS,\n\t\tpayload: {\n\t\t\tpopup: popup,\n\t\t},\n\t};\n}\n\nexport function changeListenToMouseStatus(index) {\n\treturn {\n\t\ttype: CHANGE_LISTEN_TO_MOUSE_STATUS,\n\t\tpayload: {\n\t\t\tindex: index,\n\t\t},\n\t};\n}\n","export const CHANGE_LISTEN_TO_MOUSE_STATUS = 'CHANGE_LISTEN_TO_MOUSE_STATUS';\nexport const SET_DRAW_ROBOT_INTERVAL = 'SET_DRAW_ROBOT_INTERVAL';\nexport const CHANGE_RANGE_POSITION = 'CHANGE_RANGE_POSITION';\nexport const CHANGE_POPUPS_STATUS = 'CHANGE_POPUPS_STATUS';\n","import { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { setPathConfig, addPath } from '../redux/path/actions';\nimport { getCoordsCSV, getSetpointsCSV } from './csv-handler';\nimport { changePopupsStatus } from '../redux/view/actions';\nimport { Swerve, Tank } from 'path-generator';\nimport { setRobotDrawConfig, setProjectPath, setFieldConfig, setCSVPath, setImage } from '../redux/project/actions';\n\nexport default class FileHandler {\n\tconstructor(callback) {\n\t\tthis.ipcRenderer = window.require('electron').ipcRenderer;\n\t\tthis.fs = window.require('fs');\n\t\tthis.dispatch = callback;\n\t\tthis.projectPath = '';\n\t\tthis.load();\n\t}\n\n\tasync load() {\n\t\tawait this.setProjectFolderPath();\n\t\tthis.loadJsonProject();\n\t\tthis.setCSVFolderPath();\n\t\tthis.loadRobotDrawConfig();\n\t\tthis.loadFieldConfig();\n\t\tthis.loadFieldImage();\n\t\tthis.loadPathConfig();\n\t\tthis.loadPaths();\n\t}\n\n\tasync changeProjectFolderPath(folderPath) {\n\t\tawait this.ipcRenderer.invoke('UpdateProjctPath', folderPath);\n\t\tthis.load();\n\t}\n\n\tasync setProjectFolderPath() {\n\t\tthis.projectPath = await this.ipcRenderer.invoke('GetProjctPath');\n\t\tthis.dispatch(setProjectPath(this.projectPath));\n\t}\n\n\tasync setCSVFolderPath() {\n\t\tif (this.jsonProject && this.jsonProject.saveCSVTo && this.jsonProject.saveCSVTo !== '')\n\t\t\tthis.dispatch(setCSVPath(this.jsonProject.saveCSVTo));\n\t\telse this.dispatch(setCSVPath(`${this.projectPath}/csv`));\n\t}\n\n\tloadJsonProject() {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/PathGenerator.json`);\n\t\t\tthis.jsonProject = JSON.parse(data);\n\t\t} catch (error) {\n\t\t\tthis.jsonProject = undefined;\n\t\t}\n\t}\n\n\tasync loadRobotDrawConfig() {\n\t\tvar robotDrawConfig = new RobotDrawConfig();\n\t\tif (this.jsonProject && this.jsonProject.robotDrawConfig)\n\t\t\trobotDrawConfig = Object.assign(new RobotDrawConfig(), this.jsonProject.robotDrawConfig);\n\t\tthis.dispatch(setRobotDrawConfig(robotDrawConfig));\n\t}\n\n\tasync loadFieldConfig() {\n\t\tvar fieldConfig = new FieldConfig();\n\t\tif (this.jsonProject && this.jsonProject.fieldConfig)\n\t\t\tfieldConfig = Object.assign(new FieldConfig(), this.jsonProject.fieldConfig);\n\t\tthis.dispatch(setFieldConfig(fieldConfig));\n\t}\n\n\tasync loadFieldImage(image) {\n\t\ttry {\n\t\t\timage = image ? image : this.jsonProject.image;\n\t\t\tif (image.startsWith('http')) {\n\t\t\t\tthis.dispatch(setImage(image, image));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar imagePath = '';\n\t\t\tif (image.indexOf('/') === -1) imagePath = `${this.projectPath}/${image}`;\n\t\t\telse imagePath = image;\n\n\t\t\tconst data = this.fs.readFileSync(imagePath);\n\t\t\tconst imageUrl = URL.createObjectURL(new Blob([data]));\n\t\t\tthis.dispatch(setImage(imageUrl, image));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setImage('', image || ''));\n\t\t}\n\t}\n\n\tasync loadPathConfig() {\n\t\ttry {\n\t\t\tthis.jsonProject.driveType = this.jsonProject.driveType ? this.jsonProject.driveType : 'tank';\n\t\t\tconst driveType = this.jsonProject.driveType === 'swerve' ? Swerve : Tank;\n\t\t\tconst pathConfig = this.jsonProject.pathConfig ? this.jsonProject.pathConfig : {};\n\t\t\tthis.dispatch(setPathConfig(pathConfig, driveType));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setPathConfig(new Tank.PathConfig(), Tank));\n\t\t}\n\t}\n\n\tasync loadPaths() {\n\t\ttry {\n\t\t\tconst files = this.fs.readdirSync(`${this.projectPath}/paths`);\n\t\t\tfiles.forEach(async (fileName) => {\n\t\t\t\tif (fileName.endsWith('.json')) this.loadPath(fileName);\n\t\t\t});\n\t\t} catch (error) {}\n\t}\n\n\tasync loadPath(fileName) {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/paths/${fileName}`);\n\t\t\tconst path = JSON.parse(data);\n\t\t\tthis.dispatch(addPath(fileName.replace('.json', ''), path.waypoints, path.isInReverse));\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonProject(settings) {\n\t\ttry {\n\t\t\tconst projectSettings = { ...settings };\n\t\t\tprojectSettings.driveType = settings.driveType === Swerve ? 'swerve' : 'tank';\n\t\t\tdelete projectSettings.projectPath;\n\t\t\tconst jsonProject = JSON.stringify(projectSettings);\n\t\t\tif (!this.fs.existsSync(this.projectPath)) this.fs.mkdirSync(this.projectPath);\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/PathGenerator.json`, jsonProject);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonPath(pathName, path) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(`${this.projectPath}/paths`)) this.fs.mkdirSync(`${this.projectPath}/paths`);\n\t\t\tconst data = JSON.stringify({ isInReverse: path.isReverse(), waypoints: path.waypoints });\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/paths/${pathName}.json`, data);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveCSVPath(path, pathName, csvFolder) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(csvFolder)) this.fs.mkdirSync(csvFolder);\n\t\t\tif (this.fs.existsSync(`${csvFolder}/${pathName}`))\n\t\t\t\tthis.fs.rmdirSync(`${csvFolder}/${pathName}`, { recursive: true });\n\t\t\tthis.fs.mkdirSync(`${csvFolder}/${pathName}`);\n\n\t\t\tconst keys = Object.keys(path).filter((key) => key.endsWith('Setpoints'));\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tconst fileName = `${pathName}.${key.replace('_', '').replace('Setpoints', '')}.csv`;\n\t\t\t\tthis.fs.writeFileSync(`${csvFolder}/${pathName}/${fileName}`, getSetpointsCSV(path[key]));\n\t\t\t});\n\t\t\tthis.fs.writeFileSync(`${csvFolder}/${pathName}/${pathName}.coords.csv`, getCoordsCSV(path));\n\t\t\tthis.dispatch(changePopupsStatus('savePathToCSVPopup'));\n\t\t} catch (error) {}\n\t}\n\n\tasync deletePath(pathName, csvFolder) {\n\t\ttry {\n\t\t\tthis.fs.unlinkSync(`${this.projectPath}/paths/${pathName}.json`);\n\t\t\tthis.fs.rmdirSync(`${csvFolder}/${pathName}`, { recursive: true });\n\t\t} catch (error) {}\n\t}\n\n\tasync renameJsonPath(oldName, newName) {\n\t\ttry {\n\t\t\tthis.fs.renameSync(\n\t\t\t\t`${this.projectPath}/paths/${oldName}.json`,\n\t\t\t\t`${this.projectPath}/paths/${newName}.json`\n\t\t\t);\n\t\t} catch (error) {}\n\t}\n}\n","import LocalStorageHandler from './local-storage-handler';\nimport FileHandler from './file-handler';\n\nvar handler = undefined;\n\nexport async function projectInit(callback) {\n\ttry {\n\t\thandler = new FileHandler(callback);\n\t} catch (error) {\n\t\thandler = new LocalStorageHandler(callback);\n\t}\n}\n\nexport async function changeProjectFolderPath(folderPath) {\n\ttry {\n\t\thandler.changeProjectFolderPath(folderPath);\n\t} catch (error) {}\n}\n\nexport async function saveJsonPath(pathName, path) {\n\ttry {\n\t\thandler.saveJsonPath(pathName, path);\n\t} catch (error) {}\n}\n\nexport async function deletePath(pathName, csvFolder) {\n\ttry {\n\t\thandler.deletePath(pathName, csvFolder);\n\t} catch (error) {}\n}\n\nexport async function renameJsonPath(oldName, newName) {\n\ttry {\n\t\thandler.renameJsonPath(oldName, newName);\n\t} catch (error) {}\n}\n\nexport async function saveJsonProject(settings) {\n\ttry {\n\t\thandler.saveJsonProject(settings);\n\t} catch (error) {}\n}\n\nexport async function loadFieldImage(image) {\n\ttry {\n\t\thandler.loadFieldImage(image);\n\t} catch (error) {}\n}\n\nexport async function saveCSVPath(path, pathName, folder) {\n\ttry {\n\t\thandler.saveCSVPath(path, pathName, folder);\n\t} catch (error) {}\n}\n","import { SET_APP_VERSION, SET_NEW_VERSION, SET_PLATFORM } from './action-types';\n\nexport function isWeb(value) {\n\treturn {\n\t\ttype: SET_PLATFORM,\n\t\tpayload: {\n\t\t\tisWeb: value,\n\t\t},\n\t};\n}\n\nexport function setAppVersion(version) {\n\treturn {\n\t\ttype: SET_APP_VERSION,\n\t\tpayload: {\n\t\t\tversion: version,\n\t\t},\n\t};\n}\n\nexport function setNewVersion(version) {\n\treturn {\n\t\ttype: SET_NEW_VERSION,\n\t\tpayload: {\n\t\t\tversion: version,\n\t\t},\n\t};\n}\n","export const SET_APP_VERSION = 'SET_APP_VERSION';\nexport const SET_NEW_VERSION = 'SET_NEW_VERSION';\nexport const SET_PLATFORM = 'SET_PLATFORM';\n","import { setAppVersion, setNewVersion, isWeb } from '../redux/app/actions';\n\nvar dispatch = undefined;\nvar ipcRenderer = undefined;\n\nexport async function appUpdaterInit(callback) {\n\ttry {\n\t\tdispatch = callback;\n\t\tipcRenderer = window.require('electron').ipcRenderer;\n\t\tdispatch(isWeb(false));\n\t\tgetAppVersion();\n\t\tonUpdateDownloaded();\n\t} catch (error) {\n\t\tdispatch(isWeb(true));\n\t}\n}\n\nasync function getAppVersion() {\n\ttry {\n\t\tconst appVersion = await ipcRenderer.invoke('GetAppVersion');\n\t\tdispatch(setAppVersion(appVersion));\n\t} catch (error) {}\n}\n\nfunction onUpdateDownloaded() {\n\ttry {\n\t\tipcRenderer.on('update-downloaded', (event, info) => {\n\t\t\tdispatch(setNewVersion(info.version));\n\t\t});\n\t} catch (error) {}\n}\n\nexport function updateApp() {\n\ttry {\n\t\tipcRenderer.invoke('UpdateApp');\n\t} catch (error) {}\n}\n","import { Button, Alert, FormControl, InputGroup } from 'react-bootstrap';\nimport { setWaypoint, removeWaypoint } from '../../redux/path/actions';\nimport { changeListenToMouseStatus } from '../../redux/view/actions';\nimport { MdDelete, MdAddCircle } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SwerveWaypointInfo extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { id: -1, pathName: undefined, waypointsLength: -1 };\n\n\t\tthis.x = React.createRef();\n\t\tthis.y = React.createRef();\n\t\tthis.v = React.createRef();\n\t\tthis.vMax = React.createRef();\n\t\tthis.angle = React.createRef();\n\t\tthis.addRef = React.createRef();\n\t\tthis.deleteRef = React.createRef();\n\t\tthis.robotAngle = React.createRef();\n\n\t\tthis.add = this.add.bind(this);\n\t\tthis.remove = this.remove.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.getValue = this.getValue.bind(this);\n\t\tthis.isNeedToUpdateState = this.isNeedToUpdateState.bind(this);\n\t}\n\n\tisNeedToUpdateState() {\n\t\treturn (\n\t\t\tthis.state.id !== this.props.id ||\n\t\t\tthis.state.pathName !== this.props.pathName ||\n\t\t\tthis.state.waypointsLength !== this.props.waypointsLength\n\t\t);\n\t}\n\n\tgetValue(currentValue, value) {\n\t\tif (this.isNeedToUpdateState()) return value;\n\t\tif (currentValue.endsWith('.')) return currentValue;\n\t\treturn value;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.vMax.current.value = this.getValue(this.vMax.current.value, this.props.waypoint.vMax);\n\t\tthis.x.current.value = this.getValue(this.x.current.value, this.props.waypoint.x);\n\t\tthis.y.current.value = this.getValue(this.y.current.value, this.props.waypoint.y);\n\t\tthis.v.current.value = this.getValue(this.v.current.value, this.props.waypoint.v);\n\n\t\tif (this.isNeedToUpdateState()) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\tid: this.props.id,\n\t\t\t\t\tpathName: this.props.pathName,\n\t\t\t\t\twaypointsLength: this.props.waypointsLength,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\n\tonChange() {\n\t\tconst object = {\n\t\t\tx: Number(this.x.current.value),\n\t\t\ty: Number(this.y.current.value),\n\t\t\tv: Number(this.v.current.value),\n\t\t\tvMax: Number(this.vMax.current.value),\n\t\t\tangle: Number(this.angle.current.value),\n\t\t\trobotAngle: Number(this.robotAngle.current.value),\n\t\t};\n\t\tthis.props.setWaypoint(object, this.props.id);\n\t}\n\n\tremove() {\n\t\tthis.deleteRef.current.blur();\n\t\tthis.props.removeWaypoint(this.props.id);\n\t}\n\n\tadd() {\n\t\tthis.addRef.current.blur();\n\t\tthis.props.changeListenToMouseStatus(this.props.id);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Alert className={this.props.id > 0 ? 'mb-0 mt-2' : 'mb-0 mt-0'} variant=\"primary\">\n\t\t\t\t<InputGroup>\n\t\t\t\t\t<span className=\"mr-4\"> {this.props.id + 1} </span>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>X</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.x}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.x}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Y</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.y}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.y}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Path Angle</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.angle}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.angle}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Robot Angle</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.robotAngle}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.robotAngle}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>V</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.v}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.v}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>vMax</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.vMax}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.vMax}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button ref={this.deleteRef} className=\"mr-2\" variant=\"danger\" onClick={this.remove}>\n\t\t\t\t\t\t<MdDelete />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button ref={this.addRef} onClick={this.add} variant={this.props.color}>\n\t\t\t\t\t\t<MdAddCircle />\n\t\t\t\t\t</Button>\n\t\t\t\t</InputGroup>\n\t\t\t</Alert>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathName: state.selectedPath,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeListenToMouseStatus: (index) => dispatch(changeListenToMouseStatus(index)),\n\t\tsetWaypoint: (waypoint, index) => dispatch(setWaypoint(waypoint, index)),\n\t\tremoveWaypoint: (index) => dispatch(removeWaypoint(index)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SwerveWaypointInfo);\n","import { Button, Alert, FormControl, InputGroup } from 'react-bootstrap';\nimport { setWaypoint, removeWaypoint } from '../../redux/path/actions';\nimport { changeListenToMouseStatus } from '../../redux/view/actions';\nimport { MdDelete, MdAddCircle } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass TankWaypointInfo extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { id: -1, pathName: undefined, waypointsLength: -1 };\n\n\t\tthis.x = React.createRef();\n\t\tthis.y = React.createRef();\n\t\tthis.v = React.createRef();\n\t\tthis.vMax = React.createRef();\n\t\tthis.angle = React.createRef();\n\t\tthis.addRef = React.createRef();\n\t\tthis.deleteRef = React.createRef();\n\n\t\tthis.add = this.add.bind(this);\n\t\tthis.remove = this.remove.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.getValue = this.getValue.bind(this);\n\t\tthis.isNeedToUpdateState = this.isNeedToUpdateState.bind(this);\n\t}\n\n\tisNeedToUpdateState() {\n\t\treturn (\n\t\t\tthis.state.id !== this.props.id ||\n\t\t\tthis.state.pathName !== this.props.pathName ||\n\t\t\tthis.state.waypointsLength !== this.props.waypointsLength\n\t\t);\n\t}\n\n\tgetValue(currentValue, value) {\n\t\tif (this.isNeedToUpdateState()) return value;\n\t\tif (currentValue.endsWith('.')) return currentValue;\n\t\treturn value;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.vMax.current.value = this.getValue(this.vMax.current.value, this.props.waypoint.vMax);\n\t\tthis.x.current.value = this.getValue(this.x.current.value, this.props.waypoint.x);\n\t\tthis.y.current.value = this.getValue(this.y.current.value, this.props.waypoint.y);\n\t\tthis.v.current.value = this.getValue(this.v.current.value, this.props.waypoint.v);\n\n\t\tif (this.isNeedToUpdateState()) {\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\tid: this.props.id,\n\t\t\t\t\tpathName: this.props.pathName,\n\t\t\t\t\twaypointsLength: this.props.waypointsLength,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\n\tonChange() {\n\t\tconst object = {\n\t\t\tx: Number(this.x.current.value),\n\t\t\ty: Number(this.y.current.value),\n\t\t\tv: Number(this.v.current.value),\n\t\t\tvMax: Number(this.vMax.current.value),\n\t\t\tangle: Number(this.angle.current.value),\n\t\t};\n\t\tthis.props.setWaypoint(object, this.props.id);\n\t}\n\n\tremove() {\n\t\tthis.deleteRef.current.blur();\n\t\tthis.props.removeWaypoint(this.props.id);\n\t}\n\n\tadd() {\n\t\tthis.addRef.current.blur();\n\t\tthis.props.changeListenToMouseStatus(this.props.id);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Alert className={this.props.id > 0 ? 'mb-0 mt-2' : 'mb-0 mt-0'} variant=\"primary\">\n\t\t\t\t<InputGroup>\n\t\t\t\t\t<span className=\"mr-4\"> {this.props.id + 1} </span>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>X</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.x}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.x}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Y</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.y}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.y}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Angle</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.angle}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.angle}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>V</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.v}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.v}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>vMax</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tref={this.vMax}\n\t\t\t\t\t\tdefaultValue={this.props.waypoint.vMax}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button ref={this.deleteRef} className=\"mr-2\" variant=\"danger\" onClick={this.remove}>\n\t\t\t\t\t\t<MdDelete />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button ref={this.addRef} onClick={this.add} variant={this.props.color}>\n\t\t\t\t\t\t<MdAddCircle />\n\t\t\t\t\t</Button>\n\t\t\t\t</InputGroup>\n\t\t\t</Alert>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathName: state.selectedPath,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeListenToMouseStatus: (index) => dispatch(changeListenToMouseStatus(index)),\n\t\tsetWaypoint: (waypoint, index) => dispatch(setWaypoint(waypoint, index)),\n\t\tremoveWaypoint: (index) => dispatch(removeWaypoint(index)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TankWaypointInfo);\n","import SwerveWaypointInfo from './swerve-waypoint-info';\nimport TankWaypointInfo from './tank-waypoint-info';\nimport { Swerve, Tank } from 'path-generator';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass WaypointsList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getSwerveWaypointInfo = this.getSwerveWaypointInfo.bind(this);\n\t\tthis.getTankWaypointInfo = this.getTankWaypointInfo.bind(this);\n\t\tthis.getWaypointInfo = this.getWaypointInfo.bind(this);\n\t}\n\n\tgetTankWaypointInfo(element, index) {\n\t\treturn (\n\t\t\t<TankWaypointInfo\n\t\t\t\tid={index}\n\t\t\t\tkey={index}\n\t\t\t\twaypoint={element}\n\t\t\t\twaypointsLength={this.props.path.waypoints.length}\n\t\t\t\tcolor={index === this.props.addWaypointInIndex ? 'success' : 'primary'}\n\t\t\t/>\n\t\t);\n\t}\n\n\tgetSwerveWaypointInfo(element, index) {\n\t\treturn (\n\t\t\t<SwerveWaypointInfo\n\t\t\t\tid={index}\n\t\t\t\tkey={index}\n\t\t\t\twaypoint={element}\n\t\t\t\twaypointsLength={this.props.path.waypoints.length}\n\t\t\t\tcolor={index === this.props.addWaypointInIndex ? 'success' : 'primary'}\n\t\t\t/>\n\t\t);\n\t}\n\n\tgetWaypointInfo(element, index) {\n\t\tif (this.props.driveType === Tank) return this.getTankWaypointInfo(element, index);\n\t\telse if (this.props.driveType === Swerve) return this.getSwerveWaypointInfo(element, index);\n\t\treturn <span />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"WaypointsList\">\n\t\t\t\t{this.props.path ? (\n\t\t\t\t\tthis.props.path.waypoints.map((element, index) => {\n\t\t\t\t\t\treturn this.getWaypointInfo(element, index);\n\t\t\t\t\t})\n\t\t\t\t) : (\n\t\t\t\t\t<span>There is no waypoints...</span>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tdriveType: state.driveType,\n\t\tpath: state.paths[state.selectedPath],\n\t\taddWaypointInIndex: state.addWaypointInIndex,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WaypointsList);\n","export function drawOnCanvas(canvas, props) {\n\tconst ctx = canvas.getContext('2d');\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\tdrawFieldBorders(ctx, props);\n\n\tif (!props.path) return;\n\tif (props.path.isIllegal() || props.path.coords.length === 0) {\n\t\tdrawWaypoints(ctx, props);\n\t\treturn;\n\t}\n\n\tdrawCoords(ctx, props);\n\tdrawWaypoints(ctx, props);\n\tdrawRobot(ctx, props);\n}\n\nfunction drawFieldBorders(ctx, props) {\n\tctx.beginPath();\n\tctx.rect(\n\t\tprops.fieldConfig.topLeftXPixel,\n\t\tprops.fieldConfig.topLeftYPixel,\n\t\tprops.fieldConfig.widthInPixel,\n\t\tprops.fieldConfig.heigthInPixel\n\t);\n\tctx.strokeStyle = 'blue';\n\tctx.stroke();\n}\n\nfunction drawWaypoints(ctx, props) {\n\tprops.path.waypoints.forEach((waypoint) => {\n\t\tconst x = waypoint.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\t\tconst y = waypoint.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\t\tctx.beginPath();\n\t\tctx.arc(x, y, 2, 0, Math.PI * 2, false);\n\t\tctx.fillStyle = 'red';\n\t\tctx.fill();\n\t});\n}\n\nfunction drawCoords(ctx, props) {\n\tctx.beginPath();\n\tprops.path.coords.forEach((setpoint, index) => {\n\t\tconst x = setpoint.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\t\tconst y = setpoint.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\t\tif (index === 0) ctx.moveTo(x, y);\n\t\telse ctx.lineTo(x, y);\n\t});\n\tctx.strokeStyle = 'Yellow';\n\tctx.stroke();\n}\n\nfunction drawRobot(ctx, props) {\n\tconst robotInReverse = props.isPathInReverse ? -1 : 1;\n\tconst robotLength = props.robotDrawConfig.length / props.fieldConfig.widthPixelToMeter;\n\tconst robotBorder = (props.robotDrawConfig.width * 0.6) / props.fieldConfig.hightPixelToMeter;\n\tconst robotCenter = (robotInReverse * props.robotDrawConfig.center) / props.fieldConfig.widthPixelToMeter;\n\n\tctx.beginPath();\n\tctx.save();\n\tdrawRobotShape(ctx, props, robotLength, robotCenter);\n\tdrawRobotCenter(ctx);\n\tdrawRobotBorders(ctx, robotInReverse, robotLength, robotCenter, robotBorder, 'blue');\n\tdrawRobotBorders(ctx, robotInReverse, -robotLength, robotCenter, robotBorder, 'red');\n\tctx.restore();\n}\n\nfunction drawRobotShape(ctx, props, robotLength, robotCenter) {\n\tconst index = props.rangePosition;\n\tconst robotWidth = props.robotDrawConfig.width / props.fieldConfig.hightPixelToMeter;\n\tconst robotX =\n\t\tprops.path.coords[index].x / props.fieldConfig.widthPixelToMeter -\n\t\trobotLength / 2 +\n\t\tprops.fieldConfig.topLeftXPixel;\n\tconst robotY =\n\t\tprops.path.coords[index].y / props.fieldConfig.hightPixelToMeter -\n\t\trobotWidth / 2 +\n\t\tprops.fieldConfig.topLeftYPixel;\n\n\tctx.translate(robotX + robotLength / 2, robotY + robotWidth / 2);\n\tctx.rotate(props.path.coords[index].angle);\n\tctx.fillStyle = 'white';\n\tctx.fillRect(-robotLength / 2 - robotCenter, -robotWidth / 2, robotLength, robotWidth);\n}\n\nfunction drawRobotCenter(ctx) {\n\tctx.arc(0, 0, 1.5, 0, Math.PI * 2, false);\n\tctx.fillStyle = 'rgb(50, 100, 0)';\n\tctx.fill();\n}\n\nfunction drawRobotBorders(ctx, robotInReverse, robotLength, robotCenter, robotBorder, color) {\n\tctx.beginPath();\n\tctx.moveTo(robotInReverse * (robotLength / 2) - robotCenter, -robotBorder / 2);\n\tctx.lineTo(robotInReverse * (robotLength / 2) - robotCenter, robotBorder / 2);\n\tctx.strokeStyle = color;\n\tctx.stroke();\n}\n","import { addWaypoint } from '../../redux/path/actions';\nimport { drawOnCanvas } from './canvas-painter';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass FieldView extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.canvas = React.createRef();\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tdrawOnCanvas(this.canvas.current, this.props);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst canvas = this.canvas.current;\n\t\tif (this.props.listenToMouseClicks) canvas.addEventListener('mousedown', this.onClick);\n\t\telse canvas.removeEventListener('mousedown', this.onClick);\n\t\tdrawOnCanvas(canvas, this.props);\n\t}\n\n\tonClick(event) {\n\t\tconst canvas = this.canvas.current;\n\t\tconst rect = canvas.getBoundingClientRect();\n\t\tconst scaleX = canvas.width / rect.width;\n\t\tconst scaleY = canvas.height / rect.height;\n\t\tconst x =\n\t\t\t((event.clientX - rect.left) * scaleX - this.props.fieldConfig.topLeftXPixel) *\n\t\t\tthis.props.fieldConfig.widthPixelToMeter;\n\t\tconst y =\n\t\t\t((event.clientY - rect.top) * scaleY - this.props.fieldConfig.topLeftYPixel) *\n\t\t\tthis.props.fieldConfig.hightPixelToMeter;\n\t\tthis.props.addWaypoint({ x: Number(x.toFixed(3)), y: Number(y.toFixed(3)) });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"FieldView\">\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"FieldImage\"\n\t\t\t\t\tref={this.canvas}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundPosition: 'center',\n\t\t\t\t\t\tbackgroundSize: 'contain',\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\t\tbackgroundImage: 'url(' + this.props.filedImageUrl + ')',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfiledImageUrl: state.imageUrl,\n\t\tfieldConfig: state.fieldConfig,\n\t\trangePosition: state.rangePosition,\n\t\tpath: state.paths[state.selectedPath],\n\t\trobotDrawConfig: state.robotDrawConfig,\n\t\tlistenToMouseClicks: state.listenToMouseClicks,\n\t\tisPathInReverse: state.paths[state.selectedPath] ? state.paths[state.selectedPath].isReverse() : false,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\taddWaypoint: (waypoint) => dispatch(addWaypoint(waypoint)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FieldView);\n","import { Container, Row } from 'react-bootstrap';\nimport React from 'react';\n\nclass SettingsConfig extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getData = this.getData.bind(this);\n\t\tthis.style = { fontSize: 20, fontWeight: 'bold' };\n\t}\n\n\tgetData() {\n\t\treturn {};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn '';\n\t}\n\n\tgetBody() {\n\t\treturn <div />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Row className=\"ml-0 mb-1\">\n\t\t\t\t\t<span style={this.style}>{this.getConfigInfo()}</span>\n\t\t\t\t</Row>\n\t\t\t\t<Container>{this.getBody()}</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SettingsConfig;\n","import { Row, Col, Button } from 'react-bootstrap';\nimport SettingsConfig from './settings-config';\nimport { Swerve, Tank } from 'path-generator';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsDriveTypeConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { driveType: Tank };\n\n\t\tthis.setDriveTypeTank = this.setDriveTypeTank.bind(this);\n\t\tthis.setDriveTypeSwerve = this.setDriveTypeSwerve.bind(this);\n\t}\n\n\tgetData() {\n\t\treturn { driveType: this.state.driveType };\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('driveType', this.getData);\n\t\tthis.setState(() => {\n\t\t\treturn {\n\t\t\t\tdriveType: this.props.driveType,\n\t\t\t};\n\t\t});\n\t}\n\n\tsetDriveTypeTank() {\n\t\tthis.setState(() => {\n\t\t\treturn { driveType: Tank };\n\t\t});\n\t}\n\n\tsetDriveTypeSwerve() {\n\t\tthis.setState(() => {\n\t\t\treturn { driveType: Swerve };\n\t\t});\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Path config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Row className=\"mb-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Button block onClick={this.setDriveTypeTank} active={this.state.driveType === Tank}>\n\t\t\t\t\t\tTank\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<Button block onClick={this.setDriveTypeSwerve} active={this.state.driveType === Swerve}>\n\t\t\t\t\t\tSwerve\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tdriveType: state.driveType,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsDriveTypeConfig);\n","import { changeProjectFolderPath } from '../../handlers/project-handler';\nimport SettingsConfig from './settings-config';\nimport { Form, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsFoldersConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { lastProjectPath: '' };\n\t\tthis.CSVFolderRef = React.createRef();\n\t\tthis.projectFolderRef = React.createRef();\n\t\tthis.resetProjectPath = this.resetProjectPath.bind(this);\n\t\tthis.onProjectFolderPathChange = this.onProjectFolderPathChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('foldersConfig', this.getData);\n\t\tthis.props.setElementData('resetProjectPath', this.resetProjectPath);\n\t\tthis.setState(() => {\n\t\t\treturn { lastProjectPath: this.props.projectPath };\n\t\t});\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\tsaveCSVTo: this.CSVFolderRef.current.value || this.props.saveCSVTo,\n\t\t\tprojectPath: this.projectFolderRef.current.value,\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Folders config:';\n\t}\n\n\tonProjectFolderPathChange() {\n\t\tchangeProjectFolderPath(this.projectFolderRef.current.value);\n\t}\n\n\tresetProjectPath() {\n\t\tif (this.props.projectPath !== this.state.lastProjectPath) changeProjectFolderPath(this.state.lastProjectPath);\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Project folder</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.projectPath}\n\t\t\t\t\t\t\tref={this.projectFolderRef}\n\t\t\t\t\t\t\tonChange={this.onProjectFolderPathChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Paths CSV folder:</Form.Label>\n\t\t\t\t\t\t<Form.Control defaultValue={this.props.saveCSVTo} ref={this.CSVFolderRef} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprojectPath: state.projectPath,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsFoldersConfig);\n","import { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { RobotDrawConfig } from '../field-view/view-config';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsRobotConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.robotWidthRef = React.createRef();\n\t\tthis.robotLengthRef = React.createRef();\n\t\tthis.robotCenterRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('robotDrawConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.robotWidthRef.current.value = this.props.robotDrawConfig.width;\n\t\tthis.robotLengthRef.current.value = this.props.robotDrawConfig.length;\n\t\tthis.robotCenterRef.current.value = this.props.robotDrawConfig.center;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\trobotDrawConfig: new RobotDrawConfig(\n\t\t\t\tthis.robotWidthRef.current.value,\n\t\t\t\tthis.robotLengthRef.current.value,\n\t\t\t\tthis.robotCenterRef.current.value\n\t\t\t),\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Robot draw config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> with bumper </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotWidthRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.width}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> with bumper </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Length</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotLengthRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.length}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\toverlay={\n\t\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t\t<span style={{ color: 'red' }}>back</span> {' (-) < '}\n\t\t\t\t\t\t\t\t<span style={{ color: 'rgb(50, 100, 0)' }}> center </span>\n\t\t\t\t\t\t\t\t{' < (+) '} <span style={{ color: 'blue' }}>front</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Label>Center</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotCenterRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.center}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t</Form.Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trobotDrawConfig: state.robotDrawConfig,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsRobotConfig);\n","import { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { FieldConfig } from '../field-view/view-config';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsFiledConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.fieldHeightInPixelRef = React.createRef();\n\t\tthis.fieldHeightInMeterRef = React.createRef();\n\t\tthis.fieldWidthInPixelRef = React.createRef();\n\t\tthis.fieldWidthInMeterRef = React.createRef();\n\t\tthis.filedImageNameRef = React.createRef();\n\t\tthis.fieldTopLeftXRef = React.createRef();\n\t\tthis.fieldTopLeftYRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('filedConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.fieldHeightInMeterRef.current.value = this.props.fieldConfig.heightInMeter;\n\t\tthis.fieldWidthInMeterRef.current.value = this.props.fieldConfig.widthInMeter;\n\t\tthis.fieldTopLeftXRef.current.value = this.props.fieldConfig.topLeftXPixel;\n\t\tthis.fieldTopLeftYRef.current.value = this.props.fieldConfig.topLeftYPixel;\n\t\tthis.fieldWidthInPixelRef.current.value = this.props.fieldConfig.widthInPixel;\n\t\tthis.fieldHeightInPixelRef.current.value = this.props.fieldConfig.heigthInPixel;\n\t\tthis.filedImageNameRef.current.value = this.props.filedImageUrl;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\timage: this.filedImageNameRef.current.value,\n\t\t\tfieldConfig: new FieldConfig(\n\t\t\t\tthis.fieldWidthInMeterRef.current.value,\n\t\t\t\tthis.fieldHeightInMeterRef.current.value,\n\t\t\t\tthis.fieldTopLeftXRef.current.value,\n\t\t\t\tthis.fieldTopLeftYRef.current.value,\n\t\t\t\tthis.fieldWidthInPixelRef.current.value,\n\t\t\t\tthis.fieldHeightInPixelRef.current.value\n\t\t\t),\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Filed config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In meter </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.widthInMeter}\n\t\t\t\t\t\t\tref={this.fieldWidthInMeterRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In meter </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Height</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.heightInMeter}\n\t\t\t\t\t\t\tref={this.fieldHeightInMeterRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Image</Form.Label>\n\t\t\t\t\t\t<Form.Control defaultValue={this.props.filedImageUrl} ref={this.filedImageNameRef} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Top left x</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.topLeftXPixel}\n\t\t\t\t\t\t\tref={this.fieldTopLeftXRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Top left y</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.topLeftYPixel}\n\t\t\t\t\t\t\tref={this.fieldTopLeftYRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In pixel </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.widthInPixel}\n\t\t\t\t\t\t\tref={this.fieldWidthInPixelRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In pixel </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Height</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.heigthInPixel}\n\t\t\t\t\t\t\tref={this.fieldHeightInPixelRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfieldConfig: state.fieldConfig,\n\t\tfiledImageUrl: state.image,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsFiledConfig);\n","import SettingsConfig from './settings-config';\nimport { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsPathConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.pathWidthRef = React.createRef();\n\t\tthis.robotMaxVRef = React.createRef();\n\t\tthis.robotMaxAccRef = React.createRef();\n\t\tthis.robotLoopTimeRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('pathConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.robotMaxVRef.current.value = this.props.pathConfig.vMax;\n\t\tthis.pathWidthRef.current.value = this.props.pathConfig.width;\n\t\tthis.robotMaxAccRef.current.value = this.props.pathConfig.acc;\n\t\tthis.robotLoopTimeRef.current.value = this.props.pathConfig.robotLoopTime;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\tpathConfig: {\n\t\t\t\tvMax: Number(this.robotMaxVRef.current.value),\n\t\t\t\twidth: Number(this.pathWidthRef.current.value),\n\t\t\t\tacc: Number(this.robotMaxAccRef.current.value),\n\t\t\t\trobotLoopTime: Number(this.robotLoopTimeRef.current.value),\n\t\t\t},\n\t\t};\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.pathWidthRef} defaultValue={this.props.pathConfig.width} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m / s </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Max V</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.robotMaxVRef} defaultValue={this.props.pathConfig.vMax} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m / s ^ 2 </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Max Acc</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.robotMaxAccRef} defaultValue={this.props.pathConfig.acc} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> s </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Loop time</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotLoopTimeRef}\n\t\t\t\t\t\tdefaultValue={this.props.pathConfig.robotLoopTime}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t</Form.Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathConfig: state.pathConfig,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsPathConfig);\n","import SettingsDriveTypeConfig from './settings-drive-type-config';\nimport { loadFieldImage } from '../../handlers/project-handler';\nimport { changePopupsStatus } from '../../redux/view/actions';\nimport SettingsFoldersConfig from './settings-folders-config';\nimport { setSettings } from '../../redux/project/actions';\nimport SettingsRobotConfig from './settings-robot-config';\nimport SettingsFiledConfig from './settings-filed-config';\nimport SettingsPathConfig from './settings-path-config';\nimport { updateApp } from '../../handlers/app-handler';\nimport { Modal, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass Settings extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.saveSettings = this.saveSettings.bind(this);\n\t\tthis.closeSettings = this.closeSettings.bind(this);\n\t\tthis.getAppVersion = this.getAppVersion.bind(this);\n\t\tthis.setElementData = this.setElementData.bind(this);\n\t\tthis.getUpdateButton = this.getUpdateButton.bind(this);\n\t\tthis.getFoldersConfig = this.getFoldersConfig.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.popupsStatus.settingsPopup) mousetrap.bindGlobal('enter', this.saveSettings);\n\t\telse mousetrap.unbind('enter');\n\t}\n\n\tsetElementData(key, func) {\n\t\tthis[key] = func;\n\t}\n\n\tsaveSettings() {\n\t\tvar settings = {\n\t\t\t...this.driveType(),\n\t\t\t...this.pathConfig(),\n\t\t\t...this.filedConfig(),\n\t\t\t...this.robotDrawConfig(),\n\t\t};\n\t\tif (this.foldersConfig) settings = Object.assign(settings, this.foldersConfig());\n\t\tif (settings.image !== this.props.filedImageUrl) loadFieldImage(settings.image);\n\t\tthis.props.setSettings(settings);\n\t\tthis.props.closePopups();\n\t}\n\n\tgetUpdateButton() {\n\t\tif (this.props.newVersion !== undefined) {\n\t\t\treturn (\n\t\t\t\t<Button variant=\"outline-success\" onClick={updateApp}>{`Update to v${this.props.newVersion}`}</Button>\n\t\t\t);\n\t\t}\n\t\treturn <span />;\n\t}\n\n\tgetAppVersion() {\n\t\tif (this.props.isWeb) return <span />;\n\t\treturn <div style={{ fontSize: 10 }}>v{this.props.version}</div>;\n\t}\n\n\tgetFoldersConfig() {\n\t\tif (this.props.isWeb) return <span />;\n\t\treturn <SettingsFoldersConfig setElementData={this.setElementData} />;\n\t}\n\n\tcloseSettings() {\n\t\tif (this.resetProjectPath) this.resetProjectPath();\n\t\tthis.props.closePopups();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Modal show={this.props.popupsStatus.settingsPopup} onHide={this.closeSettings} backdrop=\"static\">\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>Settings</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<div className=\"SettingsBody\">\n\t\t\t\t\t\t{this.getFoldersConfig()}\n\t\t\t\t\t\t<SettingsDriveTypeConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsPathConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsFiledConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsRobotConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t{this.getAppVersion()}\n\t\t\t\t\t</div>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{this.getUpdateButton()}\n\t\t\t\t\t<Button variant=\"outline-primary\" onClick={this.closeSettings}>\n\t\t\t\t\t\tcancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={this.saveSettings}>save</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpopupsStatus: state.popupsStatus,\n\t\tprojectPath: state.projectPath,\n\t\tnewVersion: state.newVersion,\n\t\tfiledImageUrl: state.image,\n\t\tversion: state.version,\n\t\tisWeb: state.isWeb,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetSettings: (settings) => dispatch(setSettings(settings)),\n\t\tclosePopups: () => dispatch(changePopupsStatus()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import { changeRangePosition, setDrawRobotInterval } from '../redux/view/actions';\nimport { Form, Container, Row, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass PlayingBar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.range = React.createRef();\n\t\tthis.changeRangePosition = this.changeRangePosition.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.range.current.value = 0;\n\t\tthis.range.current.disabled = true;\n\t\tdocument\n\t\t\t.querySelector('canvas')\n\t\t\t.addEventListener('wheel', (event) =>\n\t\t\t\tthis.changeRangePosition(this.props.rangePosition - Math.sign(event.deltaY))\n\t\t\t);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.path) {\n\t\t\tthis.range.current.max = this.props.path.sourceSetpoints.length - 1;\n\t\t\tthis.range.current.value = this.props.rangePosition;\n\t\t\tthis.range.current.disabled = false;\n\t\t} else {\n\t\t\tthis.range.current.disabled = true;\n\t\t\tthis.range.current.value = 0;\n\t\t}\n\t}\n\n\tchangeRangePosition(newPosition) {\n\t\tif (!this.props.path) return;\n\t\tthis.props.setDrawRobotInterval();\n\t\tconst lastPosition = this.props.rangePosition;\n\t\tconst maxPosition = this.props.path.sourceSetpoints.length - 1;\n\t\tconst position = newPosition >= 0 && newPosition <= maxPosition ? newPosition : lastPosition;\n\t\tthis.props.changeRangePosition(position);\n\t}\n\n\trender() {\n\t\tconst style = { fontSize: '12px' };\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col sm={0.5} style={style}>\n\t\t\t\t\t\t{this.props.path ? (this.props.robotLoopTime * this.props.rangePosition).toFixed(2) : '0.00'}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tref={this.range}\n\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\tonChange={(event) => this.changeRangePosition(event.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col sm={0.5} style={style}>\n\t\t\t\t\t\t{this.props.path && !this.props.path.isIllegal()\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\tMath.sign(this.props.path.sourceSetpoints.length) *\n\t\t\t\t\t\t\t\t\t(this.props.path.sourceSetpoints.length - 1) *\n\t\t\t\t\t\t\t\t\tthis.props.robotLoopTime\n\t\t\t\t\t\t\t  ).toFixed(2)\n\t\t\t\t\t\t\t: '0.00'}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trangePosition: state.rangePosition,\n\t\tpath: state.paths[state.selectedPath],\n\t\trobotLoopTime: state.pathConfig.robotLoopTime,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeRangePosition: (position) => dispatch(changeRangePosition(position)),\n\t\tsetDrawRobotInterval: () => dispatch(setDrawRobotInterval()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayingBar);\n","import { Modal, Button } from 'react-bootstrap';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass Popup extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.cancelButtonRef = React.createRef();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.props.show) return;\n\t\tif (this.props.refToUse !== undefined && this.props.refToUse.current !== null)\n\t\t\tsetTimeout(() => this.props.refToUse.current.focus(), 100);\n\t\telse if (this.cancelButtonRef.current !== null) this.cancelButtonRef.current.focus();\n\t\tif (this.props.confirm)\n\t\t\tmousetrap.bindGlobal(['return', 'enter'], () => {\n\t\t\t\tif (document.activeElement === this.cancelButtonRef.current) return;\n\t\t\t\tif (this.props.show) this.props.confirm();\n\t\t\t});\n\t}\n\n\trender() {\n\t\tvar confirmButton = <Button onClick={this.props.confirm}>confirm</Button>;\n\t\tvar cancelButton = (\n\t\t\t<Button variant=\"outline-primary\" onClick={this.props.close} ref={this.cancelButtonRef}>\n\t\t\t\tcancel\n\t\t\t</Button>\n\t\t);\n\t\tif (this.props.confirm === undefined) {\n\t\t\tconfirmButton = <span />;\n\t\t\tcancelButton = (\n\t\t\t\t<Button ref={this.cancelButtonRef} onClick={this.props.close}>\n\t\t\t\t\tok\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Modal show={this.props.show} onHide={this.props.close}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{this.props.title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>{this.props.body}</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{cancelButton}\n\t\t\t\t\t{confirmButton}\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nexport default Popup;\n","import { deletePath, renamePath, addPath } from '../../redux/path/actions';\nimport { changePopupsStatus, changeRangePosition } from '../../redux/view/actions';\nimport { FormControl } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport Popup from './popup';\nimport React from 'react';\n\nclass Popups extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.newPathRef = React.createRef();\n\t\tthis.renamePathRef = React.createRef();\n\t\tthis.renamePath = this.renamePath.bind(this);\n\t\tthis.deletePath = this.deletePath.bind(this);\n\t\tthis.createNewPath = this.createNewPath.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.popupsStatus.renamePathPopup) this.renamePathRef.current.defaultValue = this.props.pathName;\n\t}\n\n\tdeletePath() {\n\t\tthis.props.closePopups();\n\t\tthis.props.deletePath();\n\t}\n\n\trenamePath() {\n\t\tif (this.renamePathRef.current.value) {\n\t\t\tthis.props.renamePath(this.renamePathRef.current.value);\n\t\t\tthis.props.closePopups();\n\t\t}\n\t}\n\n\tcreateNewPath() {\n\t\tif (this.newPathRef.current.value && !this.props.pathsName.includes(this.newPathRef.current.value)) {\n\t\t\tthis.props.addPath(this.newPathRef.current.value);\n\t\t\tthis.props.resetRangePosition();\n\t\t\tthis.props.closePopups();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.deletePathPopup}\n\t\t\t\t\tbody=\"Are you sure you want to delete path?\"\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\tconfirm={this.deletePath}\n\t\t\t\t\ttitle=\"Delete path\"\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.renamePathPopup}\n\t\t\t\t\tbody={<FormControl ref={this.renamePathRef} />}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\trefToUse={this.renamePathRef}\n\t\t\t\t\tconfirm={this.renamePath}\n\t\t\t\t\ttitle=\"Rename path\"\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tbody={<FormControl ref={this.newPathRef} placeholder=\"Path name\" />}\n\t\t\t\t\tshow={this.props.popupsStatus.createNewPathPopup}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\tconfirm={this.createNewPath}\n\t\t\t\t\trefToUse={this.newPathRef}\n\t\t\t\t\ttitle=\"Create a new path\"\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.pathIsIllegalPopup}\n\t\t\t\t\ttitle={this.props.path && this.props.path.isIllegal() ? this.props.path.error.info : ''}\n\t\t\t\t\tbody={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{this.props.path && this.props.path.isIllegal()\n\t\t\t\t\t\t\t\t? `${this.props.path.error.problem}\\n \\n${this.props.path.error.solution}`\n\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\ttitle={`v${this.props.newVersion} is available`}\n\t\t\t\t\tshow={this.props.popupsStatus.newVersionPopup}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\tbody={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{'There is a new version waiting for you to update to!\\n' +\n\t\t\t\t\t\t\t\t'To update jest go to settings and click on update...'}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={\n\t\t\t\t\t\tthis.props.popupsStatus.savePathToCSVPopup && this.props.saveCSVTo === '' && !this.props.isWeb\n\t\t\t\t\t}\n\t\t\t\t\ttitle=\"Save path CSV\"\n\t\t\t\t\tbody=\"Can't save path CSV, you need to set CSV folder path in settings!\"\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.savePathToCSVPopup && this.props.saveCSVTo !== ''}\n\t\t\t\t\ttitle=\"Save path CSV\"\n\t\t\t\t\tbody=\"Path CSV saved!\"\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathName: state.selectedPath ? state.selectedPath : '',\n\t\tpath: state.paths[state.selectedPath],\n\t\tpathsName: Object.keys(state.paths),\n\t\tpopupsStatus: state.popupsStatus,\n\t\tnewVersion: state.newVersion,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t\tisWeb: state.isWeb,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tresetRangePosition: () => dispatch(changeRangePosition(0)),\n\t\tclosePopups: () => dispatch(changePopupsStatus()),\n\t\trenamePath: (name) => dispatch(renamePath(name)),\n\t\taddPath: (name) => dispatch(addPath(name)),\n\t\tdeletePath: () => dispatch(deletePath()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Popups);\n","import { FiCircle, FiCheckCircle } from 'react-icons/fi';\nimport { changeDirection } from '../../redux/path/actions';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsPathDirection extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.getButtonIcon = this.getButtonIcon.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+c', 'alt+c'], this.onClick);\n\t}\n\n\tonClick() {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (this.props.path) this.props.changeDirection();\n\t}\n\n\tgetButtonIcon() {\n\t\tif (this.props.path && this.props.isPathReverse) return <FiCheckCircle className=\"mr-2\" />;\n\t\treturn <FiCircle className=\"mr-2\" />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path || this.props.path.isTurnInPlace()}\n\t\t\t>\n\t\t\t\t{this.getButtonIcon()}\n\t\t\t\tin reverse\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.paths[state.selectedPath],\n\t\tisPathReverse: state.selectedPath ? state.paths[state.selectedPath].isReverse() : false,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeDirection: () => dispatch(changeDirection()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsPathDirection);\n","import { changePopupsStatus } from '../../redux/view/actions';\nimport { saveCSVPath } from '../../handlers/project-handler';\nimport { FiDownload } from 'react-icons/fi';\nimport { MdError } from 'react-icons/md';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsDownloadPath extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+s', 'alt+s'], this.onClick);\n\t}\n\n\tonClick() {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (!this.props.path || (this.props.saveCSVTo === '' && !this.props.isWeb)) return;\n\t\tif (this.props.path.isIllegal()) this.props.showIllegalPathPopup();\n\t\telse saveCSVPath(this.props.path, this.props.pathName, this.props.saveCSVTo);\n\t}\n\n\trender() {\n\t\tconst isPathIllegal = this.props.path && this.props.path.isIllegal();\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path}\n\t\t\t\ttitle=\"Save csv path to robot\"\n\t\t\t\tvariant={isPathIllegal ? 'danger' : 'primary'}\n\t\t\t>\n\t\t\t\t{isPathIllegal ? <MdError /> : <FiDownload />}\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisWeb: state.isWeb,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t\tpathName: state.selectedPath,\n\t\tpath: state.paths[state.selectedPath],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowIllegalPathPopup: () => dispatch(changePopupsStatus('pathIsIllegalPopup')),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsDownloadPath);\n","import { changeListenToMouseStatus } from '../../redux/view/actions';\nimport { Button } from 'react-bootstrap';\nimport { GiClick } from 'react-icons/gi';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsAddWaypoint extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+a', 'alt+a'], this.onClick);\n\t}\n\n\tonClick() {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (this.props.path) this.props.changeListenToMouseStatus();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path}\n\t\t\t\ttitle=\"Add waypoint with mouse\"\n\t\t\t\tvariant={this.props.listenToMouseClicks ? 'success' : 'primary'}\n\t\t\t>\n\t\t\t\t<GiClick />\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.paths[state.selectedPath],\n\t\tlistenToMouseClicks: state.listenToMouseClicks,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeListenToMouseStatus: () => dispatch(changeListenToMouseStatus()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsAddWaypoint);\n","import { changePopupsStatus } from '../../redux/view/actions';\nimport { changeSelectedPath } from '../../redux/path/actions';\nimport { Dropdown } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsSelectPath extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getPathsItem = this.getPathsItem.bind(this);\n\t\tthis.setSelectedPath = this.setSelectedPath.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+n', 'alt+n'], this.props.showCreateNewPathPopup);\n\t}\n\n\tgetPathsItem() {\n\t\treturn this.props.pathsName.map((pathName, index) => {\n\t\t\treturn (\n\t\t\t\t<Dropdown.Item as=\"button\" key={index} onClick={() => this.setSelectedPath(pathName)}>\n\t\t\t\t\t{pathName}\n\t\t\t\t</Dropdown.Item>\n\t\t\t);\n\t\t});\n\t}\n\n\tsetSelectedPath(pathName) {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tthis.props.changeSelectedPath(pathName);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Dropdown>\n\t\t\t\t<Dropdown.Toggle size=\"lg\">{this.props.pathName ? this.props.pathName : 'Select Path'}</Dropdown.Toggle>\n\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t{this.getPathsItem()}\n\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t<Dropdown.Item as=\"button\" onClick={this.props.showCreateNewPathPopup}>\n\t\t\t\t\t\tNew path\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t</Dropdown.Menu>\n\t\t\t</Dropdown>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathsName: Object.keys(state.paths),\n\t\tpathName: state.selectedPath,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowCreateNewPathPopup: () => dispatch(changePopupsStatus('createNewPathPopup')),\n\t\tchangeSelectedPath: (pathName) => dispatch(changeSelectedPath(pathName)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsSelectPath);\n","import { changePopupsStatus } from '../../redux/view/actions';\nimport { MdDelete } from 'react-icons/md';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsDeletePath extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+d', 'alt+d'], this.onClick);\n\t}\n\n\tonClick() {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (this.props.path) this.props.showDeletePathPopup();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tvariant=\"danger\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\ttitle=\"Delete path\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path}\n\t\t\t>\n\t\t\t\t<MdDelete />\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.paths[state.selectedPath],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowDeletePathPopup: () => dispatch(changePopupsStatus('deletePathPopup')),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsDeletePath);\n","import { changePopupsStatus } from '../../redux/view/actions';\nimport { MdEdit } from 'react-icons/md';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsRenamePath extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.ref = React.createRef();\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+r', 'alt+r'], this.onClick);\n\t}\n\n\tonClick() {\n\t\tif (this.props.path) this.props.showRenamePathPopup();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tref={this.ref}\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\ttitle=\"Rename path\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path}\n\t\t\t>\n\t\t\t\t<MdEdit />\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.paths[state.selectedPath],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowRenamePathPopup: () => dispatch(changePopupsStatus('renamePathPopup')),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsRenamePath);\n","export class PopupsConfig {\n\tconstructor() {\n\t\tthis.createNewPathPopup = false;\n\t\tthis.savePathToCSVPopup = false;\n\t\tthis.pathIsIllegalPopup = false;\n\t\tthis.renamePathPopup = false;\n\t\tthis.deletePathPopup = false;\n\t\tthis.newVersionPopup = false;\n\t\tthis.settingsPopup = false;\n\t}\n}\n","import { setDrawRobotInterval, changeRangePosition } from '../../redux/view/actions';\nimport { MdPlayArrow, MdReplay, MdPause } from 'react-icons/md';\nimport { PopupsConfig } from '../popups/popups-config';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsPlayPath extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.canCreateInterval = this.canCreateInterval.bind(this);\n\t\tthis.getPlayButtonIcon = this.getPlayButtonIcon.bind(this);\n\t\tthis.updateRangePosition = this.updateRangePosition.bind(this);\n\t\tthis.isRangePositionInTheEnd = this.isRangePositionInTheEnd.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal('space', this.onClick);\n\t\twindow.onkeydown = (e) => e.keyCode !== 32;\n\t}\n\n\tonClick() {\n\t\tif (JSON.stringify(this.props.popupsStatus) !== JSON.stringify(new PopupsConfig())) return;\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tvar interval = undefined;\n\t\tif (this.canCreateInterval()) {\n\t\t\tif (this.isRangePositionInTheEnd()) this.props.changeRangePosition(0);\n\t\t\tinterval = setInterval(this.updateRangePosition, this.props.robotLoopTime * 1000);\n\t\t}\n\t\tthis.props.setDrawRobotInterval(interval);\n\t}\n\n\tupdateRangePosition() {\n\t\tif (this.isRangePositionInTheEnd()) this.props.setDrawRobotInterval();\n\t\telse this.props.changeRangePosition(this.props.rangePosition + 1);\n\t}\n\n\tcanCreateInterval() {\n\t\treturn (\n\t\t\tthis.props.path &&\n\t\t\t!this.props.drawRobotInterval &&\n\t\t\t!this.props.popupsStatus.settingsPopup &&\n\t\t\tthis.props.path.sourceSetpoints.length > 0\n\t\t);\n\t}\n\n\tisRangePositionInTheEnd() {\n\t\treturn this.props.path && this.props.path.sourceSetpoints.length - 1 === this.props.rangePosition;\n\t}\n\n\tgetPlayButtonIcon() {\n\t\tif (this.props.drawRobotInterval) return <MdPause />;\n\t\telse if (this.isRangePositionInTheEnd()) return <MdReplay />;\n\t\telse return <MdPlayArrow />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3 ml-4\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path || this.props.path.isIllegal()}\n\t\t\t>\n\t\t\t\t{this.getPlayButtonIcon()}\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trangePosition: state.rangePosition,\n\t\tpath: state.paths[state.selectedPath],\n\t\tdrawRobotInterval: state.drawRobotInterval,\n\t\trobotLoopTime: state.pathConfig.robotLoopTime,\n\t\tpopupsStatus: state.popupsStatus,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetDrawRobotInterval: (interval) => dispatch(setDrawRobotInterval(interval)),\n\t\tchangeRangePosition: (position) => dispatch(changeRangePosition(position)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsPlayPath);\n","import { changePopupsStatus } from '../../redux/view/actions';\nimport { MdBuild } from 'react-icons/md';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsSettings extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(['command+p', 'alt+p'], this.onClick);\n\t\tmousetrap.bindGlobal('esc', this.props.closeSettings);\n\t}\n\n\tonClick() {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tthis.props.showSettings();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\ttitle=\"Settings\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tvariant={this.props.newVersion ? 'success' : 'primary'}\n\t\t\t>\n\t\t\t\t<MdBuild />\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tnewVersion: state.newVersion,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowSettings: () => dispatch(changePopupsStatus('settingsPopup')),\n\t\tcloseSettings: () => dispatch(changePopupsStatus()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsSettings);\n","import ToolsPathDirection from './tools-path-direction';\nimport ToolsDownloadPath from './tools-download-path';\nimport ToolsAddWaypoint from './tools-add-waypoint';\nimport ToolsSelectPath from './tools-select-path';\nimport ToolsDeletePath from './tools-delete-path';\nimport ToolsRenamePath from './tools-rename-path';\nimport { Container, Row } from 'react-bootstrap';\nimport ToolsPlayPath from './tools-play-path';\nimport ToolsSettings from './tools-settings';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass Tools extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<ToolsAddWaypoint />\n\t\t\t\t\t<ToolsDownloadPath />\n\t\t\t\t\t<ToolsSettings />\n\t\t\t\t\t<ToolsSelectPath />\n\t\t\t\t\t<ToolsPlayPath />\n\t\t\t\t\t<ToolsDeletePath />\n\t\t\t\t\t<ToolsRenamePath />\n\t\t\t\t\t<ToolsPathDirection />\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Tools);\n","import { projectInit } from '../handlers/project-handler';\nimport { appUpdaterInit } from '../handlers/app-handler';\nimport WaypointsList from './waypoints/waypoints-list';\nimport FieldView from './field-view/field-view';\nimport { Container } from 'react-bootstrap';\nimport Settings from './settings/settings';\nimport PlayingBar from './playing-bar';\nimport { connect } from 'react-redux';\nimport Popups from './popups/popups';\nimport Tools from './tools/tools';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tappUpdaterInit(this.props.dispatch);\n\t\tprojectInit(this.props.dispatch);\n\t\tmousetrap.bindGlobal('esc', () => {\n\t\t\tif (document.activeElement) document.activeElement.blur();\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Container fluid=\"md\">\n\t\t\t\t\t<Popups />\n\t\t\t\t\t<Settings />\n\t\t\t\t\t<FieldView />\n\t\t\t\t\t<PlayingBar />\n\t\t\t\t\t<Tools />\n\t\t\t\t\t<WaypointsList />\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tdispatch: (value) => dispatch(value),\n\t};\n};\n\nconst app = connect(mapStateToProps, mapDispatchToProps)(App);\nexport default app;\n","import { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { PopupsConfig } from '../component/popups/popups-config';\nimport { Tank } from 'path-generator';\n\nexport const initialState = {\n\t//View\n\tpopupsStatus: new PopupsConfig(),\n\taddWaypointInIndex: undefined,\n\tdrawRobotInterval: undefined,\n\tlistenToMouseClicks: false,\n\tselectedPath: undefined,\n\trangePosition: 0,\n\n\t// Path\n\tdriveType: Tank,\n\tpaths: {},\n\n\t//Project\n\trobotDrawConfig: new RobotDrawConfig(),\n\tpathConfig: new Tank.PathConfig(),\n\tfieldConfig: new FieldConfig(),\n\tprojectPath: '',\n\tsaveCSVTo: '',\n\timageUrl: '',\n\timage: '',\n\n\t//App\n\tnewVersion: undefined,\n\tversion: '0.0.0',\n\tisWeb: true,\n};\n","import { saveJsonProject } from '../../handlers/project-handler';\nimport {\n\tSET_ROBOT_DRAW_CONFIG,\n\tSET_PROJECT_PATH,\n\tSET_FIELD_CONFIG,\n\tSET_SETTINGS,\n\tSET_CSV_PATH,\n\tSET_IMAGE,\n} from './action-types';\n\nfunction setSettings(state, payload) {\n\tsaveJsonProject(payload.settings);\n\treturn { ...state, ...payload.settings, selectedPath: undefined, listenToMouseClicks: false };\n}\n\nfunction setProjectPath(state, payload) {\n\treturn { ...state, projectPath: payload.projectPath, selectedPath: undefined, paths: {} };\n}\n\nfunction setFieldConfig(state, payload) {\n\treturn { ...state, fieldConfig: payload.fieldConfig };\n}\n\nfunction setImage(state, payload) {\n\treturn { ...state, image: payload.image, imageUrl: payload.imageUrl };\n}\n\nfunction setCSVPath(state, payload) {\n\treturn { ...state, saveCSVTo: payload.path };\n}\n\nfunction setRobotDrawConfig(state, payload) {\n\treturn { ...state, robotDrawConfig: payload.robotDrawConfig };\n}\n\nexport default function project(state, action) {\n\tif (action.type === SET_IMAGE) return setImage(state, action.payload);\n\tif (action.type === SET_CSV_PATH) return setCSVPath(state, action.payload);\n\tif (action.type === SET_SETTINGS) return setSettings(state, action.payload);\n\tif (action.type === SET_PROJECT_PATH) return setProjectPath(state, action.payload);\n\tif (action.type === SET_FIELD_CONFIG) return setFieldConfig(state, action.payload);\n\tif (action.type === SET_ROBOT_DRAW_CONFIG) return setRobotDrawConfig(state, action.payload);\n\treturn state;\n}\n","import { PopupsConfig } from '../../component/popups/popups-config';\nimport {\n\tCHANGE_LISTEN_TO_MOUSE_STATUS,\n\tSET_DRAW_ROBOT_INTERVAL,\n\tCHANGE_RANGE_POSITION,\n\tCHANGE_POPUPS_STATUS,\n} from './action-types';\n\nfunction changeRangePosition(state, payload) {\n\treturn { ...state, rangePosition: Number(payload.position) };\n}\n\nfunction setDrawRobotInterval(state, payload) {\n\tif (!state.drawRobotInterval && payload.interval) return { ...state, drawRobotInterval: payload.interval };\n\tclearInterval(state.drawRobotInterval);\n\treturn { ...state, drawRobotInterval: undefined };\n}\n\nfunction changePopupsStatus(state, payload) {\n\tconst newState = { ...state, popupsStatus: new PopupsConfig() };\n\tif (payload.popup !== undefined) newState.popupsStatus[payload.popup] = !state.popupsStatus[payload.popup];\n\treturn newState;\n}\n\nfunction changeListenToMouseStatus(state, payload) {\n\tconst index = state.addWaypointInIndex !== undefined ? undefined : payload.index;\n\tconst status = payload.index !== undefined ? true : !state.listenToMouseClicks;\n\treturn {\n\t\t...state,\n\t\tlistenToMouseClicks: status,\n\t\taddWaypointInIndex: index,\n\t};\n}\n\nexport default function view(state, action) {\n\tif (action.type !== SET_DRAW_ROBOT_INTERVAL && action.type !== CHANGE_RANGE_POSITION) {\n\t\tstate = setDrawRobotInterval(state, {});\n\t\tstate = changeRangePosition(state, { position: 0 });\n\t}\n\tif (action.type === CHANGE_POPUPS_STATUS) return changePopupsStatus(state, action.payload);\n\tif (action.type === CHANGE_RANGE_POSITION) return changeRangePosition(state, action.payload);\n\tif (action.type === SET_DRAW_ROBOT_INTERVAL) return setDrawRobotInterval(state, action.payload);\n\tif (action.type === CHANGE_LISTEN_TO_MOUSE_STATUS) return changeListenToMouseStatus(state, action.payload);\n\treturn state;\n}\n","import { saveJsonPath, deletePath, renameJsonPath } from '../../handlers/project-handler';\nimport {\n\tCHANGE_SELECTED_PATH,\n\tCHANGE_DIRECTION,\n\tREMOVE_WAYPOINT,\n\tSET_PATH_CONFIG,\n\tADD_WAYPOINT,\n\tSET_WAYPOINT,\n\tDELETE_PATH,\n\tRENAME_PATH,\n\tADD_PATH,\n} from './action-types';\n\nfunction getNewWaypoint(state, waypoint, object, pathConfig, fieldConfig) {\n\tconst newWaypointObject = {\n\t\tx: Number.isNaN(object.x) ? waypoint.x : object.x,\n\t\ty: Number.isNaN(object.y) ? waypoint.y : object.y,\n\t\tv: Number.isNaN(object.v) ? waypoint.v : object.v,\n\t\tvMax: Number.isNaN(object.vMax) ? waypoint.vMax : object.vMax,\n\t\tangle: Number.isNaN(object.angle) ? waypoint.angle : object.angle,\n\t\trobotAngle: Number.isNaN(object.robotAngle) ? waypoint.robotAngle : object.robotAngle,\n\t};\n\n\tif (newWaypointObject.x < 0) newWaypointObject.x = 0;\n\tif (newWaypointObject.x > fieldConfig.widthInMeter) newWaypointObject.x = fieldConfig.widthInMeter;\n\tif (newWaypointObject.y < 0) newWaypointObject.y = 0;\n\tif (newWaypointObject.y > fieldConfig.heightInMeter) newWaypointObject.y = fieldConfig.heightInMeter;\n\tif (newWaypointObject.v < 0) newWaypointObject.v = 0;\n\tif (newWaypointObject.v > pathConfig.vMax) newWaypointObject.v = pathConfig.vMax;\n\tif (newWaypointObject.vMax < 0) newWaypointObject.vMax = 0;\n\tif (newWaypointObject.vMax > pathConfig.vMax) newWaypointObject.vMax = pathConfig.vMax;\n\n\tif (newWaypointObject.robotAngle === undefined) delete newWaypointObject.robotAngle;\n\treturn Object.assign(new state.driveType.Waypoint(), newWaypointObject);\n}\n\nfunction setWaypoint(state, payload) {\n\tconst newState = { ...state };\n\tconst waypoints = state.paths[state.selectedPath].waypoints.map((element, index) => {\n\t\tif (index !== payload.index) return element;\n\t\telse return getNewWaypoint(state, element, payload.waypoint, state.pathConfig, state.fieldConfig);\n\t});\n\tnewState.paths[state.selectedPath] = new state.driveType.Path(waypoints, newState.pathConfig);\n\tif (state.paths[state.selectedPath].isReverse()) newState.paths[state.selectedPath].changeDirection();\n\tsaveJsonPath(state.selectedPath, newState.paths[state.selectedPath]);\n\treturn newState;\n}\n\nfunction removeWaypoint(state, payload) {\n\tconst waypoints = [];\n\tconst newState = { ...state };\n\tstate.paths[state.selectedPath].waypoints.forEach((element, index) => {\n\t\tif (index !== payload.index) waypoints.push(element);\n\t});\n\tnewState.paths[state.selectedPath] = new state.driveType.Path(waypoints, newState.pathConfig);\n\tif (state.paths[state.selectedPath].isReverse()) newState.paths[state.selectedPath].changeDirection();\n\tsaveJsonPath(state.selectedPath, newState.paths[state.selectedPath]);\n\treturn newState;\n}\n\nfunction changeSelectedPath(state, payload) {\n\tconst oldPath = state.paths[payload.pathName];\n\tconst newState = { ...state, selectedPath: payload.pathName };\n\tnewState.paths[payload.pathName] = new state.driveType.Path(oldPath.waypoints, state.pathConfig);\n\tif (oldPath.isReverse()) newState.paths[payload.pathName].changeDirection();\n\treturn newState;\n}\n\nfunction removePath(state, payload) {\n\tconst newState = { ...state, listenToMouseClicks: false };\n\tdelete newState.paths[state.selectedPath];\n\tnewState.selectedPath = undefined;\n\tdeletePath(state.selectedPath, state.saveCSVTo);\n\treturn newState;\n}\n\nfunction renamePath(state, payload) {\n\tconst newState = { ...state, selectedPath: payload.name };\n\tif (payload.name !== state.selectedPath) {\n\t\tnewState.paths[payload.name] = newState.paths[state.selectedPath];\n\t\tdelete newState.paths[state.selectedPath];\n\t\trenameJsonPath(state.selectedPath, payload.name);\n\t}\n\treturn newState;\n}\n\nfunction addPath(state, payload) {\n\tconst newState = { ...state };\n\tconst waypoints = [];\n\tif (payload.waypoints)\n\t\tpayload.waypoints.forEach((waypoint) => {\n\t\t\twaypoints.push(Object.assign(new state.driveType.Waypoint(), waypoint));\n\t\t});\n\tnewState.paths[payload.name] = new state.driveType.Path(waypoints, state.pathConfig);\n\tif (payload.isInReverse) newState.paths[payload.name].changeDirection();\n\tnewState.selectedPath = payload.waypoints ? undefined : payload.name;\n\tif (!payload.waypoints) saveJsonPath(payload.name, newState.paths[payload.name]);\n\treturn newState;\n}\n\nfunction addWaypoint(state, payload) {\n\tconst waypoints = [];\n\tconst object = { ...payload.waypoint };\n\tconst newWaypoint = Object.assign(new state.driveType.Waypoint(), object);\n\tstate.paths[state.selectedPath].waypoints.forEach((waypoint, index) => {\n\t\twaypoints.push(waypoint);\n\t\tif (index === state.addWaypointInIndex) waypoints.push(newWaypoint);\n\t});\n\tif (state.addWaypointInIndex === undefined) waypoints.push(newWaypoint);\n\tconst newState = { ...state, addWaypointInIndex: undefined };\n\tnewState.paths[state.selectedPath] = new state.driveType.Path(waypoints, state.pathConfig);\n\tif (state.addWaypointInIndex !== undefined) newState.listenToMouseClicks = false;\n\tif (state.paths[state.selectedPath].isReverse()) newState.paths[state.selectedPath].changeDirection();\n\tsaveJsonPath(state.selectedPath, newState.paths[state.selectedPath]);\n\treturn newState;\n}\n\nfunction setPathConfig(state, payload) {\n\tconst pathConfig = Object.assign(new state.driveType.PathConfig(), payload.pathConfig);\n\tconst newState = { ...state, pathConfig: pathConfig };\n\tif (payload.driveType) newState.driveType = payload.driveType;\n\treturn newState;\n}\n\nfunction changeDirection(state, payload) {\n\tconst newState = { ...state };\n\tnewState.paths[state.selectedPath].changeDirection();\n\tsaveJsonPath(state.selectedPath, newState.paths[state.selectedPath]);\n\treturn newState;\n}\n\nexport default function path(state, action) {\n\tif (action.type === ADD_PATH) return addPath(state, action.payload);\n\tif (action.type === RENAME_PATH) return renamePath(state, action.payload);\n\tif (action.type === DELETE_PATH) return removePath(state, action.payload);\n\tif (action.type === ADD_WAYPOINT) return addWaypoint(state, action.payload);\n\tif (action.type === SET_WAYPOINT) return setWaypoint(state, action.payload);\n\tif (action.type === SET_PATH_CONFIG) return setPathConfig(state, action.payload);\n\tif (action.type === REMOVE_WAYPOINT) return removeWaypoint(state, action.payload);\n\tif (action.type === CHANGE_DIRECTION) return changeDirection(state, action.payload);\n\tif (action.type === CHANGE_SELECTED_PATH) return changeSelectedPath(state, action.payload);\n\treturn state;\n}\n","import { initialState } from './initial-state';\nimport reduceReducers from 'reduce-reducers';\nimport project from './project/reducer';\nimport { createStore } from 'redux';\nimport view from './view/reducer';\nimport path from './path/reducer';\nimport app from './app/reducer';\n\nconst reducers = reduceReducers(initialState, view, path, project, app);\nconst store = createStore(reducers);\n\nif (process.env.NODE_ENV === 'development')\n\tstore.subscribe(() => {\n\t\tconsole.log('Store change!', store.getState());\n\t});\n\nexport default store;\n","import { SET_APP_VERSION, SET_NEW_VERSION, SET_PLATFORM } from './action-types';\nimport { PopupsConfig } from '../../component/popups/popups-config';\n\nfunction setPlatform(state, payload) {\n\treturn { ...state, isWeb: payload.isWeb };\n}\n\nfunction setAppVersion(state, payload) {\n\treturn { ...state, version: payload.version };\n}\n\nfunction setNewVersion(state, payload) {\n\tconst newState = { ...state, newVersion: payload.version, popupsStatus: new PopupsConfig() };\n\tnewState.popupsStatus.newVersionPopup = true;\n\treturn newState;\n}\n\nexport default function app(state, action) {\n\tif (action.type === SET_PLATFORM) return setPlatform(state, action.payload);\n\tif (action.type === SET_APP_VERSION) return setAppVersion(state, action.payload);\n\tif (action.type === SET_NEW_VERSION) return setNewVersion(state, action.payload);\n\treturn state;\n}\n","import * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Provider } from 'react-redux';\nimport App from './component/app';\nimport ReactDOM from 'react-dom';\nimport store from './redux/store';\nimport React from 'react';\nimport './index.css';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}