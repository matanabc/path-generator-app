{"version":3,"sources":["serviceWorker.js","redux/project/action-types.js","redux/project/actions.js","component/field-view/view-config.js","redux/path/action-types.js","redux/path/actions.js","handlers/csv-handler.js","handlers/local-storage-handler.js","redux/group/action-types.js","redux/group/actions.js","handlers/file-handler.js","handlers/project-handler.js","redux/app/action-types.js","redux/app/actions.js","handlers/app-handler.js","shortcut.js","component/popups/alert-popup.js","component/popups/new-version-popup.js","component/field-view/canvas-painter.js","component/waypoint.js","component/field-view/field-view.js","component/settings/settings-config.js","component/settings/settings-drive-type-config.js","component/settings/settings-folders-config.js","component/settings/settings-robot-config.js","component/settings/settings-filed-config.js","component/settings/settings-path-config.js","component/settings/settings.js","redux/view/action-types.js","redux/view/actions.js","component/playing-bar.js","component/tools/tools-path-direction.js","component/tools/util.js","component/tools/tools-button.js","component/drag-and-drop-list.js","component/group-info.js","component/tools/group-edit-button.js","component/tools/settings-button.js","component/popups/prompt-popup.js","component/tools/rename-button.js","component/popups/confirm-popup.js","component/tools/delete-button.js","component/tools/export-button.js","component/tools/tools-select.js","component/tools/mode-button.js","component/tools/play-button.js","component/tools/tools.js","component/app.js","redux/initial-state.js","redux/project/reducer.js","redux/group/util.js","redux/group/reducer.js","redux/view/reducer.js","redux/path/reducer.js","redux/store.js","redux/app/reducer.js","index.js"],"names":["Boolean","window","location","hostname","match","SET_ROBOT_DRAW_CONFIG","SET_PROJECT_PATH","SET_FIELD_CONFIG","SET_SETTINGS","SET_CSV_PATH","SET_IMAGE","setFieldConfig","fieldConfig","type","payload","setImage","imageUrl","image","setCSVPath","path","setRobotDrawConfig","robotDrawConfig","FieldConfig","widthInMeter","heightInMeter","topLeftXPixel","topLeftYPixel","widthInPixel","heigthInPixel","this","Number","widthPixelToMeter","hightPixelToMeter","RobotDrawConfig","width","length","center","UPDATE_PATH_REDUCER","LOAD_PATH","addWaypoint","waypoint","index","state","a","paths","selected","driveType","vMax","pathConfig","waypoints","Object","assign","Waypoint","v","splice","actionReturn","getNewPath","setWaypoint","selectedWaypoint","getNewWaypoint","removeWaypoint","undefined","changeSelectedPath","pathName","isPathMode","saveCSVTo","deleteJsonPath","listenToMouseClicks","oldName","newName","newPaths","renameJsonPath","name","y","x","isInReverse","loadPath","setPathConfig","PathConfig","acc","robotLoopTime","changeDirection","isReverse","saveJsonPath","object","newWaypointObject","isNaN","angle","robotAngle","Path","getSetpointsCSV","setpoints","setpointKeys","csvLines","map","setpoint","keys","sort","getSetpointKeys","key","join","getSetpointCSV","getCoordsCSV","coords","coord","getCoordCSV","LocalStorageHandler","callback","dispatch","load","loadJsonProject","loadRobotDrawConfig","loadFieldConfig","loadFieldImage","loadPathConfig","loadPaths","jsonProject","JSON","parse","localStorage","getItem","error","Holonomic","Tank","forEach","startsWith","loadJsonPath","replace","settings","projectSettings","setItem","stringify","data","zip","JSZip","folder","endsWith","fileName","file","generateAsync","blob","url","URL","createObjectURL","link","document","createElement","download","href","click","removeItem","CHANGE_SELECTED_PATHS_GROUP","RENAME_GROUP","DELETE_GROUP","UPDATE_GROUP","ADD_GROUP","addGroup","FileHandler","ipcRenderer","require","fs","projectPath","setProjectFolderPath","setCSVFolderPath","loadGroups","folderPath","invoke","readFileSync","imagePath","indexOf","Blob","readdirSync","loadGroup","existsSync","mkdirSync","writeFileSync","groupName","csvFolder","rmdirSync","recursive","filter","unlinkSync","renameSync","handler","changeProjectFolderPath","deletePath","deleteGroup","renameJson","saveJsonProject","saveCSVPath","saveJsonGroup","SET_APP_VERSION","SET_NEW_VERSION","SET_PLATFORM","isWeb","value","setAppVersion","version","getAppVersion","onUpdateDownloaded","appVersion","on","event","info","updateApp","RENAME_SHORTCUT","DIRECTION_SHORTCUT","DOWNLOAD_SHORTCUT","SETTINGS_SHORTCUT","DELETE_SHORTCUT","CREATE_SHORTCUT","MODE_SHORTCUT","CONFIRM_SHORTCUT","PLAY_SHORTCUT","CANCEL_SHORTCUT","AlertPopup","title","body","onClose","show","okButtonRef","useRef","useEffect","current","focus","mousetrap","bindGlobal","unbind","Modal","centered","onHide","Header","Title","Body","Footer","Button","ref","onClick","NewVersionPopup","newVersion","useState","showPopup","setShowPopup","preventDefault","activeElement","blur","drawOnCanvas","canvas","props","ctx","getContext","lineWidth","clearRect","height","beginPath","rect","strokeStyle","stroke","drawFieldBorders","isIllegal","drawWaypoints","rangePosition","moveTo","lineTo","drawCoords","drawRobotInterval","robotX","robotY","drawRobot","drawRobotFromCoord","arc","Math","PI","fillStyle","fill","robotInReverse","isPathInReverse","robotLength","robotBorder","robotCenter","save","robotWidth","translate","rotate","fillRect","drawRobotShape","d2r","drawRobotCenter","drawRobotBorders","restore","color","onChange","onRemove","close","size","closeButton","style","display","textAlignLast","InputGroup","Prepend","Text","FormControl","className","defaultValue","e","target","variant","disabled","React","Component","connect","FieldView","componentDidUpdate","onWheel","ctrlKey","newWaypoint","deltaY","onDown","setSelectedWaypoint","getMousePosition","getWaypointIndex","setState","addEventListener","whileMove","onUp","removeEventListener","ondblclick","showInfo","onCopy","navigator","clipboard","writeText","onPaste","readText","maxX","space","minX","maxY","minY","i","getBoundingClientRect","scaleX","scaleY","clientX","left","clientY","top","toFixed","createRef","oncopy","onpaste","onkeyup","onkeydown","clientWidth","clientHeight","filedImageUrl","backgroundPosition","backgroundSize","backgroundRepeat","backgroundImage","SettingsConfig","getData","bind","fontSize","fontWeight","Row","getConfigInfo","Container","getBody","SettingsDriveTypeConfig","PathGenerator","setDriveType","setElementData","Col","block","active","SettingsFoldersConfig","lastProjectPath","CSVFolderRef","projectFolderRef","resetProjectPath","onProjectFolderPathChange","Form","Group","as","Label","Control","SettingsRobotConfig","robotWidthRef","robotLengthRef","robotCenterRef","md","OverlayTrigger","overlay","Tooltip","SettingsFiledConfig","fieldHeightInPixelRef","fieldHeightInMeterRef","fieldWidthInPixelRef","fieldWidthInMeterRef","filedImageNameRef","fieldTopLeftXRef","fieldTopLeftYRef","SettingsPathConfig","pathWidthRef","robotMaxVRef","pathLengthRef","robotMaxAccRef","robotLoopTimeRef","Settings","func","saveSettings","filedConfig","foldersConfig","setSettings","getUpdateButton","getFoldersConfig","backdrop","CHANGE_LISTEN_TO_MOUSE_STATUS","SET_DRAW_ROBOT_INTERVAL","CHANGE_RANGE_POSITION","CHANGE_MODE","changeRangePosition","position","setDrawRobotInterval","interval","PlayingBar","range","querySelector","sign","max","newPosition","lastPosition","maxPosition","sm","ToolsPathDirection","componentDidMount","getButtonIcon","isPathReverse","isTurnInPlace","deleteAction","renameAction","renamePath","createNewAction","addPath","ToolsButton","shortcut","DragAndDropList","id","items","padding","droppableId","provided","snapshot","droppableProps","innerRef","isDraggingOver","background","overflowX","borderRadius","overflowY","item","draggableId","Alert","draggableProps","dragHandleProps","isDragging","placeholder","GroupInfo","reorder","source","destination","newList","Array","from","removed","result","move","sourceClone","destClone","onDragEnd","group","updateGroup","groupPaths","includes","textAlign","margin","groups","GroupEditButton","showGroupInfo","setShowGroupInfo","SettingsButton","showSettings","setShowSettings","PromptPopup","onCancel","onConfirm","textRef","autoFocus","RenameButton","onRename","ConfirmPopup","cancelButtonRef","DeleteButton","onDelete","ExportButton","onExport","isPathIllegal","showIllegalPopup","setShowIllegalPopup","showExportPopup","setShowExportPopup","onIllegalClose","onExportClose","onExportClick","message","problem","solution","ToolsSelect","changePopupStatus","getItems","pathsName","element","Dropdown","Item","setSelected","changeSelectedGroup","createPath","showCreateNewPopup","selectDropdownText","DropdownButton","drop","Divider","ModeButton","onChangeMode","PlayButton","onPlay","Tools","getPlayButtonIcon","isRangePositionInTheEnd","updateRangePosition","canCreateInterval","setInterval","changeMode","isDisable","App","appUpdaterInit","projectInit","initialState","getGroup","sourceSetpoints","illegalGroup","illegalPathInGroup","push","Util","addPathToGroup","removeGroup","newState","renameGroup","renameJsonGroup","clearInterval","updatePathReducer","reducers","reduceReducers","action","addWaypointInIndex","status","changeListenToMouseStatus","setProjectPath","setPlatform","setNewVersion","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.c0b504fc.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","export const SET_ROBOT_DRAW_CONFIG = 'SET_ROBOT_DRAW_CONFIG';\nexport const SET_PROJECT_PATH = 'SET_PROJECT_PATH';\nexport const SET_FIELD_CONFIG = 'SET_FIELD_CONFIG';\nexport const SET_SETTINGS = 'SET_SETTINGS';\nexport const SET_CSV_PATH = 'SET_CSV_PATH';\nexport const SET_IMAGE = 'SET_IMAGE';\n","import {\n\tSET_ROBOT_DRAW_CONFIG,\n\tSET_PROJECT_PATH,\n\tSET_FIELD_CONFIG,\n\tSET_SETTINGS,\n\tSET_CSV_PATH,\n\tSET_IMAGE,\n} from './action-types';\n\nexport function setSettings(settings) {\n\treturn {\n\t\ttype: SET_SETTINGS,\n\t\tpayload: {\n\t\t\tsettings: settings,\n\t\t},\n\t};\n}\n\nexport function setProjectPath(path) {\n\treturn {\n\t\ttype: SET_PROJECT_PATH,\n\t\tpayload: {\n\t\t\tprojectPath: path,\n\t\t},\n\t};\n}\n\nexport function setFieldConfig(fieldConfig) {\n\treturn {\n\t\ttype: SET_FIELD_CONFIG,\n\t\tpayload: {\n\t\t\tfieldConfig: fieldConfig,\n\t\t},\n\t};\n}\n\nexport function setImage(imageUrl, image) {\n\treturn {\n\t\ttype: SET_IMAGE,\n\t\tpayload: {\n\t\t\timageUrl: imageUrl,\n\t\t\timage: image,\n\t\t},\n\t};\n}\n\nexport function setCSVPath(path) {\n\treturn {\n\t\ttype: SET_CSV_PATH,\n\t\tpayload: {\n\t\t\tpath: path,\n\t\t},\n\t};\n}\n\nexport function setRobotDrawConfig(robotDrawConfig) {\n\treturn {\n\t\ttype: SET_ROBOT_DRAW_CONFIG,\n\t\tpayload: {\n\t\t\trobotDrawConfig: robotDrawConfig,\n\t\t},\n\t};\n}\n","export class FieldConfig {\n\tconstructor(\n\t\twidthInMeter = 16.5354,\n\t\theightInMeter = 8.001,\n\t\ttopLeftXPixel = 0,\n\t\ttopLeftYPixel = 0,\n\t\twidthInPixel = 0,\n\t\theigthInPixel = 0\n\t) {\n\t\tthis.widthInMeter = Number(widthInMeter);\n\t\tthis.heightInMeter = Number(heightInMeter);\n\t\tthis.topLeftXPixel = Number(topLeftXPixel);\n\t\tthis.topLeftYPixel = Number(topLeftYPixel);\n\t\tthis.widthInPixel = Number(widthInPixel);\n\t\tthis.heigthInPixel = Number(heigthInPixel);\n\n\t\tthis.widthPixelToMeter = widthInPixel === 0 ? 0 : widthInMeter / widthInPixel;\n\t\tthis.hightPixelToMeter = heigthInPixel === 0 ? 0 : heightInMeter / heigthInPixel;\n\t}\n}\n\nexport class RobotDrawConfig {\n\tconstructor(width = 0, length = 0, center = 0) {\n\t\tthis.center = Number(center);\n\t\tthis.length = Number(length);\n\t\tthis.width = Number(width);\n\t}\n}\n","export const UPDATE_PATH_REDUCER = 'UPDATE_PATH_REDUCER';\nexport const LOAD_PATH = 'LOAD_PATH';\n","import { saveJsonPath, deleteJsonPath, renameJsonPath } from '../../handlers/project-handler';\nimport { UPDATE_PATH_REDUCER, LOAD_PATH } from './action-types';\n\nexport const setSelectedWaypoint = (index) => ({ type: UPDATE_PATH_REDUCER, payload: { selectedWaypoint: index } });\n\nexport async function addWaypoint(waypoint, index, state) {\n\tconst { paths, selected, driveType } = state;\n\tconst { vMax } = state.pathConfig;\n\tconst { waypoints } = paths[selected];\n\twaypoint = Object.assign(new driveType.Waypoint(), { ...waypoint, v: vMax, vMax: vMax });\n\tif (index === waypoints.length) {\n\t\tif (waypoints[index - 1].v === 0) waypoints[index - 1].v = vMax;\n\t\twaypoints[index - 1].vMax = vMax;\n\t\twaypoint.v = 0;\n\t}\n\twaypoints.splice(index, 0, waypoint);\n\treturn actionReturn({ path: getNewPath(waypoints, state) });\n}\n\nexport async function setWaypoint(waypoint, state) {\n\tconst { paths, selected, selectedWaypoint } = state;\n\tconst { waypoints } = paths[selected];\n\twaypoints[selectedWaypoint] = getNewWaypoint(state, waypoints[selectedWaypoint], waypoint);\n\treturn actionReturn({ path: getNewPath(waypoints, state), selectedWaypoint: selectedWaypoint });\n}\n\nexport async function removeWaypoint(state) {\n\tconst { paths, selected, selectedWaypoint } = state;\n\tconst { waypoints } = paths[selected];\n\twaypoints.splice(selectedWaypoint, 1);\n\treturn actionReturn({ selectedWaypoint: undefined, path: getNewPath(waypoints, state) });\n}\n\nexport async function changeSelectedPath(pathName, state) {\n\tconst { waypoints } = state.paths[pathName];\n\treturn actionReturn({\n\t\tpath: getNewPath(waypoints, { ...state, selected: pathName }),\n\t\tselectedWaypoint: undefined,\n\t\tselected: pathName,\n\t\tisPathMode: true,\n\t});\n}\n\nexport async function deletePath(paths, selected, saveCSVTo) {\n\tdeleteJsonPath(selected, saveCSVTo);\n\tdelete paths[selected];\n\treturn actionReturn({ listenToMouseClicks: false, selected: undefined, path: undefined });\n}\n\nexport async function renamePath(paths, oldName, newName) {\n\tconst newPaths = { ...paths };\n\tif (oldName !== newName) {\n\t\tnewPaths[newName] = newPaths[oldName];\n\t\tdelete newPaths[oldName];\n\t\trenameJsonPath(oldName, newName);\n\t}\n\treturn actionReturn({ selected: newName, paths: newPaths });\n}\n\nexport async function addPath(paths, pathConfig, driveType, name) {\n\tconst waypoints = [\n\t\tObject.assign(new driveType.Waypoint(), { y: 1, vMax: pathConfig.vMax }),\n\t\tObject.assign(new driveType.Waypoint(), { x: 2, y: 1 }),\n\t];\n\tpaths[name] = { waypoints: waypoints, isInReverse: false };\n\treturn actionReturn({\n\t\tpath: getNewPath(waypoints, { driveType, pathConfig, paths, selected: name }),\n\t\tselectedWaypoint: undefined,\n\t\tselected: name,\n\t\tpaths,\n\t});\n}\n\nexport function loadPath(name, waypoints, isInReverse) {\n\treturn { type: LOAD_PATH, payload: { name, waypoints, isInReverse } };\n}\n\nexport async function setPathConfig(pathConfig, driveType) {\n\tpathConfig = new driveType.PathConfig(\n\t\tpathConfig.vMax || 0,\n\t\tpathConfig.acc || 0,\n\t\tpathConfig.width || 0,\n\t\tpathConfig.length || 0,\n\t\tpathConfig.robotLoopTime || 0\n\t);\n\treturn actionReturn({ driveType, pathConfig });\n}\n\nexport async function changeDirection(path, paths, selected) {\n\tpath.changeDirection();\n\tpaths[selected].isInReverse = path.isReverse();\n\tsaveJsonPath(selected, paths[selected]);\n\treturn actionReturn({ paths, path });\n}\n\nfunction getNewWaypoint(state, waypoint, object) {\n\tconst { fieldConfig, pathConfig } = state;\n\tconst newWaypointObject = {\n\t\tx: Number.isNaN(object.x) ? waypoint.x : object.x,\n\t\ty: Number.isNaN(object.y) ? waypoint.y : object.y,\n\t\tv: Number.isNaN(object.v) ? waypoint.v : object.v,\n\t\tvMax: Number.isNaN(object.vMax) ? waypoint.vMax : object.vMax,\n\t\tangle: Number.isNaN(object.angle) ? waypoint.angle : object.angle,\n\t\trobotAngle: Number.isNaN(object.robotAngle) ? waypoint.robotAngle : object.robotAngle,\n\t};\n\n\tif (newWaypointObject.x < 0) newWaypointObject.x = 0;\n\tif (newWaypointObject.x > fieldConfig.widthInMeter) newWaypointObject.x = fieldConfig.widthInMeter;\n\tif (newWaypointObject.y < 0) newWaypointObject.y = 0;\n\tif (newWaypointObject.y > fieldConfig.heightInMeter) newWaypointObject.y = fieldConfig.heightInMeter;\n\tif (newWaypointObject.v < 0) newWaypointObject.v = 0;\n\tif (newWaypointObject.v > pathConfig.vMax) newWaypointObject.v = pathConfig.vMax;\n\tif (newWaypointObject.vMax < 0) newWaypointObject.vMax = 0;\n\tif (newWaypointObject.vMax > pathConfig.vMax) newWaypointObject.vMax = pathConfig.vMax;\n\n\tif (newWaypointObject.robotAngle === undefined) delete newWaypointObject.robotAngle;\n\treturn Object.assign(new state.driveType.Waypoint(), newWaypointObject);\n}\n\nfunction getNewPath(waypoints, state) {\n\tconst { driveType, pathConfig, paths, selected } = state;\n\tconst path = new driveType.Path(waypoints, pathConfig);\n\tif (paths[selected].isInReverse) path.changeDirection();\n\tsaveJsonPath(selected, paths[selected]);\n\treturn path;\n}\n\nconst actionReturn = (payload) => ({ type: UPDATE_PATH_REDUCER, payload: payload });\n","export function getSetpointsCSV(setpoints) {\n\tvar setpointKeys = [];\n\tconst csvLines = setpoints.map((setpoint, index) => {\n\t\tif (index === 0) setpointKeys = getSetpointKeys(setpoint);\n\t\treturn getSetpointCSV(setpoint, setpointKeys);\n\t});\n\treturn `${setpointKeys.join(',')},\\n${csvLines.join('\\n')}`;\n}\n\nfunction getSetpointKeys(setpoint) {\n\treturn Object.keys(setpoint).sort();\n}\n\nfunction getSetpointCSV(setpoint, keys) {\n\tconst csvLine = keys.map((key) => {\n\t\treturn setpoint[key];\n\t});\n\treturn csvLine.join(',') + ',';\n}\n\nexport function getCoordsCSV(path) {\n\tconst csvLines = path.coords.map((coord) => {\n\t\treturn getCoordCSV(coord);\n\t});\n\treturn getCoordCSV() + csvLines.join('\\n');\n}\n\nfunction getCoordCSV(coord) {\n\tif (!coord) return 'Angle,X,Y,\\n';\n\treturn `${coord.angle},${coord.x},${coord.y},`;\n}\n","import { setRobotDrawConfig, setFieldConfig, setImage } from '../redux/project/actions';\nimport { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { setPathConfig, loadPath } from '../redux/path/actions';\nimport { getCoordsCSV, getSetpointsCSV } from './csv-handler';\nimport { Holonomic, Tank } from 'path-generator';\nimport * as JSZip from 'jszip';\n\nexport default class LocalStorageHandler {\n\tconstructor(callback) {\n\t\tthis.dispatch = callback;\n\t\tthis.load();\n\t}\n\n\tasync load() {\n\t\tthis.loadJsonProject();\n\t\tthis.loadRobotDrawConfig();\n\t\tthis.loadFieldConfig();\n\t\tthis.loadFieldImage();\n\t\tthis.loadPathConfig();\n\t\tthis.loadPaths();\n\t}\n\n\tloadJsonProject() {\n\t\ttry {\n\t\t\tthis.jsonProject = JSON.parse(localStorage.getItem('project settings'));\n\t\t} catch (error) {\n\t\t\tthis.jsonProject = undefined;\n\t\t}\n\t}\n\n\tasync loadRobotDrawConfig() {\n\t\tlet robotDrawConfig = new RobotDrawConfig();\n\t\tif (this.jsonProject && this.jsonProject.robotDrawConfig)\n\t\t\trobotDrawConfig = Object.assign(new RobotDrawConfig(), this.jsonProject.robotDrawConfig);\n\t\tthis.dispatch(setRobotDrawConfig(robotDrawConfig));\n\t}\n\n\tasync loadFieldConfig() {\n\t\tlet fieldConfig = new FieldConfig();\n\t\tif (this.jsonProject && this.jsonProject.fieldConfig)\n\t\t\tfieldConfig = Object.assign(new FieldConfig(), this.jsonProject.fieldConfig);\n\t\tthis.dispatch(setFieldConfig(fieldConfig));\n\t}\n\n\tasync loadFieldImage(image) {\n\t\ttry {\n\t\t\timage = image ? image : this.jsonProject.image;\n\t\t\tthis.dispatch(setImage(image, image));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setImage('', ''));\n\t\t}\n\t}\n\n\tasync loadPathConfig() {\n\t\ttry {\n\t\t\tthis.jsonProject.driveType = this.jsonProject.driveType ? this.jsonProject.driveType : 'Tank';\n\t\t\tconst driveType = this.jsonProject.driveType === 'Holonomic' ? Holonomic : Tank;\n\t\t\tconst pathConfig = this.jsonProject.pathConfig ? this.jsonProject.pathConfig : {};\n\t\t\tthis.dispatch(await setPathConfig(pathConfig, driveType));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(await setPathConfig(new Tank.PathConfig(), Tank));\n\t\t}\n\t}\n\n\tasync loadPaths() {\n\t\tObject.keys(localStorage).forEach((key) => {\n\t\t\tif (key.startsWith('path/')) this.loadJsonPath(key);\n\t\t});\n\t}\n\n\tasync loadJsonPath(key) {\n\t\ttry {\n\t\t\tconst path = JSON.parse(localStorage.getItem(key));\n\t\t\tthis.dispatch(loadPath(key.replace('path/', ''), path.waypoints, path.isInReverse));\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonProject(settings) {\n\t\tconst projectSettings = { ...settings };\n\t\tprojectSettings.driveType = settings.driveType === Holonomic ? 'Holonomic' : 'Tank';\n\t\tlocalStorage.setItem('project settings', JSON.stringify(projectSettings));\n\t}\n\n\tasync saveJsonPath(pathName, path) {\n\t\tconst data = { ...path };\n\t\tlocalStorage.setItem(`path/${pathName}`, JSON.stringify(data));\n\t}\n\n\tasync saveCSVPath(path, pathName) {\n\t\ttry {\n\t\t\tlet zip = new JSZip();\n\t\t\tlet folder = zip.folder(pathName);\n\t\t\tObject.keys(path).forEach((key) => {\n\t\t\t\tif (!key.endsWith('Setpoints')) return;\n\t\t\t\tconst fileName = `${pathName}.${key.replace('_', '').replace('Setpoints', '')}.csv`;\n\t\t\t\tfolder.file(fileName, getSetpointsCSV(path[key]));\n\t\t\t});\n\t\t\tfolder.file(`${pathName}.coords.csv`, getCoordsCSV(path));\n\t\t\tconst blob = await zip.generateAsync({ type: 'blob' });\n\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.download = `${pathName}.zip`;\n\t\t\tlink.href = url;\n\t\t\tlink.click();\n\t\t} catch (error) {}\n\t}\n\n\tasync deletePath(pathName) {\n\t\tlocalStorage.removeItem(`path/${pathName}`);\n\t}\n\n\tasync renameJsonPath(oldName, newName) {\n\t\tconst path = localStorage.getItem(`path/${oldName}`);\n\t\tlocalStorage.setItem(`path/${newName}`, path);\n\t\tlocalStorage.removeItem(`path/${oldName}`);\n\t}\n}\n","export const CHANGE_SELECTED_PATHS_GROUP = 'CHANGE_SELECTED_PATHS_GROUP';\nexport const RENAME_GROUP = 'RENAME_GROUP';\nexport const DELETE_GROUP = 'DELETE_GROUP';\nexport const UPDATE_GROUP = 'UPDATE_GROUP';\nexport const ADD_GROUP = 'ADD_GROUP';\n","import { CHANGE_SELECTED_PATHS_GROUP, DELETE_GROUP, RENAME_GROUP, ADD_GROUP, UPDATE_GROUP } from './action-types';\n\nexport function changeSelectedGroup(groupName) {\n\treturn {\n\t\ttype: CHANGE_SELECTED_PATHS_GROUP,\n\t\tpayload: { groupName: groupName },\n\t};\n}\n\nexport function deleteGroup() {\n\treturn {\n\t\ttype: DELETE_GROUP,\n\t\tpayload: {},\n\t};\n}\n\nexport function renameGroup(name) {\n\treturn {\n\t\ttype: RENAME_GROUP,\n\t\tpayload: { name: name },\n\t};\n}\n\nexport function addGroup(name, paths) {\n\treturn {\n\t\ttype: ADD_GROUP,\n\t\tpayload: { name: name, paths: paths },\n\t};\n}\n\nexport function updateGroup(group) {\n\treturn {\n\t\ttype: UPDATE_GROUP,\n\t\tpayload: { group: group },\n\t};\n}\n","import { setRobotDrawConfig, setProjectPath, setFieldConfig, setCSVPath, setImage } from '../redux/project/actions';\nimport { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { setPathConfig, loadPath } from '../redux/path/actions';\nimport { getCoordsCSV, getSetpointsCSV } from './csv-handler';\nimport { addGroup } from '../redux/group/actions';\nimport { Holonomic, Tank } from 'path-generator';\n\nexport default class FileHandler {\n\tconstructor(callback) {\n\t\tthis.ipcRenderer = window.require('electron').ipcRenderer;\n\t\tthis.fs = window.require('fs');\n\t\tthis.dispatch = callback;\n\t\tthis.projectPath = '';\n\t\tthis.load();\n\t}\n\n\tasync load() {\n\t\tawait this.setProjectFolderPath();\n\t\tthis.loadJsonProject();\n\t\tthis.setCSVFolderPath();\n\t\tthis.loadRobotDrawConfig();\n\t\tthis.loadFieldConfig();\n\t\tthis.loadFieldImage();\n\t\tthis.loadPathConfig();\n\t\tthis.loadGroups();\n\t\tthis.loadPaths();\n\t}\n\n\tasync changeProjectFolderPath(folderPath) {\n\t\tawait this.ipcRenderer.invoke('UpdateProjctPath', folderPath);\n\t\tthis.load();\n\t}\n\n\tasync setProjectFolderPath() {\n\t\tthis.projectPath = await this.ipcRenderer.invoke('GetProjctPath');\n\t\tthis.dispatch(setProjectPath(this.projectPath));\n\t}\n\n\tasync setCSVFolderPath() {\n\t\tif (this.jsonProject && this.jsonProject.saveCSVTo && this.jsonProject.saveCSVTo !== '')\n\t\t\tthis.dispatch(setCSVPath(this.jsonProject.saveCSVTo));\n\t\telse this.dispatch(setCSVPath(`${this.projectPath}/csv`));\n\t}\n\n\tloadJsonProject() {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/PathGenerator.json`);\n\t\t\tthis.jsonProject = JSON.parse(data);\n\t\t} catch (error) {\n\t\t\tthis.jsonProject = undefined;\n\t\t}\n\t}\n\n\tasync loadRobotDrawConfig() {\n\t\tvar robotDrawConfig = new RobotDrawConfig();\n\t\tif (this.jsonProject && this.jsonProject.robotDrawConfig)\n\t\t\trobotDrawConfig = Object.assign(new RobotDrawConfig(), this.jsonProject.robotDrawConfig);\n\t\tthis.dispatch(setRobotDrawConfig(robotDrawConfig));\n\t}\n\n\tasync loadFieldConfig() {\n\t\tvar fieldConfig = new FieldConfig();\n\t\tif (this.jsonProject && this.jsonProject.fieldConfig)\n\t\t\tfieldConfig = Object.assign(new FieldConfig(), this.jsonProject.fieldConfig);\n\t\tthis.dispatch(setFieldConfig(fieldConfig));\n\t}\n\n\tasync loadFieldImage(image) {\n\t\ttry {\n\t\t\timage = image ? image : this.jsonProject.image;\n\t\t\tif (image.startsWith('http')) {\n\t\t\t\tthis.dispatch(setImage(image, image));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar imagePath = '';\n\t\t\tif (image.indexOf('/') === -1) imagePath = `${this.projectPath}/${image}`;\n\t\t\telse imagePath = image;\n\n\t\t\tconst data = this.fs.readFileSync(imagePath);\n\t\t\tconst imageUrl = URL.createObjectURL(new Blob([data]));\n\t\t\tthis.dispatch(setImage(imageUrl, image));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setImage('', image || ''));\n\t\t}\n\t}\n\n\tasync loadPathConfig() {\n\t\ttry {\n\t\t\tthis.jsonProject.driveType = this.jsonProject.driveType ? this.jsonProject.driveType : 'Tank';\n\t\t\tconst driveType = this.jsonProject.driveType === 'Holonomic' ? Holonomic : Tank;\n\t\t\tconst pathConfig = this.jsonProject.pathConfig ? this.jsonProject.pathConfig : {};\n\t\t\tthis.dispatch(await setPathConfig(pathConfig, driveType));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(await setPathConfig(new Tank.PathConfig(), Tank));\n\t\t}\n\t}\n\n\tasync loadGroups() {\n\t\ttry {\n\t\t\tconst files = this.fs.readdirSync(`${this.projectPath}/groups`);\n\t\t\tfiles.forEach(async (fileName) => {\n\t\t\t\tif (fileName.endsWith('.json')) this.loadGroup(fileName);\n\t\t\t});\n\t\t} catch (error) {}\n\t}\n\n\tasync loadGroup(fileName) {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/groups/${fileName}`);\n\t\t\tconst paths = JSON.parse(data);\n\t\t\tthis.dispatch(addGroup(fileName.replace('.json', ''), paths));\n\t\t} catch (error) {}\n\t}\n\n\tasync loadPaths() {\n\t\ttry {\n\t\t\tconst files = this.fs.readdirSync(`${this.projectPath}/paths`);\n\t\t\tfiles.forEach(async (fileName) => {\n\t\t\t\tif (fileName.endsWith('.json')) this.loadJsonPath(fileName);\n\t\t\t});\n\t\t} catch (error) {}\n\t}\n\n\tasync loadJsonPath(fileName) {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/paths/${fileName}`);\n\t\t\tconst path = JSON.parse(data);\n\t\t\tthis.dispatch(loadPath(fileName.replace('.json', ''), path.waypoints, path.isInReverse));\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonProject(settings) {\n\t\ttry {\n\t\t\tconst projectSettings = { ...settings };\n\t\t\tprojectSettings.driveType = settings.driveType === Holonomic ? 'Holonomic' : 'Tank';\n\t\t\tdelete projectSettings.projectPath;\n\t\t\tconst jsonProject = JSON.stringify(projectSettings);\n\t\t\tif (!this.fs.existsSync(this.projectPath)) this.fs.mkdirSync(this.projectPath);\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/PathGenerator.json`, jsonProject);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonPath(pathName, path) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(`${this.projectPath}/paths`)) this.fs.mkdirSync(`${this.projectPath}/paths`);\n\t\t\tconst data = JSON.stringify({ ...path });\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/paths/${pathName}.json`, data);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonGroup(groupName, paths) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(`${this.projectPath}/groups`)) this.fs.mkdirSync(`${this.projectPath}/groups`);\n\t\t\tconst data = JSON.stringify(paths);\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/groups/${groupName}.json`, data);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveCSVPath(path, pathName, csvFolder) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(csvFolder)) this.fs.mkdirSync(csvFolder);\n\t\t\tif (this.fs.existsSync(`${csvFolder}/${pathName}`))\n\t\t\t\tthis.fs.rmdirSync(`${csvFolder}/${pathName}`, { recursive: true });\n\t\t\tthis.fs.mkdirSync(`${csvFolder}/${pathName}`);\n\n\t\t\tconst keys = Object.keys(path).filter((key) => key.endsWith('Setpoints'));\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tconst fileName = `${pathName}.${key.replace('_', '').replace('Setpoints', '')}.csv`;\n\t\t\t\tthis.fs.writeFileSync(`${csvFolder}/${pathName}/${fileName}`, getSetpointsCSV(path[key]));\n\t\t\t});\n\t\t\tthis.fs.writeFileSync(`${csvFolder}/${pathName}/${pathName}.coords.csv`, getCoordsCSV(path));\n\t\t} catch (error) {}\n\t}\n\n\tasync deletePath(pathName, csvFolder) {\n\t\ttry {\n\t\t\tthis.fs.unlinkSync(`${this.projectPath}/paths/${pathName}.json`);\n\t\t\tthis.fs.rmdirSync(`${csvFolder}/${pathName}`, { recursive: true });\n\t\t} catch (error) {}\n\t}\n\n\tasync deleteGroup(groupName) {\n\t\ttry {\n\t\t\tthis.fs.unlinkSync(`${this.projectPath}/groups/${groupName}.json`);\n\t\t} catch (error) {}\n\t}\n\n\tasync renameJson(oldName, newName, folder) {\n\t\ttry {\n\t\t\tthis.fs.renameSync(\n\t\t\t\t`${this.projectPath}/${folder}/${oldName}.json`,\n\t\t\t\t`${this.projectPath}/${folder}/${newName}.json`\n\t\t\t);\n\t\t} catch (error) {}\n\t}\n}\n","import LocalStorageHandler from './local-storage-handler';\nimport FileHandler from './file-handler';\n\nvar handler = undefined;\n\nexport async function projectInit(callback) {\n\ttry {\n\t\thandler = new FileHandler(callback);\n\t} catch (error) {\n\t\thandler = new LocalStorageHandler(callback);\n\t}\n}\n\nexport async function changeProjectFolderPath(folderPath) {\n\ttry {\n\t\thandler.changeProjectFolderPath(folderPath);\n\t} catch (error) {}\n}\n\nexport async function saveJsonPath(pathName, path) {\n\ttry {\n\t\thandler.saveJsonPath(pathName, path);\n\t} catch (error) {}\n}\n\nexport async function deleteJsonPath(pathName, csvFolder) {\n\ttry {\n\t\thandler.deletePath(pathName, csvFolder);\n\t} catch (error) {}\n}\n\nexport async function deleteGroup(pathName) {\n\ttry {\n\t\thandler.deleteGroup(pathName);\n\t} catch (error) {}\n}\n\nexport async function renameJsonPath(oldName, newName) {\n\ttry {\n\t\thandler.renameJson(oldName, newName, 'paths');\n\t} catch (error) {}\n}\n\nexport async function renameJsonGroup(oldName, newName) {\n\ttry {\n\t\thandler.renameJson(oldName, newName, 'groups');\n\t} catch (error) {}\n}\n\nexport async function saveJsonProject(settings) {\n\ttry {\n\t\thandler.saveJsonProject(settings);\n\t} catch (error) {}\n}\n\nexport async function loadFieldImage(image) {\n\ttry {\n\t\thandler.loadFieldImage(image);\n\t} catch (error) {}\n}\n\nexport async function saveCSVPath(path, pathName, folder) {\n\ttry {\n\t\thandler.saveCSVPath(path, pathName, folder);\n\t} catch (error) {}\n}\n\nexport async function saveJsonGroup(groupName, paths) {\n\ttry {\n\t\thandler.saveJsonGroup(groupName, paths);\n\t} catch (error) {}\n}\n","export const SET_APP_VERSION = 'SET_APP_VERSION';\nexport const SET_NEW_VERSION = 'SET_NEW_VERSION';\nexport const SET_PLATFORM = 'SET_PLATFORM';\n","import { SET_APP_VERSION, SET_NEW_VERSION, SET_PLATFORM } from './action-types';\n\nexport function isWeb(value) {\n\treturn {\n\t\ttype: SET_PLATFORM,\n\t\tpayload: {\n\t\t\tisWeb: value,\n\t\t},\n\t};\n}\n\nexport function setAppVersion(version) {\n\treturn {\n\t\ttype: SET_APP_VERSION,\n\t\tpayload: {\n\t\t\tversion: version,\n\t\t},\n\t};\n}\n\nexport function setNewVersion(version) {\n\treturn {\n\t\ttype: SET_NEW_VERSION,\n\t\tpayload: {\n\t\t\tversion: version,\n\t\t},\n\t};\n}\n","import { setAppVersion, setNewVersion, isWeb } from '../redux/app/actions';\n\nvar dispatch = undefined;\nvar ipcRenderer = undefined;\n\nexport async function appUpdaterInit(callback) {\n\ttry {\n\t\tdispatch = callback;\n\t\tipcRenderer = window.require('electron').ipcRenderer;\n\t\tdispatch(isWeb(false));\n\t\tgetAppVersion();\n\t\tonUpdateDownloaded();\n\t} catch (error) {\n\t\tdispatch(isWeb(true));\n\t}\n}\n\nasync function getAppVersion() {\n\ttry {\n\t\tconst appVersion = await ipcRenderer.invoke('GetAppVersion');\n\t\tdispatch(setAppVersion(appVersion));\n\t} catch (error) {}\n}\n\nfunction onUpdateDownloaded() {\n\ttry {\n\t\tipcRenderer.on('update-downloaded', (event, info) => {\n\t\t\tdispatch(setNewVersion(info.version));\n\t\t});\n\t} catch (error) {}\n}\n\nexport function updateApp() {\n\ttry {\n\t\tipcRenderer.invoke('UpdateApp');\n\t} catch (error) {}\n}\n","const { NODE_ENV } = process.env;\n\nexport const RENAME_SHORTCUT = NODE_ENV === 'development' ? [] : ['command+r', 'alt+r'];\nexport const DIRECTION_SHORTCUT = ['command+f', 'alt+f'];\nexport const DOWNLOAD_SHORTCUT = ['command+s', 'alt+s'];\nexport const SETTINGS_SHORTCUT = ['command+p', 'alt+p'];\nexport const DELETE_SHORTCUT = ['command+d', 'alt+d'];\nexport const CREATE_SHORTCUT = ['command+n', 'alt+n'];\nexport const MODE_SHORTCUT = ['command+m', 'alt+m'];\nexport const CONFIRM_SHORTCUT = ['return', 'enter'];\nexport const PLAY_SHORTCUT = ['space'];\nexport const CANCEL_SHORTCUT = ['esc'];\n","import React, { useEffect, useRef } from 'react';\nimport { Modal, Button } from 'react-bootstrap';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\n\nimport { CONFIRM_SHORTCUT } from '../../shortcut';\n\nexport default function AlertPopup({ title, body, onClose, show }) {\n\tconst okButtonRef = useRef();\n\tuseEffect(() => {\n\t\tokButtonRef.current && okButtonRef.current.focus();\n\t\tshow ? mousetrap.bindGlobal(CONFIRM_SHORTCUT, onClose) : mousetrap.unbind(CONFIRM_SHORTCUT, onClose);\n\t});\n\n\treturn (\n\t\t<Modal centered show={show} onHide={onClose}>\n\t\t\t{title && (\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t)}\n\t\t\t{body && <Modal.Body>{body}</Modal.Body>}\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button ref={okButtonRef} onClick={onClose}>\n\t\t\t\t\tok\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n","import React, { useState } from 'react';\n\nimport AlertPopup from './alert-popup';\n\nexport default function NewVersionPopup({ newVersion }) {\n\tconst [showPopup, setShowPopup] = useState(true);\n\tconst onClick = (event) => {\n\t\tsetShowPopup(false);\n\t\tif (event) event.preventDefault();\n\t\tif (document.activeElement) document.activeElement.blur();\n\t};\n\n\treturn (\n\t\t<AlertPopup\n\t\t\ttitle={`v${newVersion} is available`}\n\t\t\tshow={showPopup && newVersion !== undefined}\n\t\t\tonClose={onClick}\n\t\t\tbody={\n\t\t\t\t<div>\n\t\t\t\t\t{'There is a new version waiting for you to update to!\\n' +\n\t\t\t\t\t\t'To update jest go to settings and click on update...'}\n\t\t\t\t</div>\n\t\t\t}\n\t\t/>\n\t);\n}\n","import { Holonomic } from 'path-generator';\nimport { d2r } from 'path-generator/lib/util';\n\nexport function drawOnCanvas(canvas, props) {\n\tconst ctx = canvas.getContext('2d');\n\tctx.lineWidth = 5;\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\tdrawFieldBorders(ctx, props);\n\n\tif (!props.path) return;\n\tif (props.path.isIllegal() || props.path.coords.length === 0) {\n\t\tdrawWaypoints(ctx, props);\n\t\treturn;\n\t}\n\n\tdrawCoords(ctx, props);\n\tif (props.isPathMode) drawWaypoints(ctx, props);\n\tif (props.drawRobotInterval !== undefined || props.rangePosition > 0 || !props.isPathMode)\n\t\tdrawRobotFromCoord(ctx, props);\n}\n\nfunction drawFieldBorders(ctx, props) {\n\tctx.beginPath();\n\tctx.rect(\n\t\tprops.fieldConfig.topLeftXPixel,\n\t\tprops.fieldConfig.topLeftYPixel,\n\t\tprops.fieldConfig.widthInPixel,\n\t\tprops.fieldConfig.heigthInPixel\n\t);\n\tctx.strokeStyle = 'blue';\n\tctx.stroke();\n}\n\nfunction drawWaypoints(ctx, props) {\n\tprops.path.waypoints.forEach((waypoint, index) => {\n\t\tconst x = waypoint.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\t\tconst y = waypoint.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\t\tctx.beginPath();\n\t\tctx.arc(x, y, 10, 0, Math.PI * 2, false);\n\t\tif (props.selectedWaypoint === index) ctx.fillStyle = 'blue';\n\t\telse ctx.fillStyle = 'red';\n\t\tctx.fill();\n\t\tif (index === props.selectedWaypoint)\n\t\t\tdrawRobot(ctx, props, x, y, props.driveType === Holonomic ? waypoint.robotAngle : waypoint.angle);\n\t});\n}\n\nfunction drawCoords(ctx, props) {\n\tctx.beginPath();\n\tprops.path.coords.forEach((setpoint, index) => {\n\t\tif (!props.isPathMode && index > props.rangePosition) return;\n\t\tconst x = setpoint.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\t\tconst y = setpoint.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\t\tif (index === 0) ctx.moveTo(x, y);\n\t\telse ctx.lineTo(x, y);\n\t});\n\tctx.strokeStyle = 'Yellow';\n\tctx.stroke();\n}\n\nfunction drawRobotFromCoord(ctx, props) {\n\tconst index = props.rangePosition;\n\tconst coord = props.path.coords[index];\n\tconst robotX = coord.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\tconst robotY = coord.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\tdrawRobot(ctx, props, robotX, robotY, coord.angle);\n}\n\nfunction drawRobot(ctx, props, x, y, angle) {\n\tconst robotInReverse = props.isPathInReverse ? -1 : 1;\n\tconst robotLength = props.robotDrawConfig.length / props.fieldConfig.widthPixelToMeter;\n\tconst robotBorder = (props.robotDrawConfig.width * 0.6) / props.fieldConfig.hightPixelToMeter;\n\tconst robotCenter = (robotInReverse * props.robotDrawConfig.center) / props.fieldConfig.widthPixelToMeter;\n\n\tctx.beginPath();\n\tctx.save();\n\tdrawRobotShape(ctx, props, robotLength, robotCenter, x, y, d2r(angle));\n\tdrawRobotCenter(ctx);\n\tdrawRobotBorders(ctx, robotInReverse, robotLength, robotCenter, robotBorder, 'blue');\n\tdrawRobotBorders(ctx, robotInReverse, -robotLength, robotCenter, robotBorder, 'red');\n\tctx.restore();\n}\n\nfunction drawRobotShape(ctx, props, robotLength, robotCenter, x, y, angle) {\n\tconst robotWidth = props.robotDrawConfig.width / props.fieldConfig.hightPixelToMeter;\n\tconst robotX = x - robotLength / 2;\n\tconst robotY = y - robotWidth / 2;\n\n\tctx.translate(robotX + robotLength / 2, robotY + robotWidth / 2);\n\tctx.rotate(angle);\n\tctx.fillStyle = 'white';\n\tctx.fillRect(-robotLength / 2 - robotCenter, -robotWidth / 2, robotLength, robotWidth);\n}\n\nfunction drawRobotCenter(ctx) {\n\tctx.arc(0, 0, 5, 0, Math.PI * 2, false);\n\tctx.fillStyle = 'blue';\n\tctx.fill();\n}\n\nfunction drawRobotBorders(ctx, robotInReverse, robotLength, robotCenter, robotBorder, color) {\n\tctx.beginPath();\n\tctx.moveTo(robotInReverse * (robotLength / 2) - robotCenter, -robotBorder / 2);\n\tctx.lineTo(robotInReverse * (robotLength / 2) - robotCenter, robotBorder / 2);\n\tctx.strokeStyle = color;\n\tctx.stroke();\n}\n","import { FormControl, InputGroup, Button, Modal } from 'react-bootstrap';\nimport { setWaypoint, removeWaypoint } from '../redux/path/actions';\nimport { Holonomic } from 'path-generator';\nimport { MdDelete } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass Waypoint extends React.Component {\n\tonChange = (value) => this.props.setWaypoint({ ...this.props.waypoint, ...value }, this.props);\n\tonRemove = () => {\n\t\tthis.props.removeWaypoint(this.props);\n\t\tthis.props.close();\n\t};\n\n\trender() {\n\t\tconst { waypoint, show, close, length, driveType, selectedWaypoint } = this.props;\n\t\tif (!waypoint) return <></>;\n\n\t\treturn (\n\t\t\t<Modal show={show} onHide={close} size={'xl'}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Waypoint {selectedWaypoint + 1} info</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body style={{ display: 'flex', textAlignLast: 'center' }}>\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>X</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.x}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ x: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Y</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.y}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ y: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Angle</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.angle}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ angle: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{driveType === Holonomic && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t\t\t<InputGroup.Text>Robot Angle</InputGroup.Text>\n\t\t\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\tdefaultValue={this.props.waypoint.robotAngle}\n\t\t\t\t\t\t\t\tonChange={(e) => this.onChange({ robotAngle: Number(e.target.value) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>V</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.v}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ v: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>vMax</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.vMax}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ vMax: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className=\"mr-2\" variant=\"danger\" onClick={this.onRemove} disabled={length <= 2}>\n\t\t\t\t\t\t<MdDelete />\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpaths: state.paths,\n\t\tselected: state.selected,\n\t\tdriveType: state.driveType,\n\t\tpathConfig: state.pathConfig,\n\t\tfieldConfig: state.fieldConfig,\n\t\tselectedWaypoint: state.selectedWaypoint,\n\t\tlength: state.selected && state.isPathMode ? state.paths[state.selected].waypoints.length : 0,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetWaypoint: async (waypoint, state) => dispatch(await setWaypoint(waypoint, state)),\n\t\tremoveWaypoint: async (state) => dispatch(await removeWaypoint(state)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Waypoint);\n","import { addWaypoint, setWaypoint, setSelectedWaypoint } from '../../redux/path/actions';\nimport { drawOnCanvas } from './canvas-painter';\nimport { connect } from 'react-redux';\nimport Waypoint from '../waypoint';\nimport React from 'react';\n\nclass FieldView extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { index: undefined, ctrlKey: false, showInfo: false, width: 0, height: 0 };\n\t\tthis.canvas = React.createRef();\n\t\tthis.space = 0.15;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst canvas = this.canvas.current;\n\t\tdrawOnCanvas(canvas, this.props);\n\t\tcanvas.addEventListener('wheel', this.onWheel);\n\t\tcanvas.addEventListener('mousedown', this.onDown);\n\t\tcanvas.addEventListener('dblclick', this.ondblclick);\n\t\tdocument.oncopy = this.onCopy;\n\t\tdocument.onpaste = this.onPaste;\n\t\tdocument.onkeyup = (e) => this.setState(() => ({ ctrlKey: e.ctrlKey }));\n\t\tdocument.onkeydown = (e) => this.setState(() => ({ ctrlKey: e.ctrlKey }));\n\t\tthis.setState(() => ({ width: canvas.clientWidth, height: canvas.clientHeight }));\n\t}\n\n\tcomponentDidUpdate = () => drawOnCanvas(this.canvas.current, this.props);\n\n\tonWheel = (event) => {\n\t\tconst { index, ctrlKey } = this.state;\n\t\tconst { waypoints, setWaypoint, isPathMode } = this.props;\n\t\tif (index === undefined || !isPathMode) return;\n\t\tconst newWaypoint = { ...waypoints[index] };\n\t\tif (ctrlKey && waypoints[index].robotAngle !== undefined)\n\t\t\tnewWaypoint.robotAngle = waypoints[index].robotAngle + event.deltaY * 0.1;\n\t\telse newWaypoint.angle = waypoints[index].angle + event.deltaY * 0.1;\n\t\tsetWaypoint(newWaypoint, this.props);\n\t};\n\n\tonDown = async (event) => {\n\t\tconst { path, addWaypoint, setSelectedWaypoint, isPathMode } = this.props;\n\t\tif (!path || !isPathMode) return;\n\t\tconst { x, y } = this.getMousePosition(event);\n\t\tconst index = this.getWaypointIndex(x, y);\n\t\tconst canvas = this.canvas.current;\n\t\tthis.props.setSelectedWaypoint(index);\n\t\tthis.setState(() => ({ index: index }));\n\t\tif (index === undefined) return;\n\t\tif (this.state.ctrlKey) {\n\t\t\tawait addWaypoint({ x: x, y: y }, index, this.props);\n\t\t\tthis.setState(() => ({ index: index + 1 }));\n\t\t\tsetSelectedWaypoint(index + 1);\n\t\t}\n\t\tcanvas.addEventListener('mousemove', this.whileMove);\n\t\tcanvas.addEventListener('mouseup', this.onUp);\n\t};\n\n\twhileMove = (event) => {\n\t\tconst { index } = this.state;\n\t\tconst { setWaypoint, waypoints } = this.props;\n\t\tsetWaypoint({ ...waypoints[index], ...this.getMousePosition(event) }, this.props);\n\t};\n\n\tonUp = () => {\n\t\tconst canvas = this.canvas.current;\n\t\tcanvas.removeEventListener('mousemove', this.whileMove);\n\t\tcanvas.removeEventListener('mouseup', this.onUp);\n\t};\n\n\tondblclick = (event) => {\n\t\tconst { path, isPathMode } = this.props;\n\t\tif (!path || !isPathMode) return;\n\t\tconst { x, y } = this.getMousePosition(event);\n\t\tconst index = this.getWaypointIndex(x, y);\n\t\tif (index === undefined) return;\n\t\tthis.setState(() => ({ index: index, showInfo: true }));\n\t};\n\n\tonClose = () => this.setState(() => ({ showInfo: false }));\n\tonCopy = async () => {\n\t\tconst { index, showInfo } = this.state;\n\t\tif (index === undefined || showInfo) return;\n\t\tconst { waypoints } = this.props;\n\t\tawait navigator.clipboard.writeText(JSON.stringify(waypoints[index]));\n\t};\n\n\tonPaste = async () => {\n\t\ttry {\n\t\t\tconst { index, showInfo } = this.state;\n\t\t\tif (index === undefined || showInfo) return;\n\t\t\tconst waypoint = JSON.parse(await navigator.clipboard.readText());\n\t\t\tawait this.props.addWaypoint(waypoint, index, this.props);\n\t\t} catch (error) {}\n\t};\n\n\tgetWaypointIndex = (x, y) => {\n\t\tconst maxX = x + this.space,\n\t\t\tminX = x - this.space,\n\t\t\tmaxY = y + this.space,\n\t\t\tminY = y - this.space;\n\t\tconst { waypoints } = this.props;\n\t\tlet index = undefined;\n\t\tconst waypoint = waypoints.filter((waypoint, i) => {\n\t\t\tif (maxX >= waypoint.x && minX <= waypoint.x && maxY >= waypoint.y && minY <= waypoint.y) {\n\t\t\t\tindex = i;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tif (waypoint.length > 0) return index;\n\t\telse return undefined;\n\t};\n\n\tgetMousePosition = (event) => {\n\t\tconst canvas = this.canvas.current;\n\t\tconst rect = canvas.getBoundingClientRect();\n\t\tconst scaleX = canvas.width / rect.width;\n\t\tconst scaleY = canvas.height / rect.height;\n\t\tconst { topLeftXPixel, topLeftYPixel, widthPixelToMeter, hightPixelToMeter } = this.props.fieldConfig;\n\t\tconst x = ((event.clientX - rect.left) * scaleX - topLeftXPixel) * widthPixelToMeter;\n\t\tconst y = ((event.clientY - rect.top) * scaleY - topLeftYPixel) * hightPixelToMeter;\n\t\treturn { x: Number(x.toFixed(3)), y: Number(y.toFixed(3)) };\n\t};\n\n\trender() {\n\t\tconst { waypoints, filedImageUrl } = this.props;\n\t\tconst { index, showInfo, width, height } = this.state;\n\t\treturn (\n\t\t\t<div className=\"FieldView\">\n\t\t\t\t<Waypoint show={showInfo} waypoint={waypoints[index]} index={index} close={this.onClose} />\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"FieldImage\"\n\t\t\t\t\tref={this.canvas}\n\t\t\t\t\theight={height}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundPosition: 'center',\n\t\t\t\t\t\tbackgroundSize: 'contain',\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\t\tbackgroundImage: 'url(' + filedImageUrl + ')',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tpath: state.path,\n\tpaths: state.paths,\n\tselected: state.selected,\n\tdriveType: state.driveType,\n\tpathConfig: state.pathConfig,\n\tisPathMode: state.isPathMode,\n\tfiledImageUrl: state.imageUrl,\n\tfieldConfig: state.fieldConfig,\n\trangePosition: state.rangePosition,\n\trobotDrawConfig: state.robotDrawConfig,\n\tselectedWaypoint: state.selectedWaypoint,\n\tdrawRobotInterval: state.drawRobotInterval,\n\tlistenToMouseClicks: state.listenToMouseClicks,\n\tisPathInReverse: state.path ? state.path.isReverse() : false,\n\twaypoints: state.selected && state.isPathMode ? state.paths[state.selected].waypoints : {},\n});\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetSelectedWaypoint: (index) => dispatch(setSelectedWaypoint(index)),\n\t\tsetWaypoint: async (waypoint, state) => dispatch(await setWaypoint(waypoint, state)),\n\t\taddWaypoint: async (waypoint, index, state) => dispatch(await addWaypoint(waypoint, index + 1, state)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FieldView);\n","import { Container, Row } from 'react-bootstrap';\nimport React from 'react';\n\nclass SettingsConfig extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getData = this.getData.bind(this);\n\t\tthis.style = { fontSize: 20, fontWeight: 'bold' };\n\t}\n\n\tgetData() {\n\t\treturn {};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn '';\n\t}\n\n\tgetBody() {\n\t\treturn <div />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Row className=\"ml-0 mb-1\">\n\t\t\t\t\t<span style={this.style}>{this.getConfigInfo()}</span>\n\t\t\t\t</Row>\n\t\t\t\t<Container>{this.getBody()}</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SettingsConfig;\n","import { Row, Col, Button } from 'react-bootstrap';\nimport * as PathGenerator from 'path-generator';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsDriveTypeConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { driveType: PathGenerator.Tank };\n\t\tthis.setDriveType = this.setDriveType.bind(this);\n\t}\n\n\tgetData() {\n\t\treturn { driveType: this.state.driveType };\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('driveType', this.getData);\n\t\tthis.setState(() => {\n\t\t\treturn {\n\t\t\t\tdriveType: this.props.driveType,\n\t\t\t};\n\t\t});\n\t}\n\n\tsetDriveType(type) {\n\t\tthis.setState(() => {\n\t\t\treturn { driveType: PathGenerator[type] };\n\t\t});\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Path config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Row className=\"mb-3\">\n\t\t\t\t{PathGenerator.driveTypes.map((type, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Col key={index}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={() => this.setDriveType(type)}\n\t\t\t\t\t\t\t\tactive={this.state.driveType === PathGenerator[type]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{type}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tdriveType: state.driveType,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsDriveTypeConfig);\n","import { changeProjectFolderPath } from '../../handlers/project-handler';\nimport SettingsConfig from './settings-config';\nimport { Form, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsFoldersConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { lastProjectPath: '' };\n\t\tthis.CSVFolderRef = React.createRef();\n\t\tthis.projectFolderRef = React.createRef();\n\t\tthis.resetProjectPath = this.resetProjectPath.bind(this);\n\t\tthis.onProjectFolderPathChange = this.onProjectFolderPathChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('foldersConfig', this.getData);\n\t\tthis.props.setElementData('resetProjectPath', this.resetProjectPath);\n\t\tthis.setState(() => {\n\t\t\treturn { lastProjectPath: this.props.projectPath };\n\t\t});\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\tsaveCSVTo: this.CSVFolderRef.current.value || this.props.saveCSVTo,\n\t\t\tprojectPath: this.projectFolderRef.current.value,\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Folders config:';\n\t}\n\n\tonProjectFolderPathChange() {\n\t\tchangeProjectFolderPath(this.projectFolderRef.current.value);\n\t}\n\n\tresetProjectPath() {\n\t\tif (this.props.projectPath !== this.state.lastProjectPath) changeProjectFolderPath(this.state.lastProjectPath);\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Project folder</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.projectPath}\n\t\t\t\t\t\t\tref={this.projectFolderRef}\n\t\t\t\t\t\t\tonChange={this.onProjectFolderPathChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Paths CSV folder:</Form.Label>\n\t\t\t\t\t\t<Form.Control defaultValue={this.props.saveCSVTo} ref={this.CSVFolderRef} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprojectPath: state.projectPath,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsFoldersConfig);\n","import { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { RobotDrawConfig } from '../field-view/view-config';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsRobotConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.robotWidthRef = React.createRef();\n\t\tthis.robotLengthRef = React.createRef();\n\t\tthis.robotCenterRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('robotDrawConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.robotWidthRef.current.value = this.props.robotDrawConfig.width;\n\t\tthis.robotLengthRef.current.value = this.props.robotDrawConfig.length;\n\t\tthis.robotCenterRef.current.value = this.props.robotDrawConfig.center;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\trobotDrawConfig: new RobotDrawConfig(\n\t\t\t\tthis.robotWidthRef.current.value,\n\t\t\t\tthis.robotLengthRef.current.value,\n\t\t\t\tthis.robotCenterRef.current.value\n\t\t\t),\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Robot draw config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> with bumper </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotWidthRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.width}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> with bumper </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Length</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotLengthRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.length}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\toverlay={\n\t\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t\t<span style={{ color: 'red' }}>back</span> {' (-) < '}\n\t\t\t\t\t\t\t\t<span style={{ color: 'rgb(50, 100, 0)' }}> center </span>\n\t\t\t\t\t\t\t\t{' < (+) '} <span style={{ color: 'blue' }}>front</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Label>Center</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotCenterRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.center}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t</Form.Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trobotDrawConfig: state.robotDrawConfig,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsRobotConfig);\n","import { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { FieldConfig } from '../field-view/view-config';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsFiledConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.fieldHeightInPixelRef = React.createRef();\n\t\tthis.fieldHeightInMeterRef = React.createRef();\n\t\tthis.fieldWidthInPixelRef = React.createRef();\n\t\tthis.fieldWidthInMeterRef = React.createRef();\n\t\tthis.filedImageNameRef = React.createRef();\n\t\tthis.fieldTopLeftXRef = React.createRef();\n\t\tthis.fieldTopLeftYRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('filedConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.fieldHeightInMeterRef.current.value = this.props.fieldConfig.heightInMeter;\n\t\tthis.fieldWidthInMeterRef.current.value = this.props.fieldConfig.widthInMeter;\n\t\tthis.fieldTopLeftXRef.current.value = this.props.fieldConfig.topLeftXPixel;\n\t\tthis.fieldTopLeftYRef.current.value = this.props.fieldConfig.topLeftYPixel;\n\t\tthis.fieldWidthInPixelRef.current.value = this.props.fieldConfig.widthInPixel;\n\t\tthis.fieldHeightInPixelRef.current.value = this.props.fieldConfig.heigthInPixel;\n\t\tthis.filedImageNameRef.current.value = this.props.filedImageUrl;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\timage: this.filedImageNameRef.current.value,\n\t\t\tfieldConfig: new FieldConfig(\n\t\t\t\tthis.fieldWidthInMeterRef.current.value,\n\t\t\t\tthis.fieldHeightInMeterRef.current.value,\n\t\t\t\tthis.fieldTopLeftXRef.current.value,\n\t\t\t\tthis.fieldTopLeftYRef.current.value,\n\t\t\t\tthis.fieldWidthInPixelRef.current.value,\n\t\t\t\tthis.fieldHeightInPixelRef.current.value\n\t\t\t),\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Filed config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In meter </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.widthInMeter}\n\t\t\t\t\t\t\tref={this.fieldWidthInMeterRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In meter </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Height</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.heightInMeter}\n\t\t\t\t\t\t\tref={this.fieldHeightInMeterRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Image</Form.Label>\n\t\t\t\t\t\t<Form.Control defaultValue={this.props.filedImageUrl} ref={this.filedImageNameRef} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Top left x</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.topLeftXPixel}\n\t\t\t\t\t\t\tref={this.fieldTopLeftXRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Top left y</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.topLeftYPixel}\n\t\t\t\t\t\t\tref={this.fieldTopLeftYRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In pixel </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.widthInPixel}\n\t\t\t\t\t\t\tref={this.fieldWidthInPixelRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In pixel </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Height</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.heigthInPixel}\n\t\t\t\t\t\t\tref={this.fieldHeightInPixelRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfieldConfig: state.fieldConfig,\n\t\tfiledImageUrl: state.image,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsFiledConfig);\n","import SettingsConfig from './settings-config';\nimport { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsPathConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.pathWidthRef = React.createRef();\n\t\tthis.robotMaxVRef = React.createRef();\n\t\tthis.pathLengthRef = React.createRef();\n\t\tthis.robotMaxAccRef = React.createRef();\n\t\tthis.robotLoopTimeRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('pathConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.robotMaxVRef.current.value = this.props.pathConfig.vMax;\n\t\tthis.pathWidthRef.current.value = this.props.pathConfig.width;\n\t\tthis.robotMaxAccRef.current.value = this.props.pathConfig.acc;\n\t\tthis.pathLengthRef.current.value = this.props.pathConfig.length;\n\t\tthis.robotLoopTimeRef.current.value = this.props.pathConfig.robotLoopTime;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\tpathConfig: new this.props.driveType.PathConfig(\n\t\t\t\tNumber(this.robotMaxVRef.current.value),\n\t\t\t\tNumber(this.robotMaxAccRef.current.value),\n\t\t\t\tNumber(this.pathWidthRef.current.value),\n\t\t\t\tNumber(this.pathLengthRef.current.value),\n\t\t\t\tNumber(this.robotLoopTimeRef.current.value)\n\t\t\t),\n\t\t};\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.pathWidthRef} defaultValue={this.props.pathConfig.width} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Length</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.pathLengthRef} defaultValue={this.props.pathConfig.length} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m / s </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Max V</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.robotMaxVRef} defaultValue={this.props.pathConfig.vMax} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m / s ^ 2 </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Max Acc</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.robotMaxAccRef} defaultValue={this.props.pathConfig.acc} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> s </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Loop time</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotLoopTimeRef}\n\t\t\t\t\t\tdefaultValue={this.props.pathConfig.robotLoopTime}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t</Form.Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathConfig: state.pathConfig,\n\t\tdriveType: state.driveType,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsPathConfig);\n","import { Modal, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nimport SettingsDriveTypeConfig from './settings-drive-type-config';\nimport { loadFieldImage } from '../../handlers/project-handler';\nimport SettingsFoldersConfig from './settings-folders-config';\nimport { setSettings } from '../../redux/project/actions';\nimport SettingsRobotConfig from './settings-robot-config';\nimport SettingsFiledConfig from './settings-filed-config';\nimport SettingsPathConfig from './settings-path-config';\nimport { updateApp } from '../../handlers/app-handler';\nimport { CONFIRM_SHORTCUT } from '../../shortcut';\n\nclass Settings extends React.Component {\n\tcomponentDidUpdate() {\n\t\tif (this.props.show) mousetrap.bindGlobal(CONFIRM_SHORTCUT, this.saveSettings);\n\t\telse mousetrap.unbind(CONFIRM_SHORTCUT);\n\t}\n\n\tsetElementData = (key, func) => {\n\t\tthis[key] = func;\n\t};\n\n\tsaveSettings = () => {\n\t\tlet settings = {\n\t\t\t...this.driveType(),\n\t\t\t...this.pathConfig(),\n\t\t\t...this.filedConfig(),\n\t\t\t...this.robotDrawConfig(),\n\t\t};\n\t\tif (this.foldersConfig) settings = Object.assign(settings, this.foldersConfig());\n\t\tif (settings.image !== this.props.filedImageUrl) loadFieldImage(settings.image);\n\t\tthis.props.setSettings(settings);\n\t\tthis.props.onClose();\n\t};\n\n\tgetUpdateButton = () => {\n\t\tif (this.props.newVersion !== undefined) {\n\t\t\treturn (\n\t\t\t\t<Button variant=\"outline-success\" onClick={updateApp}>{`Update to v${this.props.newVersion}`}</Button>\n\t\t\t);\n\t\t}\n\t\treturn <span />;\n\t};\n\n\tgetAppVersion = () => {\n\t\tif (this.props.isWeb) return <span />;\n\t\treturn <div style={{ fontSize: 10 }}>v{this.props.version}</div>;\n\t};\n\n\tgetFoldersConfig = () => {\n\t\tif (this.props.isWeb) return <span />;\n\t\treturn <SettingsFoldersConfig setElementData={this.setElementData} />;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Modal centered show={this.props.show} onHide={this.props.onClose} backdrop=\"static\">\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>Settings</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<div className=\"SettingsBody\">\n\t\t\t\t\t\t{this.getFoldersConfig()}\n\t\t\t\t\t\t<SettingsDriveTypeConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsPathConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsFiledConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsRobotConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t{this.getAppVersion()}\n\t\t\t\t\t</div>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{this.getUpdateButton()}\n\t\t\t\t\t<Button variant=\"outline-primary\" onClick={this.props.onClose}>\n\t\t\t\t\t\tcancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={this.saveSettings}>save</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprojectPath: state.projectPath,\n\t\tnewVersion: state.newVersion,\n\t\tfiledImageUrl: state.image,\n\t\tversion: state.version,\n\t\tisWeb: state.isWeb,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetSettings: (settings) => dispatch(setSettings(settings)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","export const CHANGE_LISTEN_TO_MOUSE_STATUS = 'CHANGE_LISTEN_TO_MOUSE_STATUS';\nexport const SET_DRAW_ROBOT_INTERVAL = 'SET_DRAW_ROBOT_INTERVAL';\nexport const CHANGE_RANGE_POSITION = 'CHANGE_RANGE_POSITION';\nexport const CHANGE_MODE = 'CHANGE_MODE';\n","import {\n\tCHANGE_LISTEN_TO_MOUSE_STATUS,\n\tSET_DRAW_ROBOT_INTERVAL,\n\tCHANGE_RANGE_POSITION,\n\tCHANGE_MODE,\n} from './action-types';\n\nexport function changeRangePosition(position) {\n\treturn {\n\t\ttype: CHANGE_RANGE_POSITION,\n\t\tpayload: {\n\t\t\tposition: position,\n\t\t},\n\t};\n}\n\nexport function setDrawRobotInterval(interval) {\n\treturn {\n\t\ttype: SET_DRAW_ROBOT_INTERVAL,\n\t\tpayload: {\n\t\t\tinterval: interval,\n\t\t},\n\t};\n}\n\nexport function changeListenToMouseStatus(index) {\n\treturn {\n\t\ttype: CHANGE_LISTEN_TO_MOUSE_STATUS,\n\t\tpayload: {\n\t\t\tindex: index,\n\t\t},\n\t};\n}\n\nexport function changeMode() {\n\treturn {\n\t\ttype: CHANGE_MODE,\n\t\tpayload: {},\n\t};\n}\n","import { changeRangePosition, setDrawRobotInterval } from '../redux/view/actions';\nimport { Form, Container, Row, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass PlayingBar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.range = React.createRef();\n\t\tthis.changeRangePosition = this.changeRangePosition.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.range.current.value = 0;\n\t\tthis.range.current.disabled = true;\n\t\tdocument.querySelector('canvas').addEventListener('wheel', (event) => {\n\t\t\tconst { selectedWaypoint, rangePosition } = this.props;\n\t\t\tif (selectedWaypoint === undefined) {\n\t\t\t\tthis.changeRangePosition(rangePosition - Math.sign(event.deltaY));\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.path) {\n\t\t\tthis.range.current.max = this.props.path.coords.length - 1;\n\t\t\tthis.range.current.value = this.props.rangePosition;\n\t\t\tthis.range.current.disabled = false;\n\t\t} else {\n\t\t\tthis.range.current.disabled = true;\n\t\t\tthis.range.current.value = 0;\n\t\t}\n\t}\n\n\tchangeRangePosition(newPosition) {\n\t\tif (!this.props.path) return;\n\t\tthis.props.setDrawRobotInterval();\n\t\tconst lastPosition = this.props.rangePosition;\n\t\tconst maxPosition = this.props.path.coords.length - 1;\n\t\tconst position = newPosition >= 0 && newPosition <= maxPosition ? newPosition : lastPosition;\n\t\tthis.props.changeRangePosition(position);\n\t}\n\n\trender() {\n\t\tconst style = { fontSize: '12px' };\n\t\tconst { rangePosition, robotLoopTime, path } = this.props;\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col sm={0.5} style={style}>\n\t\t\t\t\t\t{path ? (robotLoopTime * rangePosition).toFixed(2) : '0.00'}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tref={this.range}\n\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\tonChange={(event) => this.changeRangePosition(event.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col sm={0.5} style={style}>\n\t\t\t\t\t\t{path && !path.isIllegal() ? ((path.coords.length - 1) * robotLoopTime).toFixed(2) : '0.00'}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.path,\n\t\trangePosition: state.rangePosition,\n\t\tselectedWaypoint: state.selectedWaypoint,\n\t\trobotLoopTime: state.pathConfig.robotLoopTime,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeRangePosition: (position) => dispatch(changeRangePosition(position)),\n\t\tsetDrawRobotInterval: () => dispatch(setDrawRobotInterval()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayingBar);\n","import { changeDirection } from '../../redux/path/actions';\nimport { FiCircle, FiCheckCircle } from 'react-icons/fi';\nimport { DIRECTION_SHORTCUT } from '../../shortcut';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsPathDirection extends React.Component {\n\tcomponentDidMount = () => mousetrap.bindGlobal(DIRECTION_SHORTCUT, this.onClick);\n\n\tonClick = async () => {\n\t\tconst { changeDirection, path, paths, selected, isPathMode } = this.props;\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (!isPathMode) return;\n\t\tif (path) await changeDirection(path, paths, selected);\n\t};\n\n\tgetButtonIcon = () => {\n\t\tif (this.props.path && this.props.isPathReverse) return <FiCheckCircle className=\"mr-2\" />;\n\t\treturn <FiCircle className=\"mr-2\" />;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path || this.props.path.isTurnInPlace()}\n\t\t\t>\n\t\t\t\t{this.getButtonIcon()}\n\t\t\t\tin reverse\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.path,\n\t\tpaths: state.paths,\n\t\tselected: state.selected,\n\t\tisPathMode: state.isPathMode,\n\t\tisPathReverse: state.selected ? state.paths[state.selected].isInReverse : false,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeDirection: async (path, paths, selected) => dispatch(await changeDirection(path, paths, selected)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsPathDirection);\n","import { deleteGroup, renameGroup, addGroup } from '../../redux/group/actions';\nimport { deletePath, renamePath, addPath } from '../../redux/path/actions';\n\nexport function deleteAction(isPathMode, paths, selected, saveCSVTo) {\n\tif (isPathMode) return deletePath(paths, selected, saveCSVTo);\n\treturn deleteGroup();\n}\n\nexport function renameAction(isPathMode, paths, oldName, newName) {\n\tif (isPathMode) return renamePath(paths, oldName, newName);\n\treturn renameGroup(newName);\n}\n\nexport function createNewAction(isPathMode, paths, pathConfig, driveType, name) {\n\tif (isPathMode) return addPath(paths, pathConfig, driveType, name);\n\treturn addGroup(name);\n}\n","import React, { useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\n\nexport default function ToolsButton({ title, variant, disabled, body, onClick, shortcut }) {\n\tuseEffect(() => {\n\t\tif (!shortcut) return;\n\t\tmousetrap.unbind(shortcut);\n\t\tmousetrap.bindGlobal(shortcut, onClick);\n\t});\n\n\treturn (\n\t\t<Button size=\"lg\" className=\"mr-2\" variant={variant} title={title} onClick={onClick} disabled={disabled}>\n\t\t\t{body}\n\t\t</Button>\n\t);\n}\n","import { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Alert } from 'react-bootstrap';\nimport React from 'react';\n\nconst getListStyle = (isDraggingOver) => ({\n\tbackground: isDraggingOver ? 'lightblue' : 'white',\n\tpadding: '10px 8px 0 8px',\n\toverflowX: 'hidden',\n\tborderRadius: '5px',\n\toverflowY: 'auto',\n\theight: '250px',\n});\n\nconst DragAndDropList = ({ style, title, id, items }) => (\n\t<div style={{ ...style, width: '50%', padding: '10px' }}>\n\t\t<h5>{title}</h5>\n\t\t<Droppable droppableId={id}>\n\t\t\t{(provided, snapshot) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\tstyle={getListStyle(snapshot.isDraggingOver)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items.map((item, index) => (\n\t\t\t\t\t\t\t<Draggable key={item} draggableId={item} index={index}>\n\t\t\t\t\t\t\t\t{(provided, snapshot) => (\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\t\t\t\t\tvariant={snapshot.isDragging ? 'success' : 'primary'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Draggable>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{items.length === 0 && <h6>list is empty</h6>}\n\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Droppable>\n\t</div>\n);\n\nexport default DragAndDropList;\n","import { DragDropContext } from 'react-beautiful-dnd';\nimport { Modal } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nimport { updateGroup } from '../redux/group/actions';\nimport DragAndDropList from './drag-and-drop-list';\n\nclass GroupInfo extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { items: [], selected: [] };\n\t}\n\n\tcomponentDidUpdate(props) {\n\t\tconst { paths, groupPaths } = this.props;\n\t\tif (JSON.stringify(props) !== JSON.stringify(this.props))\n\t\t\tthis.setState({ items: paths.filter((path) => !groupPaths.includes(path)), selected: groupPaths });\n\t}\n\n\treorder = (source, destination) => {\n\t\tconst newList = Array.from(this.state[source.droppableId]);\n\t\tconst [removed] = newList.splice(source.index, 1);\n\t\tnewList.splice(destination.index, 0, removed);\n\t\tconst result = {};\n\t\tresult[destination.droppableId] = newList;\n\t\treturn result;\n\t};\n\n\tmove = (source, destination) => {\n\t\tconst sourceClone = Array.from(this.state[source.droppableId]);\n\t\tconst destClone = Array.from(this.state[destination.droppableId]);\n\t\tconst [removed] = sourceClone.splice(source.index, 1);\n\t\tdestClone.splice(destination.index, 0, removed);\n\t\tconst result = {};\n\t\tresult[source.droppableId] = sourceClone;\n\t\tresult[destination.droppableId] = destClone;\n\t\treturn result;\n\t};\n\n\tonDragEnd = (result) => {\n\t\tconst { source, destination } = result;\n\t\tif (!destination) return;\n\t\tif (source.droppableId === destination.droppableId) this.setState(this.reorder(source, destination));\n\t\telse this.setState(this.move(source, destination));\n\t};\n\n\tonClose = (group) => {\n\t\tthis.props.onClose();\n\t\tthis.props.updateGroup(group);\n\t};\n\n\trender() {\n\t\tconst { show, selected } = this.props;\n\t\treturn (\n\t\t\t<Modal show={show} onHide={() => this.onClose(this.state.selected)} size={'lg'} centered>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{`${selected} Group Info`}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\n\t\t\t\t<Modal.Body style={{ display: 'flex', height: '100%', width: '100%', textAlign: 'center' }}>\n\t\t\t\t\t<DragDropContext onDragEnd={this.onDragEnd}>\n\t\t\t\t\t\t<DragAndDropList id={'items'} title={'paths to use'} items={this.state.items} />\n\t\t\t\t\t\t<DragAndDropList\n\t\t\t\t\t\t\tid={'selected'}\n\t\t\t\t\t\t\ttitle={'paths in group'}\n\t\t\t\t\t\t\titems={this.state.selected}\n\t\t\t\t\t\t\tstyle={{ margin: '0 0 0 auto' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DragDropContext>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tselected: state.selected,\n\t\tpaths: Object.keys(state.paths),\n\t\tgroupPaths: state.groups[state.selected] ? state.groups[state.selected] : [],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateGroup: (group) => dispatch(updateGroup(group)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GroupInfo);\n","import React, { useState } from 'react';\nimport { BsFileEarmarkPlus } from 'react-icons/all';\n\nimport ToolsButton from './tools-button';\nimport GroupInfo from '../group-info';\n\nexport default function GroupEditButton({ disabled }) {\n\tconst [showGroupInfo, setShowGroupInfo] = useState(false);\n\tconst onClick = (event) => {\n\t\tsetShowGroupInfo(!showGroupInfo);\n\t\tif (event) event.preventDefault();\n\t\tif (document.activeElement) document.activeElement.blur();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<GroupInfo show={showGroupInfo} onClose={onClick} />\n\t\t\t<ToolsButton disabled={disabled} body={<BsFileEarmarkPlus />} onClick={onClick} />\n\t\t</>\n\t);\n}\n","import React, { useState } from 'react';\nimport { MdBuild } from 'react-icons/md';\n\nimport ToolsButton from './tools-button';\nimport Settings from '../settings/settings';\nimport { SETTINGS_SHORTCUT } from '../../shortcut';\n\nexport default function SettingsButton({ newVersion }) {\n\tconst [showSettings, setShowSettings] = useState(false);\n\tconst onClick = (event) => {\n\t\tsetShowSettings(!showSettings);\n\t\tif (event) event.preventDefault();\n\t\tif (document.activeElement) document.activeElement.blur();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Settings show={showSettings} onClose={() => setShowSettings(false)} />\n\t\t\t<ToolsButton\n\t\t\t\ttitle=\"Settings\"\n\t\t\t\tonClick={onClick}\n\t\t\t\tbody={<MdBuild />}\n\t\t\t\tshortcut={SETTINGS_SHORTCUT}\n\t\t\t\tvariant={newVersion ? 'success' : 'primary'}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import { Modal, Button, FormControl } from 'react-bootstrap';\nimport React, { useEffect, useRef } from 'react';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\n\nimport { CONFIRM_SHORTCUT } from '../../shortcut';\n\nexport default function PromptPopup({ title, placeholder, defaultValue, onCancel, onConfirm, show }) {\n\tconst textRef = useRef();\n\tconst onClick = () => onConfirm(textRef.current ? textRef.current.value : undefined);\n\tuseEffect(() => {\n\t\ttextRef.current && textRef.current.focus();\n\t\tshow ? mousetrap.bindGlobal(CONFIRM_SHORTCUT, onClick) : mousetrap.unbind(CONFIRM_SHORTCUT, onClick);\n\t});\n\n\treturn (\n\t\t<Modal centered show={show} onHide={onCancel}>\n\t\t\t{title && (\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t)}\n\t\t\t<Modal.Body>\n\t\t\t\t<FormControl autoFocus ref={textRef} placeholder={placeholder} defaultValue={defaultValue} />\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"outline-primary\" onClick={onCancel}>\n\t\t\t\t\tcancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={onClick}>confirm</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n","import React, { useState } from 'react';\nimport { MdEdit } from 'react-icons/md';\n\nimport { RENAME_SHORTCUT } from '../../shortcut';\nimport PromptPopup from '../popups/prompt-popup';\nimport ToolsButton from './tools-button';\n\nexport default function RenameButton({ disabled, isPathMode, pathName, onRename }) {\n\tconst [showPopup, setShowPopup] = useState(false);\n\tconst onClick = (event) => {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (event) event.preventDefault();\n\t\tsetShowPopup(!showPopup);\n\t};\n\tconst onConfirm = (newName) => {\n\t\tonRename(newName);\n\t\tsetShowPopup(!showPopup);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PromptPopup\n\t\t\t\tshow={showPopup}\n\t\t\t\tonCancel={onClick}\n\t\t\t\tonConfirm={onConfirm}\n\t\t\t\tdefaultValue={pathName}\n\t\t\t\ttitle={`Rename ${isPathMode ? 'path' : 'group'}`}\n\t\t\t/>\n\t\t\t<ToolsButton\n\t\t\t\tbody={<MdEdit />}\n\t\t\t\tonClick={onClick}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tshortcut={RENAME_SHORTCUT}\n\t\t\t\ttitle={`Rename ${isPathMode ? 'path' : 'group'}`}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import React, { useEffect, useRef } from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nexport default function ConfirmPopup({ title, body, onCancel, onConfirm, show }) {\n\tconst cancelButtonRef = useRef();\n\tuseEffect(() => cancelButtonRef.current && cancelButtonRef.current.focus());\n\n\treturn (\n\t\t<Modal centered show={show} onHide={onCancel}>\n\t\t\t{title && (\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t)}\n\t\t\t{body && <Modal.Body>{body}</Modal.Body>}\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button ref={cancelButtonRef} variant=\"outline-primary\" onClick={onCancel}>\n\t\t\t\t\tcancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={onConfirm}>confirm</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n","import { MdDelete } from 'react-icons/all';\nimport React, { useState } from 'react';\n\nimport ConfirmPopup from '../popups/confirm-popup';\nimport { DELETE_SHORTCUT } from '../../shortcut';\nimport ToolsButton from './tools-button';\n\nexport default function DeleteButton({ disabled, isPathMode, pathName, onDelete }) {\n\tconst [showPopup, setShowPopup] = useState(false);\n\tconst type = isPathMode ? 'path' : 'group';\n\tconst onClick = (event) => {\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (event) event.preventDefault();\n\t\tif (pathName === undefined) return;\n\t\tsetShowPopup(!showPopup);\n\t};\n\tconst onConfirm = async () => {\n\t\tawait onDelete();\n\t\tsetShowPopup(!showPopup);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmPopup\n\t\t\t\tbody={`Are you sure you want to delete ${pathName} ${type}?`}\n\t\t\t\ttitle={`Delete ${type}`}\n\t\t\t\tshow={showPopup}\n\t\t\t\tonConfirm={onConfirm}\n\t\t\t\tonCancel={onClick}\n\t\t\t/>\n\n\t\t\t<ToolsButton\n\t\t\t\tvariant=\"danger\"\n\t\t\t\tonClick={onClick}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tbody={<MdDelete />}\n\t\t\t\ttitle={`Delete ${type}`}\n\t\t\t\tshortcut={DELETE_SHORTCUT}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import { MdError, FiDownload } from 'react-icons/all';\nimport React, { useState } from 'react';\n\nimport { DOWNLOAD_SHORTCUT } from '../../shortcut';\nimport AlertPopup from '../popups/alert-popup';\nimport ToolsButton from './tools-button';\n\nexport default function ExportButton({ disabled, isWeb, saveCSVTo, pathName, path, onExport }) {\n\tconst isPathIllegal = path && path.isIllegal();\n\tconst [showIllegalPopup, setShowIllegalPopup] = useState(false);\n\tconst [showExportPopup, setShowExportPopup] = useState(false);\n\tconst onIllegalClose = async () => setShowIllegalPopup(false);\n\tconst onExportClose = async () => setShowExportPopup(false);\n\tconst onExportClick = async (event) => {\n\t\tif (event) event.preventDefault();\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tonExport(setShowExportPopup, setShowIllegalPopup);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<AlertPopup\n\t\t\t\tshow={showExportPopup && !isWeb}\n\t\t\t\tonClose={onExportClose}\n\t\t\t\ttitle=\"Export path\"\n\t\t\t\tbody={\n\t\t\t\t\tsaveCSVTo !== ''\n\t\t\t\t\t\t? `Path ${pathName} exported successfully!`\n\t\t\t\t\t\t: \"Can't Export path, you need to set export folder path in settings!\"\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<AlertPopup\n\t\t\t\ttitle={path && path.isIllegal() && path.error.message}\n\t\t\t\tshow={showIllegalPopup}\n\t\t\t\tonClose={onIllegalClose}\n\t\t\t\tbody={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{path && path.isIllegal() && path.error.position && `${path.error.position}\\n\\n`}\n\t\t\t\t\t\t{path && path.isIllegal() && path.error.problem && `${path.error.problem}\\n\\n`}\n\t\t\t\t\t\t{path && path.isIllegal() && `${path.error.solution}!`}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<ToolsButton\n\t\t\t\ttitle=\"Export path\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonClick={onExportClick}\n\t\t\t\tshortcut={DOWNLOAD_SHORTCUT}\n\t\t\t\tvariant={isPathIllegal ? 'danger' : 'primary'}\n\t\t\t\tbody={isPathIllegal ? <MdError /> : <FiDownload />}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import { Dropdown, DropdownButton } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nimport { changeSelectedGroup } from '../../redux/group/actions';\nimport { changeSelectedPath } from '../../redux/path/actions';\nimport { CREATE_SHORTCUT } from '../../shortcut';\nimport PromptPopup from '../popups/prompt-popup';\nimport { createNewAction } from './util';\n\nclass ToolsSelect extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { showPopup: false };\n\t}\n\n\tcomponentDidMount = () => mousetrap.bindGlobal(CREATE_SHORTCUT, this.changePopupStatus);\n\n\tgetItems = () => {\n\t\tconst { pathsName, groups, isPathMode, selected } = this.props;\n\t\tconst list = isPathMode ? pathsName : groups;\n\t\treturn list.map((element, index) => {\n\t\t\treturn (\n\t\t\t\t<Dropdown.Item\n\t\t\t\t\tas=\"button\"\n\t\t\t\t\tkey={index}\n\t\t\t\t\tactive={element === selected}\n\t\t\t\t\tonClick={() => this.setSelected(element)}\n\t\t\t\t>\n\t\t\t\t\t{element}\n\t\t\t\t</Dropdown.Item>\n\t\t\t);\n\t\t});\n\t};\n\n\tsetSelected = async (selected) => {\n\t\tconst { changeSelectedGroup, changeSelectedPath, isPathMode } = this.props;\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (isPathMode) await changeSelectedPath(selected, this.props);\n\t\telse changeSelectedGroup(selected, this.props);\n\t};\n\n\tchangePopupStatus = () => this.setState((state) => ({ showPopup: !state.showPopup }));\n\tcreatePath = (pathName) => {\n\t\tconst { isPathMode, paths, pathConfig, driveType } = this.props;\n\t\tthis.props.createNewAction(isPathMode, paths, pathConfig, driveType, pathName);\n\t\tthis.setState({ showPopup: false });\n\t};\n\n\trender() {\n\t\tconst { showCreateNewPopup, isPathMode, selected } = this.props;\n\t\tconst selectDropdownText = selected ? selected : isPathMode ? 'Select Path' : 'Select Group';\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PromptPopup\n\t\t\t\t\tshow={this.state.showPopup}\n\t\t\t\t\tonCancel={this.changePopupStatus}\n\t\t\t\t\tonConfirm={this.createPath}\n\t\t\t\t\tplaceholder={`${isPathMode ? 'path' : 'group'} name`}\n\t\t\t\t\ttitle={`Create new ${isPathMode ? 'path' : 'group'}`}\n\t\t\t\t/>\n\n\t\t\t\t<DropdownButton className=\"ml-3 mr-2\" size=\"lg\" drop=\"up\" title={selectDropdownText}>\n\t\t\t\t\t{this.getItems()}\n\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t<Dropdown.Item as=\"button\" onClick={this.changePopupStatus}>\n\t\t\t\t\t\t{isPathMode ? 'New Path' : 'New Group'}\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathsName: Object.keys(state.paths),\n\t\tgroups: Object.keys(state.groups),\n\t\tisPathMode: state.isPathMode,\n\t\tpathConfig: state.pathConfig,\n\t\tdriveType: state.driveType,\n\t\tselected: state.selected,\n\t\tpaths: state.paths,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeSelectedGroup: (groupName) => dispatch(changeSelectedGroup(groupName)),\n\t\tchangeSelectedPath: async (pathName, state) => dispatch(await changeSelectedPath(pathName, state)),\n\t\tcreateNewAction: async (isPathMode, paths, pathConfig, driveType, pathName) =>\n\t\t\tdispatch(await createNewAction(isPathMode, paths, pathConfig, driveType, pathName)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsSelect);\n","import React from 'react';\nimport { BiEdit, BiMovie } from 'react-icons/bi';\n\nimport ToolsButton from './tools-button';\nimport { MODE_SHORTCUT } from '../../shortcut';\n\nexport default function ModeButton({ isPathMode, onChangeMode }) {\n\tconst onClick = (event) => {\n\t\tonChangeMode();\n\t\tif (event) event.preventDefault();\n\t\tif (document.activeElement) document.activeElement.blur();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ToolsButton\n\t\t\t\tshortcut={MODE_SHORTCUT}\n\t\t\t\tbody={isPathMode ? <BiMovie /> : <BiEdit />}\n\t\t\t\tonClick={onClick}\n\t\t\t\ttitle={`Change to ${isPathMode ? 'group' : 'path'} mode`}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import React from 'react';\n\nimport { PLAY_SHORTCUT } from '../../shortcut';\nimport ToolsButton from './tools-button';\n\nexport default function PlayButton({ path, body, onPlay }) {\n\tconst onClick = () => {\n\t\tif (document.querySelector('.modal-content') !== null) return;\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tonPlay();\n\t};\n\n\treturn (\n\t\t<ToolsButton\n\t\t\tbody={body}\n\t\t\tonClick={onClick}\n\t\t\tshortcut={PLAY_SHORTCUT}\n\t\t\tdisabled={!path || path.waypoints.length <= 1 || path.isIllegal()}\n\t\t/>\n\t);\n}\n","import { MdPause, MdReplay, MdPlayArrow } from 'react-icons/md';\nimport { Container, Row } from 'react-bootstrap';\nimport { Holonomic } from 'path-generator';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nimport { setDrawRobotInterval, changeRangePosition, changeMode } from '../../redux/view/actions';\nimport { saveCSVPath } from '../../handlers/project-handler';\nimport ToolsPathDirection from './tools-path-direction';\nimport { deleteAction, renameAction } from './util';\nimport GroupEditButton from './group-edit-button';\nimport SettingsButton from './settings-button';\nimport RenameButton from './rename-button';\nimport DeleteButton from './delete-button';\nimport ExportButton from './export-button';\nimport ToolsSelect from './tools-select';\nimport ModeButton from './mode-button';\nimport PlayButton from './play-button';\n\nclass Tools extends React.Component {\n\tonRename = (newName) => {\n\t\tconst { isPathMode, pathName, paths } = this.props;\n\t\tthis.props.onRename(isPathMode, paths, pathName, newName);\n\t};\n\n\tonExport = (setShowExportPopup, setShowIllegalPopup) => {\n\t\tconst { driveType, paths, path, saveCSVTo, isWeb, isPathMode, pathName, group, pathConfig } = this.props;\n\t\tif (!path) return;\n\t\tif (saveCSVTo === '' && !isWeb) setShowExportPopup(true);\n\t\telse if (path.isIllegal()) setShowIllegalPopup(true);\n\t\telse {\n\t\t\tconst pathsToDownload = isPathMode ? [pathName] : group;\n\t\t\tpathsToDownload.forEach((pathName) => {\n\t\t\t\tconst path = new driveType.Path(paths[pathName].waypoints, pathConfig);\n\t\t\t\tsaveCSVPath(path, pathName, saveCSVTo);\n\t\t\t});\n\t\t\tsetShowExportPopup(true);\n\t\t}\n\t};\n\n\tgetPlayButtonIcon = () => {\n\t\tconst { drawRobotInterval, path, rangePosition } = this.props;\n\t\tif (drawRobotInterval) return <MdPause />;\n\t\telse if (path && path.coords.length - 1 === rangePosition) return <MdReplay />;\n\t\telse return <MdPlayArrow />;\n\t};\n\n\tonPlay = async () => {\n\t\tconst { path, drawRobotInterval, rangePosition, robotLoopTime } = this.props;\n\t\tconst { setDrawRobotInterval, changeRangePosition } = this.props;\n\t\tconst canCreateInterval = () => path && !drawRobotInterval && path.coords.length > 0;\n\t\tconst isRangePositionInTheEnd = () => path && path.coords.length - 1 === rangePosition;\n\t\tconst updateRangePosition = () => {\n\t\t\tconst { path, rangePosition } = this.props;\n\t\t\tconst { setDrawRobotInterval, changeRangePosition } = this.props;\n\t\t\tconst isRangePositionInTheEnd = () => path && path.coords.length - 1 === rangePosition;\n\t\t\tif (isRangePositionInTheEnd()) setDrawRobotInterval();\n\t\t\telse changeRangePosition(rangePosition + 1);\n\t\t};\n\t\tlet interval = undefined;\n\t\tif (canCreateInterval()) {\n\t\t\tif (isRangePositionInTheEnd()) changeRangePosition(0);\n\t\t\tinterval = setInterval(updateRangePosition, robotLoopTime * 1000);\n\t\t}\n\t\tsetDrawRobotInterval(interval);\n\t};\n\n\tonDelete = async () => {\n\t\tconst { paths, pathName, saveCSVTo, isPathMode } = this.props;\n\t\tthis.props.deleteAction(isPathMode, paths, pathName, saveCSVTo);\n\t};\n\n\trender() {\n\t\tconst { driveType, isPathMode, path, newVersion, pathName, isWeb, saveCSVTo } = this.props;\n\t\tconst { changeMode } = this.props;\n\t\tconst isDisable = !path;\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<SettingsButton newVersion={newVersion} />\n\t\t\t\t\t<ModeButton isPathMode={isPathMode} onChangeMode={changeMode} />\n\t\t\t\t\t<ToolsSelect />\n\t\t\t\t\t<RenameButton\n\t\t\t\t\t\tpathName={pathName}\n\t\t\t\t\t\tdisabled={isDisable}\n\t\t\t\t\t\tisPathMode={isPathMode}\n\t\t\t\t\t\tonRename={this.onRename}\n\t\t\t\t\t/>\n\t\t\t\t\t<ExportButton\n\t\t\t\t\t\tpath={path}\n\t\t\t\t\t\tisWeb={isWeb}\n\t\t\t\t\t\tpathName={pathName}\n\t\t\t\t\t\tdisabled={isDisable}\n\t\t\t\t\t\tsaveCSVTo={saveCSVTo}\n\t\t\t\t\t\tonExport={this.onExport}\n\t\t\t\t\t/>\n\t\t\t\t\t<PlayButton body={this.getPlayButtonIcon()} path={path} onPlay={this.onPlay} />\n\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\tdisabled={isDisable}\n\t\t\t\t\t\tpathName={pathName}\n\t\t\t\t\t\tisPathMode={isPathMode}\n\t\t\t\t\t\tonDelete={this.onDelete}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{!isPathMode && <GroupEditButton disabled={pathName === undefined} />}\n\t\t\t\t\t{isPathMode && driveType !== Holonomic && <ToolsPathDirection />}\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.path,\n\t\tpaths: state.paths,\n\t\tisWeb: state.isWeb,\n\t\tpathName: state.selected,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t\tdriveType: state.driveType,\n\t\tnewVersion: state.newVersion,\n\t\tpathConfig: state.pathConfig,\n\t\tisPathMode: state.isPathMode,\n\t\trangePosition: state.rangePosition,\n\t\tgroup: state.groups[state.selected],\n\t\tdrawRobotInterval: state.drawRobotInterval,\n\t\trobotLoopTime: state.pathConfig.robotLoopTime,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetDrawRobotInterval: (interval) => dispatch(setDrawRobotInterval(interval)),\n\t\tchangeRangePosition: (position) => dispatch(changeRangePosition(position)),\n\t\tchangeMode: () => dispatch(changeMode()),\n\t\tdeleteAction: async (isPathMode, paths, selected, saveCSVTo) =>\n\t\t\tdispatch(await deleteAction(isPathMode, paths, selected, saveCSVTo)),\n\t\tonRename: async (isPathMode, paths, oldName, newName) =>\n\t\t\tdispatch(await renameAction(isPathMode, paths, oldName, newName)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Tools);\n","import { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nimport { projectInit } from '../handlers/project-handler';\nimport { appUpdaterInit } from '../handlers/app-handler';\nimport NewVersionPopup from './popups/new-version-popup';\nimport FieldView from './field-view/field-view';\nimport { CANCEL_SHORTCUT } from '../shortcut';\nimport Settings from './settings/settings';\nimport PlayingBar from './playing-bar';\nimport Tools from './tools/tools';\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tappUpdaterInit(this.props.dispatch);\n\t\tprojectInit(this.props.dispatch);\n\t\tmousetrap.bindGlobal(CANCEL_SHORTCUT, () => {\n\t\t\tif (document.activeElement) document.activeElement.blur();\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<NewVersionPopup newVersion={this.props.newVersion} />\n\t\t\t\t<Settings />\n\t\t\t\t<FieldView />\n\t\t\t\t<div id=\"bottom\">\n\t\t\t\t\t<PlayingBar />\n\t\t\t\t\t<Tools />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisPathMode: state.isPathMode,\n\t\tnewVersion: state.newVersion,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tdispatch: (value) => dispatch(value),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { Tank } from 'path-generator';\n\nexport const initialState = {\n\t//View\n\tdrawRobotInterval: undefined,\n\tselected: undefined,\n\trangePosition: 0,\n\tisPathMode: true,\n\n\t// group\n\tgroups: {},\n\n\t// Path\n\tselectedWaypoint: undefined,\n\tdriveType: Tank,\n\tpath: undefined,\n\tpaths: {},\n\n\t//Project\n\trobotDrawConfig: new RobotDrawConfig(),\n\tpathConfig: new Tank.PathConfig(),\n\tfieldConfig: new FieldConfig(),\n\tprojectPath: '',\n\tsaveCSVTo: '',\n\timageUrl: '',\n\timage: '',\n\n\t//App\n\tnewVersion: undefined,\n\tversion: '0.0.0',\n\tisWeb: true,\n};\n","import { saveJsonProject } from '../../handlers/project-handler';\nimport {\n\tSET_ROBOT_DRAW_CONFIG,\n\tSET_PROJECT_PATH,\n\tSET_FIELD_CONFIG,\n\tSET_SETTINGS,\n\tSET_CSV_PATH,\n\tSET_IMAGE,\n} from './action-types';\n\nfunction setSettings(state, payload) {\n\tsaveJsonProject(payload.settings);\n\treturn { ...state, ...payload.settings, selected: undefined, path: undefined, listenToMouseClicks: false };\n}\n\nfunction setProjectPath(state, payload) {\n\treturn { ...state, projectPath: payload.projectPath, selected: undefined, paths: {} };\n}\n\nfunction setFieldConfig(state, payload) {\n\treturn { ...state, fieldConfig: payload.fieldConfig };\n}\n\nfunction setImage(state, payload) {\n\treturn { ...state, image: payload.image, imageUrl: payload.imageUrl };\n}\n\nfunction setCSVPath(state, payload) {\n\treturn { ...state, saveCSVTo: payload.path };\n}\n\nfunction setRobotDrawConfig(state, payload) {\n\treturn { ...state, robotDrawConfig: payload.robotDrawConfig };\n}\n\nexport default function project(state, action) {\n\tif (action.type === SET_IMAGE) return setImage(state, action.payload);\n\tif (action.type === SET_CSV_PATH) return setCSVPath(state, action.payload);\n\tif (action.type === SET_SETTINGS) return setSettings(state, action.payload);\n\tif (action.type === SET_PROJECT_PATH) return setProjectPath(state, action.payload);\n\tif (action.type === SET_FIELD_CONFIG) return setFieldConfig(state, action.payload);\n\tif (action.type === SET_ROBOT_DRAW_CONFIG) return setRobotDrawConfig(state, action.payload);\n\treturn state;\n}\n","import { Util } from 'path-generator';\n\nfunction illegalGroup(group, state) {\n\tgroup.coords = [];\n\tgroup.waypoints = [];\n\tgroup.sourceSetpoints = [];\n\tgroup.isIllegal = () => true;\n}\n\nfunction illegalPathInGroup(group, state) {\n\tillegalGroup(group, state);\n\tgroup.error = {\n\t\tinfo: 'Illegal Path In Group!',\n\t\tproblem: `There is illegal path!`,\n\t\tsolution: `Fix the illegal path!`,\n\t};\n}\n\nfunction addPathToGroup(state, group, path, pathName) {\n\tgroup.sourceSetpoints.push(...path.sourceSetpoints);\n\tgroup.waypoints.push(...path.waypoints);\n\n\tconst coords = path.coords;\n\tif (state.paths[pathName].isInReverse)\n\t\tpath.coords.forEach((coord) => {\n\t\t\tcoord.angle += Util.d2r(180);\n\t\t});\n\tgroup.coords.push(...coords);\n}\n\nexport function getGroup(state) {\n\tconst group = { coords: [], waypoints: [], sourceSetpoints: [], isIllegal: () => false, isReverse: () => false };\n\tstate.groups[state.selected].forEach((pathName) => {\n\t\tif (!state.paths[pathName]) {\n\t\t\tconst index = state.groups[state.selected].indexOf(pathName);\n\t\t\tif (index >= 0) state.groups[state.selected].splice(index, 1);\n\t\t\treturn;\n\t\t}\n\t\tconst path = new state.driveType.Path(state.paths[pathName].waypoints, state.pathConfig);\n\t\tif (path.isIllegal()) {\n\t\t\tillegalPathInGroup(group, state);\n\t\t\treturn;\n\t\t}\n\t\taddPathToGroup(state, group, path, pathName);\n\t});\n\treturn { ...state, path: group };\n}\n","import { CHANGE_SELECTED_PATHS_GROUP, DELETE_GROUP, RENAME_GROUP, ADD_GROUP, UPDATE_GROUP } from './action-types';\nimport { saveJsonGroup, deleteGroup, renameJsonGroup } from '../../handlers/project-handler';\nimport { getGroup } from './util';\n\nfunction changeSelectedGroup(state, payload) {\n\treturn getGroup({ ...state, selected: payload.groupName });\n}\n\nfunction updateGroup(state, payload) {\n\tconst newState = { ...state };\n\tnewState.groups[newState.selected] = payload.group;\n\tsaveJsonGroup(newState.selected, newState.groups[newState.selected]);\n\treturn getGroup(newState);\n}\n\nfunction removeGroup(state, payload) {\n\tconst newState = { ...state, selected: undefined, path: undefined };\n\tdelete newState.groups[state.selected];\n\tdeleteGroup(state.selected);\n\treturn newState;\n}\n\nfunction renameGroup(state, payload) {\n\tconst newState = { ...state, selected: payload.name };\n\tif (payload.name !== state.selected) {\n\t\trenameJsonGroup(state.selected, payload.name);\n\t\tnewState.groups[payload.name] = newState.groups[state.selected];\n\t\tdelete newState.groups[state.selected];\n\t}\n\treturn newState;\n}\n\nfunction addGroup(state, payload) {\n\tconst newState = { ...state };\n\tconst paths = payload.paths ? payload.paths : [];\n\tnewState.groups[payload.name] = paths;\n\tif (!payload.paths) {\n\t\tnewState.path = undefined;\n\t\tnewState.selected = payload.name;\n\t\tsaveJsonGroup(newState.selected, newState.groups[state.selected]);\n\t}\n\treturn newState;\n}\n\nexport default function group(state, action) {\n\tif (action.type === CHANGE_SELECTED_PATHS_GROUP) return changeSelectedGroup(state, action.payload);\n\tif (action.type === UPDATE_GROUP) return updateGroup(state, action.payload);\n\tif (action.type === RENAME_GROUP) return renameGroup(state, action.payload);\n\tif (action.type === DELETE_GROUP) return removeGroup(state, action.payload);\n\tif (action.type === ADD_GROUP) return addGroup(state, action.payload);\n\treturn state;\n}\n","import {\n\tCHANGE_LISTEN_TO_MOUSE_STATUS,\n\tSET_DRAW_ROBOT_INTERVAL,\n\tCHANGE_RANGE_POSITION,\n\tCHANGE_MODE,\n} from './action-types';\n\nfunction changeRangePosition(state, payload) {\n\treturn { ...state, rangePosition: Number(payload.position) };\n}\n\nfunction setDrawRobotInterval(state, payload) {\n\tif (!state.drawRobotInterval && payload.interval)\n\t\treturn { ...state, drawRobotInterval: payload.interval, selectedWaypoint: undefined };\n\tclearInterval(state.drawRobotInterval);\n\treturn { ...state, drawRobotInterval: undefined, selectedWaypoint: undefined };\n}\n\nfunction changeListenToMouseStatus(state, payload) {\n\tconst index = state.addWaypointInIndex !== undefined ? undefined : payload.index;\n\tconst status = payload.index !== undefined ? true : !state.listenToMouseClicks;\n\treturn {\n\t\t...state,\n\t\tlistenToMouseClicks: status,\n\t\taddWaypointInIndex: index,\n\t};\n}\n\nfunction changeMode(state, payload) {\n\treturn {\n\t\t...state,\n\t\tisPathMode: !state.isPathMode,\n\t\tlistenToMouseClicks: false,\n\t\tselected: undefined,\n\t\tpath: undefined,\n\t};\n}\n\nexport default function view(state, action) {\n\tif (action.type !== SET_DRAW_ROBOT_INTERVAL && action.type !== CHANGE_RANGE_POSITION) {\n\t\tstate = setDrawRobotInterval(state, {});\n\t\tstate = changeRangePosition(state, { position: 0 });\n\t}\n\tif (action.type === CHANGE_MODE) return changeMode(state, action.payload);\n\tif (action.type === CHANGE_RANGE_POSITION) return changeRangePosition(state, action.payload);\n\tif (action.type === SET_DRAW_ROBOT_INTERVAL) return setDrawRobotInterval(state, action.payload);\n\tif (action.type === CHANGE_LISTEN_TO_MOUSE_STATUS) return changeListenToMouseStatus(state, action.payload);\n\treturn state;\n}\n","import { UPDATE_PATH_REDUCER, LOAD_PATH } from './action-types';\n\nconst updatePathReducer = (state, payload) => ({ ...state, ...payload });\n\nfunction loadPath(state, payload) {\n\tconst { driveType, paths } = state;\n\tlet { waypoints, name, isInReverse } = payload;\n\twaypoints = waypoints.map((waypoint) => Object.assign(new driveType.Waypoint(), waypoint));\n\tpaths[name] = { waypoints: waypoints, isInReverse: isInReverse };\n\treturn updatePathReducer(state, { waypoints: waypoints, paths: paths });\n}\n\nexport default function path(state, action) {\n\tif (action.type === LOAD_PATH) return loadPath(state, action.payload);\n\tif (action.type === UPDATE_PATH_REDUCER) return updatePathReducer(state, action.payload);\n\treturn state;\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport reduceReducers from 'reduce-reducers';\nimport thunk from 'redux-thunk';\n\nimport { initialState } from './initial-state';\nimport project from './project/reducer';\nimport group from './group/reducer';\nimport view from './view/reducer';\nimport path from './path/reducer';\nimport app from './app/reducer';\n\nconst reducers = reduceReducers(initialState, view, path, project, app, group);\nconst store = createStore(reducers, applyMiddleware(thunk));\n\nif (process.env.NODE_ENV === 'development')\n\tstore.subscribe(() => {\n\t\tconsole.log('Store change!', store.getState());\n\t});\n\nexport default store;\n","import { SET_APP_VERSION, SET_NEW_VERSION, SET_PLATFORM } from './action-types';\n\nfunction setPlatform(state, payload) {\n\treturn { ...state, isWeb: payload.isWeb };\n}\n\nfunction setAppVersion(state, payload) {\n\treturn { ...state, version: payload.version };\n}\n\nfunction setNewVersion(state, payload) {\n\treturn { ...state, newVersion: payload.version };\n}\n\nexport default function app(state, action) {\n\tif (action.type === SET_PLATFORM) return setPlatform(state, action.payload);\n\tif (action.type === SET_APP_VERSION) return setAppVersion(state, action.payload);\n\tif (action.type === SET_NEW_VERSION) return setNewVersion(state, action.payload);\n\treturn state;\n}\n","import * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Provider } from 'react-redux';\nimport App from './component/app';\nimport ReactDOM from 'react-dom';\nimport store from './redux/store';\nimport React from 'react';\nimport './index.css';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}