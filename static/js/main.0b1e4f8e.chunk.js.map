{"version":3,"sources":["serviceWorker.js","redux/project/action-types.js","redux/project/actions.js","component/field-view/view-config.js","redux/path/action-types.js","redux/path/actions.js","handlers/csv-handler.js","handlers/local-storage-handler.js","redux/group/action-types.js","redux/group/actions.js","handlers/file-handler.js","handlers/project-handler.js","redux/app/action-types.js","redux/app/actions.js","handlers/app-handler.js","component/field-view/canvas-painter.js","component/waypoint.js","component/field-view/field-view.js","shortcut.js","component/settings/settings-config.js","component/settings/settings-drive-type-config.js","redux/view/action-types.js","redux/view/actions.js","component/settings/settings-folders-config.js","component/settings/settings-robot-config.js","component/settings/settings-filed-config.js","component/settings/settings-path-config.js","component/settings/settings.js","component/playing-bar.js","component/drag-and-drop-list.js","component/group-info.js","component/popups/util.js","component/popups/popup.js","component/popups/popups.js","component/popups/popups-config.js","component/tools/tools-events.js","component/tools/tools-path-direction.js","component/tools/tools-select.js","component/tools/tools-button.js","component/tools/tools.js","component/app.js","redux/initial-state.js","redux/group/util.js","redux/group/reducer.js","redux/project/reducer.js","redux/view/reducer.js","redux/path/reducer.js","redux/store.js","redux/app/reducer.js","index.js"],"names":["Boolean","window","location","hostname","match","SET_ROBOT_DRAW_CONFIG","SET_PROJECT_PATH","SET_FIELD_CONFIG","SET_SETTINGS","SET_CSV_PATH","SET_IMAGE","setFieldConfig","fieldConfig","type","payload","setImage","imageUrl","image","setCSVPath","path","setRobotDrawConfig","robotDrawConfig","FieldConfig","widthInMeter","heightInMeter","topLeftXPixel","topLeftYPixel","widthInPixel","heigthInPixel","this","Number","widthPixelToMeter","hightPixelToMeter","RobotDrawConfig","width","length","center","UPDATE_PATH_REDUCER","LOAD_PATH","addWaypoint","waypoint","index","state","a","paths","selected","driveType","vMax","pathConfig","waypoints","Object","assign","Waypoint","v","splice","actionReturn","getNewPath","setWaypoint","selectedWaypoint","getNewWaypoint","removeWaypoint","undefined","changeSelectedPath","pathName","isPathMode","saveCSVTo","deleteJsonPath","listenToMouseClicks","oldName","newName","renameJsonPath","name","y","x","isInReverse","loadPath","setPathConfig","PathConfig","acc","robotLoopTime","changeDirection","isReverse","saveJsonPath","object","newWaypointObject","isNaN","angle","robotAngle","Path","getSetpointsCSV","setpoints","setpointKeys","csvLines","map","setpoint","keys","sort","getSetpointKeys","key","join","getSetpointCSV","getCoordsCSV","coords","coord","getCoordCSV","LocalStorageHandler","callback","dispatch","load","loadJsonProject","loadRobotDrawConfig","loadFieldConfig","loadFieldImage","loadPathConfig","loadPaths","jsonProject","JSON","parse","localStorage","getItem","error","Holonomic","Tank","forEach","startsWith","loadJsonPath","replace","settings","projectSettings","setItem","stringify","data","zip","JSZip","folder","endsWith","fileName","file","generateAsync","blob","url","URL","createObjectURL","link","document","createElement","download","href","click","removeItem","CHANGE_SELECTED_PATHS_GROUP","RENAME_GROUP","DELETE_GROUP","UPDATE_GROUP","ADD_GROUP","addGroup","FileHandler","ipcRenderer","require","fs","projectPath","setProjectFolderPath","setCSVFolderPath","loadGroups","folderPath","invoke","readFileSync","imagePath","indexOf","Blob","readdirSync","loadGroup","existsSync","mkdirSync","writeFileSync","groupName","csvFolder","rmdirSync","recursive","filter","unlinkSync","renameSync","handler","changeProjectFolderPath","deletePath","deleteGroup","renameJson","saveJsonProject","saveCSVPath","saveJsonGroup","SET_APP_VERSION","SET_NEW_VERSION","SET_PLATFORM","isWeb","value","setAppVersion","version","getAppVersion","onUpdateDownloaded","appVersion","on","event","info","updateApp","drawOnCanvas","canvas","props","ctx","getContext","lineWidth","clearRect","height","beginPath","rect","strokeStyle","stroke","drawFieldBorders","isIllegal","drawWaypoints","rangePosition","moveTo","lineTo","drawCoords","drawRobotInterval","robotX","robotY","drawRobot","drawRobotFromCoord","arc","Math","PI","fillStyle","fill","robotInReverse","isPathInReverse","robotLength","robotBorder","robotCenter","save","robotWidth","translate","rotate","fillRect","drawRobotShape","d2r","drawRobotCenter","drawRobotBorders","restore","color","onChange","onRemove","close","show","Modal","onHide","size","Header","closeButton","Title","Body","style","display","textAlignLast","InputGroup","Prepend","Text","FormControl","className","defaultValue","e","target","Button","variant","onClick","disabled","React","Component","connect","FieldView","componentDidUpdate","current","onWheel","ctrlKey","newWaypoint","deltaY","onDown","setSelectedWaypoint","getMousePosition","getWaypointIndex","setState","addEventListener","whileMove","onUp","removeEventListener","ondblclick","showInfo","onClose","onCopy","navigator","clipboard","writeText","onPaste","readText","maxX","space","minX","maxY","minY","i","getBoundingClientRect","scaleX","scaleY","clientX","left","clientY","top","toFixed","createRef","oncopy","onpaste","onkeyup","onkeydown","clientWidth","clientHeight","filedImageUrl","ref","backgroundPosition","backgroundSize","backgroundRepeat","backgroundImage","DIRECTION_SHORTCUT","DOWNLOAD_SHORTCUT","SETTINGS_SHORTCUT","DELETE_SHORTCUT","RENAME_SHORTCUT","CREATE_SHORTCUT","MODE_SHORTCUT","CONFIRM_SHORTCUT","PLAY_SHORTCUT","CANCEL_SHORTCUT","SettingsConfig","getData","bind","fontSize","fontWeight","Row","getConfigInfo","Container","getBody","SettingsDriveTypeConfig","PathGenerator","setDriveType","setElementData","Col","block","active","CHANGE_LISTEN_TO_MOUSE_STATUS","SET_DRAW_ROBOT_INTERVAL","CHANGE_RANGE_POSITION","CHANGE_POPUPS_STATUS","CHANGE_MODE","changeRangePosition","position","setDrawRobotInterval","interval","changePopupsStatus","popup","SettingsFoldersConfig","lastProjectPath","CSVFolderRef","projectFolderRef","resetProjectPath","onProjectFolderPathChange","Form","Group","as","Label","Control","SettingsRobotConfig","robotWidthRef","robotLengthRef","robotCenterRef","md","OverlayTrigger","overlay","Tooltip","SettingsFiledConfig","fieldHeightInPixelRef","fieldHeightInMeterRef","fieldWidthInPixelRef","fieldWidthInMeterRef","filedImageNameRef","fieldTopLeftXRef","fieldTopLeftYRef","SettingsPathConfig","pathWidthRef","robotMaxVRef","pathLengthRef","robotMaxAccRef","robotLoopTimeRef","Settings","saveSettings","closeSettings","getUpdateButton","getFoldersConfig","popupsStatus","settingsPopup","mousetrap","bindGlobal","unbind","func","filedConfig","foldersConfig","setSettings","closePopups","newVersion","backdrop","Footer","PlayingBar","range","querySelector","sign","max","newPosition","lastPosition","maxPosition","sm","DragAndDropList","title","id","items","padding","droppableId","provided","snapshot","droppableProps","innerRef","isDraggingOver","background","overflowX","borderRadius","overflowY","item","draggableId","Alert","draggableProps","dragHandleProps","isDragging","placeholder","PathsList","reorder","source","destination","newList","Array","from","removed","result","move","sourceClone","destClone","onDragEnd","group","updateGroup","groupPaths","includes","centered","textAlign","margin","groupPopup","groups","deleteAction","renameAction","renamePath","createNewAction","addPath","Popup","cancelButtonRef","refToUse","setTimeout","focus","confirm","activeElement","confirmButton","cancelButton","body","Popups","renamePathRef","createNew","pathsName","newPathRef","resetRangePosition","renamePopup","deletePopup","createNewPopup","pathIsIllegalPopup","message","problem","solution","newVersionPopup","savePathToCSVPopup","PopupsConfig","showIllegalPathPopup","showCSVSavePopup","blur","preventDefault","showSettings","updateRangePosition","canCreateInterval","isRangePositionInTheEnd","setInterval","showDeletePopup","showRenamePopup","changeMode","showGroupPopup","ToolsPathDirection","componentDidMount","getButtonIcon","isPathReverse","isTurnInPlace","ToolsSelect","getItems","setSelected","showCreateNewPopup","element","Dropdown","Item","changeSelectedGroup","selectDropdownText","DropdownButton","drop","Divider","toolsButton","shortcut","useEffect","Tools","getPlayButtonIcon","isPathIllegal","onSettingsClick","onChangeModeClick","onRenameClick","onDownloadClick","onPlayClick","onDeleteClick","onGroupEditClick","App","appUpdaterInit","projectInit","app","initialState","getGroup","sourceSetpoints","illegalGroup","illegalPathInGroup","push","Util","addPathToGroup","removeGroup","newState","renameGroup","renameJsonGroup","clearInterval","updatePathReducer","reducers","reduceReducers","action","addWaypointInIndex","status","changeListenToMouseStatus","setProjectPath","setPlatform","setNewVersion","store","createStore","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.0b1e4f8e.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","export const SET_ROBOT_DRAW_CONFIG = 'SET_ROBOT_DRAW_CONFIG';\nexport const SET_PROJECT_PATH = 'SET_PROJECT_PATH';\nexport const SET_FIELD_CONFIG = 'SET_FIELD_CONFIG';\nexport const SET_SETTINGS = 'SET_SETTINGS';\nexport const SET_CSV_PATH = 'SET_CSV_PATH';\nexport const SET_IMAGE = 'SET_IMAGE';\n","import {\n\tSET_ROBOT_DRAW_CONFIG,\n\tSET_PROJECT_PATH,\n\tSET_FIELD_CONFIG,\n\tSET_SETTINGS,\n\tSET_CSV_PATH,\n\tSET_IMAGE,\n} from './action-types';\n\nexport function setSettings(settings) {\n\treturn {\n\t\ttype: SET_SETTINGS,\n\t\tpayload: {\n\t\t\tsettings: settings,\n\t\t},\n\t};\n}\n\nexport function setProjectPath(path) {\n\treturn {\n\t\ttype: SET_PROJECT_PATH,\n\t\tpayload: {\n\t\t\tprojectPath: path,\n\t\t},\n\t};\n}\n\nexport function setFieldConfig(fieldConfig) {\n\treturn {\n\t\ttype: SET_FIELD_CONFIG,\n\t\tpayload: {\n\t\t\tfieldConfig: fieldConfig,\n\t\t},\n\t};\n}\n\nexport function setImage(imageUrl, image) {\n\treturn {\n\t\ttype: SET_IMAGE,\n\t\tpayload: {\n\t\t\timageUrl: imageUrl,\n\t\t\timage: image,\n\t\t},\n\t};\n}\n\nexport function setCSVPath(path) {\n\treturn {\n\t\ttype: SET_CSV_PATH,\n\t\tpayload: {\n\t\t\tpath: path,\n\t\t},\n\t};\n}\n\nexport function setRobotDrawConfig(robotDrawConfig) {\n\treturn {\n\t\ttype: SET_ROBOT_DRAW_CONFIG,\n\t\tpayload: {\n\t\t\trobotDrawConfig: robotDrawConfig,\n\t\t},\n\t};\n}\n","export class FieldConfig {\n\tconstructor(\n\t\twidthInMeter = 16.5354,\n\t\theightInMeter = 8.001,\n\t\ttopLeftXPixel = 0,\n\t\ttopLeftYPixel = 0,\n\t\twidthInPixel = 0,\n\t\theigthInPixel = 0\n\t) {\n\t\tthis.widthInMeter = Number(widthInMeter);\n\t\tthis.heightInMeter = Number(heightInMeter);\n\t\tthis.topLeftXPixel = Number(topLeftXPixel);\n\t\tthis.topLeftYPixel = Number(topLeftYPixel);\n\t\tthis.widthInPixel = Number(widthInPixel);\n\t\tthis.heigthInPixel = Number(heigthInPixel);\n\n\t\tthis.widthPixelToMeter = widthInPixel === 0 ? 0 : widthInMeter / widthInPixel;\n\t\tthis.hightPixelToMeter = heigthInPixel === 0 ? 0 : heightInMeter / heigthInPixel;\n\t}\n}\n\nexport class RobotDrawConfig {\n\tconstructor(width = 0, length = 0, center = 0) {\n\t\tthis.center = Number(center);\n\t\tthis.length = Number(length);\n\t\tthis.width = Number(width);\n\t}\n}\n","export const UPDATE_PATH_REDUCER = 'UPDATE_PATH_REDUCER';\nexport const LOAD_PATH = 'LOAD_PATH';\n","import { saveJsonPath, deleteJsonPath, renameJsonPath } from '../../handlers/project-handler';\nimport { UPDATE_PATH_REDUCER, LOAD_PATH } from './action-types';\n\nexport const setSelectedWaypoint = (index) => ({ type: UPDATE_PATH_REDUCER, payload: { selectedWaypoint: index } });\n\nexport async function addWaypoint(waypoint, index, state) {\n\tconst { paths, selected, driveType } = state;\n\tconst { vMax } = state.pathConfig;\n\tconst { waypoints } = paths[selected];\n\twaypoint = Object.assign(new driveType.Waypoint(), { ...waypoint, v: vMax, vMax: vMax });\n\tif (index === waypoints.length) {\n\t\tif (waypoints[index - 1].v === 0) waypoints[index - 1].v = vMax;\n\t\twaypoints[index - 1].vMax = vMax;\n\t\twaypoint.v = 0;\n\t}\n\twaypoints.splice(index, 0, waypoint);\n\treturn actionReturn({ path: getNewPath(waypoints, state) });\n}\n\nexport async function setWaypoint(waypoint, state) {\n\tconst { paths, selected, selectedWaypoint } = state;\n\tconst { waypoints } = paths[selected];\n\twaypoints[selectedWaypoint] = getNewWaypoint(state, waypoints[selectedWaypoint], waypoint);\n\treturn actionReturn({ path: getNewPath(waypoints, state), selectedWaypoint: selectedWaypoint });\n}\n\nexport async function removeWaypoint(state) {\n\tconst { paths, selected, selectedWaypoint } = state;\n\tconst { waypoints } = paths[selected];\n\twaypoints.splice(selectedWaypoint, 1);\n\treturn actionReturn({ selectedWaypoint: undefined, path: getNewPath(waypoints, state) });\n}\n\nexport async function changeSelectedPath(pathName, state) {\n\tconst { waypoints } = state.paths[pathName];\n\treturn actionReturn({\n\t\tpath: getNewPath(waypoints, { ...state, selected: pathName }),\n\t\tselectedWaypoint: undefined,\n\t\tselected: pathName,\n\t\tisPathMode: true,\n\t});\n}\n\nexport async function deletePath(state) {\n\tconst { paths, selected, saveCSVTo } = state;\n\tdeleteJsonPath(selected, saveCSVTo);\n\tdelete paths[selected];\n\treturn actionReturn({ listenToMouseClicks: false, selected: undefined, path: undefined });\n}\n\nexport async function renamePath(paths, oldName, newName) {\n\tif (oldName !== newName) {\n\t\tpaths[newName] = paths[oldName];\n\t\tdelete paths[oldName];\n\t\trenameJsonPath(oldName, newName);\n\t}\n\treturn actionReturn({ selected: newName });\n}\n\nexport async function addPath(paths, pathConfig, driveType, name) {\n\tconst waypoints = [\n\t\tObject.assign(new driveType.Waypoint(), { y: 1, vMax: pathConfig.vMax }),\n\t\tObject.assign(new driveType.Waypoint(), { x: 2, y: 1 }),\n\t];\n\tpaths[name] = { waypoints: waypoints, isInReverse: false };\n\treturn actionReturn({\n\t\tpath: getNewPath(waypoints, { driveType, pathConfig, paths, selected: name }),\n\t\tselectedWaypoint: undefined,\n\t\tselected: name,\n\t\tpaths,\n\t});\n}\n\nexport function loadPath(name, waypoints, isInReverse) {\n\treturn { type: LOAD_PATH, payload: { name, waypoints, isInReverse } };\n}\n\nexport async function setPathConfig(pathConfig, driveType) {\n\tpathConfig = new driveType.PathConfig(\n\t\tpathConfig.vMax || 0,\n\t\tpathConfig.acc || 0,\n\t\tpathConfig.width || 0,\n\t\tpathConfig.length || 0,\n\t\tpathConfig.robotLoopTime || 0\n\t);\n\treturn actionReturn({ driveType, pathConfig });\n}\n\nexport async function changeDirection(path, paths, selected) {\n\tpath.changeDirection();\n\tpaths[selected].isInReverse = path.isReverse();\n\tsaveJsonPath(selected, paths[selected]);\n\treturn actionReturn({ paths, path });\n}\n\nfunction getNewWaypoint(state, waypoint, object) {\n\tconst { fieldConfig, pathConfig } = state;\n\tconst newWaypointObject = {\n\t\tx: Number.isNaN(object.x) ? waypoint.x : object.x,\n\t\ty: Number.isNaN(object.y) ? waypoint.y : object.y,\n\t\tv: Number.isNaN(object.v) ? waypoint.v : object.v,\n\t\tvMax: Number.isNaN(object.vMax) ? waypoint.vMax : object.vMax,\n\t\tangle: Number.isNaN(object.angle) ? waypoint.angle : object.angle,\n\t\trobotAngle: Number.isNaN(object.robotAngle) ? waypoint.robotAngle : object.robotAngle,\n\t};\n\n\tif (newWaypointObject.x < 0) newWaypointObject.x = 0;\n\tif (newWaypointObject.x > fieldConfig.widthInMeter) newWaypointObject.x = fieldConfig.widthInMeter;\n\tif (newWaypointObject.y < 0) newWaypointObject.y = 0;\n\tif (newWaypointObject.y > fieldConfig.heightInMeter) newWaypointObject.y = fieldConfig.heightInMeter;\n\tif (newWaypointObject.v < 0) newWaypointObject.v = 0;\n\tif (newWaypointObject.v > pathConfig.vMax) newWaypointObject.v = pathConfig.vMax;\n\tif (newWaypointObject.vMax < 0) newWaypointObject.vMax = 0;\n\tif (newWaypointObject.vMax > pathConfig.vMax) newWaypointObject.vMax = pathConfig.vMax;\n\n\tif (newWaypointObject.robotAngle === undefined) delete newWaypointObject.robotAngle;\n\treturn Object.assign(new state.driveType.Waypoint(), newWaypointObject);\n}\n\nfunction getNewPath(waypoints, state) {\n\tconst { driveType, pathConfig, paths, selected } = state;\n\tconst path = new driveType.Path(waypoints, pathConfig);\n\tif (paths[selected].isInReverse) path.changeDirection();\n\tsaveJsonPath(selected, paths[selected]);\n\treturn path;\n}\n\nconst actionReturn = (payload) => ({ type: UPDATE_PATH_REDUCER, payload: payload });\n","export function getSetpointsCSV(setpoints) {\n\tvar setpointKeys = [];\n\tconst csvLines = setpoints.map((setpoint, index) => {\n\t\tif (index === 0) setpointKeys = getSetpointKeys(setpoint);\n\t\treturn getSetpointCSV(setpoint, setpointKeys);\n\t});\n\treturn `${setpointKeys.join(',')},\\n${csvLines.join('\\n')}`;\n}\n\nfunction getSetpointKeys(setpoint) {\n\treturn Object.keys(setpoint).sort();\n}\n\nfunction getSetpointCSV(setpoint, keys) {\n\tconst csvLine = keys.map((key) => {\n\t\treturn setpoint[key];\n\t});\n\treturn csvLine.join(',') + ',';\n}\n\nexport function getCoordsCSV(path) {\n\tconst csvLines = path.coords.map((coord) => {\n\t\treturn getCoordCSV(coord);\n\t});\n\treturn getCoordCSV() + csvLines.join('\\n');\n}\n\nfunction getCoordCSV(coord) {\n\tif (!coord) return 'Angle,X,Y,\\n';\n\treturn `${coord.angle},${coord.x},${coord.y},`;\n}\n","import { setRobotDrawConfig, setFieldConfig, setImage } from '../redux/project/actions';\nimport { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { setPathConfig, loadPath } from '../redux/path/actions';\nimport { getCoordsCSV, getSetpointsCSV } from './csv-handler';\nimport { Holonomic, Tank } from 'path-generator';\nimport * as JSZip from 'jszip';\n\nexport default class LocalStorageHandler {\n\tconstructor(callback) {\n\t\tthis.dispatch = callback;\n\t\tthis.load();\n\t}\n\n\tasync load() {\n\t\tthis.loadJsonProject();\n\t\tthis.loadRobotDrawConfig();\n\t\tthis.loadFieldConfig();\n\t\tthis.loadFieldImage();\n\t\tthis.loadPathConfig();\n\t\tthis.loadPaths();\n\t}\n\n\tloadJsonProject() {\n\t\ttry {\n\t\t\tthis.jsonProject = JSON.parse(localStorage.getItem('project settings'));\n\t\t} catch (error) {\n\t\t\tthis.jsonProject = undefined;\n\t\t}\n\t}\n\n\tasync loadRobotDrawConfig() {\n\t\tlet robotDrawConfig = new RobotDrawConfig();\n\t\tif (this.jsonProject && this.jsonProject.robotDrawConfig)\n\t\t\trobotDrawConfig = Object.assign(new RobotDrawConfig(), this.jsonProject.robotDrawConfig);\n\t\tthis.dispatch(setRobotDrawConfig(robotDrawConfig));\n\t}\n\n\tasync loadFieldConfig() {\n\t\tlet fieldConfig = new FieldConfig();\n\t\tif (this.jsonProject && this.jsonProject.fieldConfig)\n\t\t\tfieldConfig = Object.assign(new FieldConfig(), this.jsonProject.fieldConfig);\n\t\tthis.dispatch(setFieldConfig(fieldConfig));\n\t}\n\n\tasync loadFieldImage(image) {\n\t\ttry {\n\t\t\timage = image ? image : this.jsonProject.image;\n\t\t\tthis.dispatch(setImage(image, image));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setImage('', ''));\n\t\t}\n\t}\n\n\tasync loadPathConfig() {\n\t\ttry {\n\t\t\tthis.jsonProject.driveType = this.jsonProject.driveType ? this.jsonProject.driveType : 'Tank';\n\t\t\tconst driveType = this.jsonProject.driveType === 'Holonomic' ? Holonomic : Tank;\n\t\t\tconst pathConfig = this.jsonProject.pathConfig ? this.jsonProject.pathConfig : {};\n\t\t\tthis.dispatch(await setPathConfig(pathConfig, driveType));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(await setPathConfig(new Tank.PathConfig(), Tank));\n\t\t}\n\t}\n\n\tasync loadPaths() {\n\t\tObject.keys(localStorage).forEach((key) => {\n\t\t\tif (key.startsWith('path/')) this.loadJsonPath(key);\n\t\t});\n\t}\n\n\tasync loadJsonPath(key) {\n\t\ttry {\n\t\t\tconst path = JSON.parse(localStorage.getItem(key));\n\t\t\tthis.dispatch(loadPath(key.replace('path/', ''), path.waypoints, path.isInReverse));\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonProject(settings) {\n\t\tconst projectSettings = { ...settings };\n\t\tprojectSettings.driveType = settings.driveType === Holonomic ? 'Holonomic' : 'Tank';\n\t\tlocalStorage.setItem('project settings', JSON.stringify(projectSettings));\n\t}\n\n\tasync saveJsonPath(pathName, path) {\n\t\tconst data = { ...path };\n\t\tlocalStorage.setItem(`path/${pathName}`, JSON.stringify(data));\n\t}\n\n\tasync saveCSVPath(path, pathName) {\n\t\ttry {\n\t\t\tlet zip = new JSZip();\n\t\t\tlet folder = zip.folder(pathName);\n\t\t\tObject.keys(path).forEach((key) => {\n\t\t\t\tif (!key.endsWith('Setpoints')) return;\n\t\t\t\tconst fileName = `${pathName}.${key.replace('_', '').replace('Setpoints', '')}.csv`;\n\t\t\t\tfolder.file(fileName, getSetpointsCSV(path[key]));\n\t\t\t});\n\t\t\tfolder.file(`${pathName}.coords.csv`, getCoordsCSV(path));\n\t\t\tconst blob = await zip.generateAsync({ type: 'blob' });\n\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.download = `${pathName}.zip`;\n\t\t\tlink.href = url;\n\t\t\tlink.click();\n\t\t} catch (error) {}\n\t}\n\n\tasync deletePath(pathName) {\n\t\tlocalStorage.removeItem(`path/${pathName}`);\n\t}\n\n\tasync renameJsonPath(oldName, newName) {\n\t\tconst path = localStorage.getItem(`path/${oldName}`);\n\t\tlocalStorage.setItem(`path/${newName}`, path);\n\t\tlocalStorage.removeItem(`path/${oldName}`);\n\t}\n}\n","export const CHANGE_SELECTED_PATHS_GROUP = 'CHANGE_SELECTED_PATHS_GROUP';\nexport const RENAME_GROUP = 'RENAME_GROUP';\nexport const DELETE_GROUP = 'DELETE_GROUP';\nexport const UPDATE_GROUP = 'UPDATE_GROUP';\nexport const ADD_GROUP = 'ADD_GROUP';\n","import { CHANGE_SELECTED_PATHS_GROUP, DELETE_GROUP, RENAME_GROUP, ADD_GROUP, UPDATE_GROUP } from './action-types';\n\nexport function changeSelectedGroup(groupName) {\n\treturn {\n\t\ttype: CHANGE_SELECTED_PATHS_GROUP,\n\t\tpayload: { groupName: groupName },\n\t};\n}\n\nexport function deleteGroup() {\n\treturn {\n\t\ttype: DELETE_GROUP,\n\t\tpayload: {},\n\t};\n}\n\nexport function renameGroup(name) {\n\treturn {\n\t\ttype: RENAME_GROUP,\n\t\tpayload: { name: name },\n\t};\n}\n\nexport function addGroup(name, paths) {\n\treturn {\n\t\ttype: ADD_GROUP,\n\t\tpayload: { name: name, paths: paths },\n\t};\n}\n\nexport function updateGroup(group) {\n\treturn {\n\t\ttype: UPDATE_GROUP,\n\t\tpayload: { group: group },\n\t};\n}\n","import { setRobotDrawConfig, setProjectPath, setFieldConfig, setCSVPath, setImage } from '../redux/project/actions';\nimport { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { setPathConfig, loadPath } from '../redux/path/actions';\nimport { getCoordsCSV, getSetpointsCSV } from './csv-handler';\nimport { addGroup } from '../redux/group/actions';\nimport { Holonomic, Tank } from 'path-generator';\n\nexport default class FileHandler {\n\tconstructor(callback) {\n\t\tthis.ipcRenderer = window.require('electron').ipcRenderer;\n\t\tthis.fs = window.require('fs');\n\t\tthis.dispatch = callback;\n\t\tthis.projectPath = '';\n\t\tthis.load();\n\t}\n\n\tasync load() {\n\t\tawait this.setProjectFolderPath();\n\t\tthis.loadJsonProject();\n\t\tthis.setCSVFolderPath();\n\t\tthis.loadRobotDrawConfig();\n\t\tthis.loadFieldConfig();\n\t\tthis.loadFieldImage();\n\t\tthis.loadPathConfig();\n\t\tthis.loadGroups();\n\t\tthis.loadPaths();\n\t}\n\n\tasync changeProjectFolderPath(folderPath) {\n\t\tawait this.ipcRenderer.invoke('UpdateProjctPath', folderPath);\n\t\tthis.load();\n\t}\n\n\tasync setProjectFolderPath() {\n\t\tthis.projectPath = await this.ipcRenderer.invoke('GetProjctPath');\n\t\tthis.dispatch(setProjectPath(this.projectPath));\n\t}\n\n\tasync setCSVFolderPath() {\n\t\tif (this.jsonProject && this.jsonProject.saveCSVTo && this.jsonProject.saveCSVTo !== '')\n\t\t\tthis.dispatch(setCSVPath(this.jsonProject.saveCSVTo));\n\t\telse this.dispatch(setCSVPath(`${this.projectPath}/csv`));\n\t}\n\n\tloadJsonProject() {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/PathGenerator.json`);\n\t\t\tthis.jsonProject = JSON.parse(data);\n\t\t} catch (error) {\n\t\t\tthis.jsonProject = undefined;\n\t\t}\n\t}\n\n\tasync loadRobotDrawConfig() {\n\t\tvar robotDrawConfig = new RobotDrawConfig();\n\t\tif (this.jsonProject && this.jsonProject.robotDrawConfig)\n\t\t\trobotDrawConfig = Object.assign(new RobotDrawConfig(), this.jsonProject.robotDrawConfig);\n\t\tthis.dispatch(setRobotDrawConfig(robotDrawConfig));\n\t}\n\n\tasync loadFieldConfig() {\n\t\tvar fieldConfig = new FieldConfig();\n\t\tif (this.jsonProject && this.jsonProject.fieldConfig)\n\t\t\tfieldConfig = Object.assign(new FieldConfig(), this.jsonProject.fieldConfig);\n\t\tthis.dispatch(setFieldConfig(fieldConfig));\n\t}\n\n\tasync loadFieldImage(image) {\n\t\ttry {\n\t\t\timage = image ? image : this.jsonProject.image;\n\t\t\tif (image.startsWith('http')) {\n\t\t\t\tthis.dispatch(setImage(image, image));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar imagePath = '';\n\t\t\tif (image.indexOf('/') === -1) imagePath = `${this.projectPath}/${image}`;\n\t\t\telse imagePath = image;\n\n\t\t\tconst data = this.fs.readFileSync(imagePath);\n\t\t\tconst imageUrl = URL.createObjectURL(new Blob([data]));\n\t\t\tthis.dispatch(setImage(imageUrl, image));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(setImage('', image || ''));\n\t\t}\n\t}\n\n\tasync loadPathConfig() {\n\t\ttry {\n\t\t\tthis.jsonProject.driveType = this.jsonProject.driveType ? this.jsonProject.driveType : 'Tank';\n\t\t\tconst driveType = this.jsonProject.driveType === 'Holonomic' ? Holonomic : Tank;\n\t\t\tconst pathConfig = this.jsonProject.pathConfig ? this.jsonProject.pathConfig : {};\n\t\t\tthis.dispatch(await setPathConfig(pathConfig, driveType));\n\t\t} catch (error) {\n\t\t\tthis.dispatch(await setPathConfig(new Tank.PathConfig(), Tank));\n\t\t}\n\t}\n\n\tasync loadGroups() {\n\t\ttry {\n\t\t\tconst files = this.fs.readdirSync(`${this.projectPath}/groups`);\n\t\t\tfiles.forEach(async (fileName) => {\n\t\t\t\tif (fileName.endsWith('.json')) this.loadGroup(fileName);\n\t\t\t});\n\t\t} catch (error) {}\n\t}\n\n\tasync loadGroup(fileName) {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/groups/${fileName}`);\n\t\t\tconst paths = JSON.parse(data);\n\t\t\tthis.dispatch(addGroup(fileName.replace('.json', ''), paths));\n\t\t} catch (error) {}\n\t}\n\n\tasync loadPaths() {\n\t\ttry {\n\t\t\tconst files = this.fs.readdirSync(`${this.projectPath}/paths`);\n\t\t\tfiles.forEach(async (fileName) => {\n\t\t\t\tif (fileName.endsWith('.json')) this.loadJsonPath(fileName);\n\t\t\t});\n\t\t} catch (error) {}\n\t}\n\n\tasync loadJsonPath(fileName) {\n\t\ttry {\n\t\t\tconst data = this.fs.readFileSync(`${this.projectPath}/paths/${fileName}`);\n\t\t\tconst path = JSON.parse(data);\n\t\t\tthis.dispatch(loadPath(fileName.replace('.json', ''), path.waypoints, path.isInReverse));\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonProject(settings) {\n\t\ttry {\n\t\t\tconst projectSettings = { ...settings };\n\t\t\tprojectSettings.driveType = settings.driveType === Holonomic ? 'Holonomic' : 'Tank';\n\t\t\tdelete projectSettings.projectPath;\n\t\t\tconst jsonProject = JSON.stringify(projectSettings);\n\t\t\tif (!this.fs.existsSync(this.projectPath)) this.fs.mkdirSync(this.projectPath);\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/PathGenerator.json`, jsonProject);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonPath(pathName, path) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(`${this.projectPath}/paths`)) this.fs.mkdirSync(`${this.projectPath}/paths`);\n\t\t\tconst data = JSON.stringify({ ...path });\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/paths/${pathName}.json`, data);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveJsonGroup(groupName, paths) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(`${this.projectPath}/groups`)) this.fs.mkdirSync(`${this.projectPath}/groups`);\n\t\t\tconst data = JSON.stringify(paths);\n\t\t\tthis.fs.writeFileSync(`${this.projectPath}/groups/${groupName}.json`, data);\n\t\t} catch (error) {}\n\t}\n\n\tasync saveCSVPath(path, pathName, csvFolder) {\n\t\ttry {\n\t\t\tif (!this.fs.existsSync(csvFolder)) this.fs.mkdirSync(csvFolder);\n\t\t\tif (this.fs.existsSync(`${csvFolder}/${pathName}`))\n\t\t\t\tthis.fs.rmdirSync(`${csvFolder}/${pathName}`, { recursive: true });\n\t\t\tthis.fs.mkdirSync(`${csvFolder}/${pathName}`);\n\n\t\t\tconst keys = Object.keys(path).filter((key) => key.endsWith('Setpoints'));\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tconst fileName = `${pathName}.${key.replace('_', '').replace('Setpoints', '')}.csv`;\n\t\t\t\tthis.fs.writeFileSync(`${csvFolder}/${pathName}/${fileName}`, getSetpointsCSV(path[key]));\n\t\t\t});\n\t\t\tthis.fs.writeFileSync(`${csvFolder}/${pathName}/${pathName}.coords.csv`, getCoordsCSV(path));\n\t\t} catch (error) {}\n\t}\n\n\tasync deletePath(pathName, csvFolder) {\n\t\ttry {\n\t\t\tthis.fs.unlinkSync(`${this.projectPath}/paths/${pathName}.json`);\n\t\t\tthis.fs.rmdirSync(`${csvFolder}/${pathName}`, { recursive: true });\n\t\t} catch (error) {}\n\t}\n\n\tasync deleteGroup(groupName) {\n\t\ttry {\n\t\t\tthis.fs.unlinkSync(`${this.projectPath}/groups/${groupName}.json`);\n\t\t} catch (error) {}\n\t}\n\n\tasync renameJson(oldName, newName, folder) {\n\t\ttry {\n\t\t\tthis.fs.renameSync(\n\t\t\t\t`${this.projectPath}/${folder}/${oldName}.json`,\n\t\t\t\t`${this.projectPath}/${folder}/${newName}.json`\n\t\t\t);\n\t\t} catch (error) {}\n\t}\n}\n","import LocalStorageHandler from './local-storage-handler';\nimport FileHandler from './file-handler';\n\nvar handler = undefined;\n\nexport async function projectInit(callback) {\n\ttry {\n\t\thandler = new FileHandler(callback);\n\t} catch (error) {\n\t\thandler = new LocalStorageHandler(callback);\n\t}\n}\n\nexport async function changeProjectFolderPath(folderPath) {\n\ttry {\n\t\thandler.changeProjectFolderPath(folderPath);\n\t} catch (error) {}\n}\n\nexport async function saveJsonPath(pathName, path) {\n\ttry {\n\t\thandler.saveJsonPath(pathName, path);\n\t} catch (error) {}\n}\n\nexport async function deleteJsonPath(pathName, csvFolder) {\n\ttry {\n\t\thandler.deletePath(pathName, csvFolder);\n\t} catch (error) {}\n}\n\nexport async function deleteGroup(pathName) {\n\ttry {\n\t\thandler.deleteGroup(pathName);\n\t} catch (error) {}\n}\n\nexport async function renameJsonPath(oldName, newName) {\n\ttry {\n\t\thandler.renameJson(oldName, newName, 'paths');\n\t} catch (error) {}\n}\n\nexport async function renameJsonGroup(oldName, newName) {\n\ttry {\n\t\thandler.renameJson(oldName, newName, 'groups');\n\t} catch (error) {}\n}\n\nexport async function saveJsonProject(settings) {\n\ttry {\n\t\thandler.saveJsonProject(settings);\n\t} catch (error) {}\n}\n\nexport async function loadFieldImage(image) {\n\ttry {\n\t\thandler.loadFieldImage(image);\n\t} catch (error) {}\n}\n\nexport async function saveCSVPath(path, pathName, folder) {\n\ttry {\n\t\thandler.saveCSVPath(path, pathName, folder);\n\t} catch (error) {}\n}\n\nexport async function saveJsonGroup(groupName, paths) {\n\ttry {\n\t\thandler.saveJsonGroup(groupName, paths);\n\t} catch (error) {}\n}\n","export const SET_APP_VERSION = 'SET_APP_VERSION';\nexport const SET_NEW_VERSION = 'SET_NEW_VERSION';\nexport const SET_PLATFORM = 'SET_PLATFORM';\n","import { SET_APP_VERSION, SET_NEW_VERSION, SET_PLATFORM } from './action-types';\n\nexport function isWeb(value) {\n\treturn {\n\t\ttype: SET_PLATFORM,\n\t\tpayload: {\n\t\t\tisWeb: value,\n\t\t},\n\t};\n}\n\nexport function setAppVersion(version) {\n\treturn {\n\t\ttype: SET_APP_VERSION,\n\t\tpayload: {\n\t\t\tversion: version,\n\t\t},\n\t};\n}\n\nexport function setNewVersion(version) {\n\treturn {\n\t\ttype: SET_NEW_VERSION,\n\t\tpayload: {\n\t\t\tversion: version,\n\t\t},\n\t};\n}\n","import { setAppVersion, setNewVersion, isWeb } from '../redux/app/actions';\n\nvar dispatch = undefined;\nvar ipcRenderer = undefined;\n\nexport async function appUpdaterInit(callback) {\n\ttry {\n\t\tdispatch = callback;\n\t\tipcRenderer = window.require('electron').ipcRenderer;\n\t\tdispatch(isWeb(false));\n\t\tgetAppVersion();\n\t\tonUpdateDownloaded();\n\t} catch (error) {\n\t\tdispatch(isWeb(true));\n\t}\n}\n\nasync function getAppVersion() {\n\ttry {\n\t\tconst appVersion = await ipcRenderer.invoke('GetAppVersion');\n\t\tdispatch(setAppVersion(appVersion));\n\t} catch (error) {}\n}\n\nfunction onUpdateDownloaded() {\n\ttry {\n\t\tipcRenderer.on('update-downloaded', (event, info) => {\n\t\t\tdispatch(setNewVersion(info.version));\n\t\t});\n\t} catch (error) {}\n}\n\nexport function updateApp() {\n\ttry {\n\t\tipcRenderer.invoke('UpdateApp');\n\t} catch (error) {}\n}\n","import { Holonomic } from 'path-generator';\nimport { d2r } from 'path-generator/lib/util';\n\nexport function drawOnCanvas(canvas, props) {\n\tconst ctx = canvas.getContext('2d');\n\tctx.lineWidth = 5;\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\tdrawFieldBorders(ctx, props);\n\n\tif (!props.path) return;\n\tif (props.path.isIllegal() || props.path.coords.length === 0) {\n\t\tdrawWaypoints(ctx, props);\n\t\treturn;\n\t}\n\n\tdrawCoords(ctx, props);\n\tif (props.isPathMode) drawWaypoints(ctx, props);\n\tif (props.drawRobotInterval !== undefined || props.rangePosition > 0 || !props.isPathMode)\n\t\tdrawRobotFromCoord(ctx, props);\n}\n\nfunction drawFieldBorders(ctx, props) {\n\tctx.beginPath();\n\tctx.rect(\n\t\tprops.fieldConfig.topLeftXPixel,\n\t\tprops.fieldConfig.topLeftYPixel,\n\t\tprops.fieldConfig.widthInPixel,\n\t\tprops.fieldConfig.heigthInPixel\n\t);\n\tctx.strokeStyle = 'blue';\n\tctx.stroke();\n}\n\nfunction drawWaypoints(ctx, props) {\n\tprops.path.waypoints.forEach((waypoint, index) => {\n\t\tconst x = waypoint.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\t\tconst y = waypoint.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\t\tctx.beginPath();\n\t\tctx.arc(x, y, 10, 0, Math.PI * 2, false);\n\t\tif (props.selectedWaypoint === index) ctx.fillStyle = 'blue';\n\t\telse ctx.fillStyle = 'red';\n\t\tctx.fill();\n\t\tif (index === props.selectedWaypoint)\n\t\t\tdrawRobot(ctx, props, x, y, props.driveType === Holonomic ? waypoint.robotAngle : waypoint.angle);\n\t});\n}\n\nfunction drawCoords(ctx, props) {\n\tctx.beginPath();\n\tprops.path.coords.forEach((setpoint, index) => {\n\t\tif (!props.isPathMode && index > props.rangePosition) return;\n\t\tconst x = setpoint.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\t\tconst y = setpoint.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\t\tif (index === 0) ctx.moveTo(x, y);\n\t\telse ctx.lineTo(x, y);\n\t});\n\tctx.strokeStyle = 'Yellow';\n\tctx.stroke();\n}\n\nfunction drawRobotFromCoord(ctx, props) {\n\tconst index = props.rangePosition;\n\tconst coord = props.path.coords[index];\n\tconst robotX = coord.x / props.fieldConfig.widthPixelToMeter + props.fieldConfig.topLeftXPixel;\n\tconst robotY = coord.y / props.fieldConfig.hightPixelToMeter + props.fieldConfig.topLeftYPixel;\n\tdrawRobot(ctx, props, robotX, robotY, coord.angle);\n}\n\nfunction drawRobot(ctx, props, x, y, angle) {\n\tconst robotInReverse = props.isPathInReverse ? -1 : 1;\n\tconst robotLength = props.robotDrawConfig.length / props.fieldConfig.widthPixelToMeter;\n\tconst robotBorder = (props.robotDrawConfig.width * 0.6) / props.fieldConfig.hightPixelToMeter;\n\tconst robotCenter = (robotInReverse * props.robotDrawConfig.center) / props.fieldConfig.widthPixelToMeter;\n\n\tctx.beginPath();\n\tctx.save();\n\tdrawRobotShape(ctx, props, robotLength, robotCenter, x, y, d2r(angle));\n\tdrawRobotCenter(ctx);\n\tdrawRobotBorders(ctx, robotInReverse, robotLength, robotCenter, robotBorder, 'blue');\n\tdrawRobotBorders(ctx, robotInReverse, -robotLength, robotCenter, robotBorder, 'red');\n\tctx.restore();\n}\n\nfunction drawRobotShape(ctx, props, robotLength, robotCenter, x, y, angle) {\n\tconst robotWidth = props.robotDrawConfig.width / props.fieldConfig.hightPixelToMeter;\n\tconst robotX = x - robotLength / 2;\n\tconst robotY = y - robotWidth / 2;\n\n\tctx.translate(robotX + robotLength / 2, robotY + robotWidth / 2);\n\tctx.rotate(angle);\n\tctx.fillStyle = 'white';\n\tctx.fillRect(-robotLength / 2 - robotCenter, -robotWidth / 2, robotLength, robotWidth);\n}\n\nfunction drawRobotCenter(ctx) {\n\tctx.arc(0, 0, 5, 0, Math.PI * 2, false);\n\tctx.fillStyle = 'blue';\n\tctx.fill();\n}\n\nfunction drawRobotBorders(ctx, robotInReverse, robotLength, robotCenter, robotBorder, color) {\n\tctx.beginPath();\n\tctx.moveTo(robotInReverse * (robotLength / 2) - robotCenter, -robotBorder / 2);\n\tctx.lineTo(robotInReverse * (robotLength / 2) - robotCenter, robotBorder / 2);\n\tctx.strokeStyle = color;\n\tctx.stroke();\n}\n","import { FormControl, InputGroup, Button, Modal } from 'react-bootstrap';\nimport { setWaypoint, removeWaypoint } from '../redux/path/actions';\nimport { Holonomic } from 'path-generator';\nimport { MdDelete } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass Waypoint extends React.Component {\n\tonChange = (value) => this.props.setWaypoint({ ...this.props.waypoint, ...value }, this.props);\n\tonRemove = () => {\n\t\tthis.props.removeWaypoint(this.props);\n\t\tthis.props.close();\n\t};\n\n\trender() {\n\t\tconst { waypoint, show, close, length, driveType, selectedWaypoint } = this.props;\n\t\tif (!waypoint) return <></>;\n\n\t\treturn (\n\t\t\t<Modal show={show} onHide={close} size={'xl'}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Waypoint {selectedWaypoint + 1} info</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body style={{ display: 'flex', textAlignLast: 'center' }}>\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>X</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.x}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ x: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Y</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.y}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ y: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>Angle</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.angle}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ angle: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{driveType === Holonomic && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t\t\t<InputGroup.Text>Robot Angle</InputGroup.Text>\n\t\t\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\tdefaultValue={this.props.waypoint.robotAngle}\n\t\t\t\t\t\t\t\tonChange={(e) => this.onChange({ robotAngle: Number(e.target.value) })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>V</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.v}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ v: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<InputGroup.Prepend>\n\t\t\t\t\t\t<InputGroup.Text>vMax</InputGroup.Text>\n\t\t\t\t\t</InputGroup.Prepend>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\tdefaultValue={waypoint.vMax}\n\t\t\t\t\t\tonChange={(e) => this.onChange({ vMax: Number(e.target.value) })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className=\"mr-2\" variant=\"danger\" onClick={this.onRemove} disabled={length <= 2}>\n\t\t\t\t\t\t<MdDelete />\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpaths: state.paths,\n\t\tselected: state.selected,\n\t\tdriveType: state.driveType,\n\t\tpathConfig: state.pathConfig,\n\t\tfieldConfig: state.fieldConfig,\n\t\tselectedWaypoint: state.selectedWaypoint,\n\t\tlength: state.selected && state.isPathMode ? state.paths[state.selected].waypoints.length : 0,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetWaypoint: async (waypoint, state) => dispatch(await setWaypoint(waypoint, state)),\n\t\tremoveWaypoint: async (state) => dispatch(await removeWaypoint(state)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Waypoint);\n","import { addWaypoint, setWaypoint, setSelectedWaypoint } from '../../redux/path/actions';\nimport { drawOnCanvas } from './canvas-painter';\nimport { connect } from 'react-redux';\nimport Waypoint from '../waypoint';\nimport React from 'react';\n\nclass FieldView extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { index: undefined, ctrlKey: false, showInfo: false, width: 0, height: 0 };\n\t\tthis.canvas = React.createRef();\n\t\tthis.space = 0.15;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst canvas = this.canvas.current;\n\t\tdrawOnCanvas(canvas, this.props);\n\t\tcanvas.addEventListener('wheel', this.onWheel);\n\t\tcanvas.addEventListener('mousedown', this.onDown);\n\t\tcanvas.addEventListener('dblclick', this.ondblclick);\n\t\tdocument.oncopy = this.onCopy;\n\t\tdocument.onpaste = this.onPaste;\n\t\tdocument.onkeyup = (e) => this.setState(() => ({ ctrlKey: e.ctrlKey }));\n\t\tdocument.onkeydown = (e) => this.setState(() => ({ ctrlKey: e.ctrlKey }));\n\t\tthis.setState(() => ({ width: canvas.clientWidth, height: canvas.clientHeight }));\n\t}\n\n\tcomponentDidUpdate = () => drawOnCanvas(this.canvas.current, this.props);\n\n\tonWheel = (event) => {\n\t\tconst { index, ctrlKey } = this.state;\n\t\tconst { waypoints, setWaypoint, isPathMode } = this.props;\n\t\tif (index === undefined || !isPathMode) return;\n\t\tconst newWaypoint = { ...waypoints[index] };\n\t\tif (ctrlKey && waypoints[index].robotAngle !== undefined)\n\t\t\tnewWaypoint.robotAngle = waypoints[index].robotAngle + event.deltaY * 0.1;\n\t\telse newWaypoint.angle = waypoints[index].angle + event.deltaY * 0.1;\n\t\tsetWaypoint(newWaypoint, this.props);\n\t};\n\n\tonDown = async (event) => {\n\t\tconst { path, addWaypoint, setSelectedWaypoint, isPathMode } = this.props;\n\t\tif (!path || !isPathMode) return;\n\t\tconst { x, y } = this.getMousePosition(event);\n\t\tconst index = this.getWaypointIndex(x, y);\n\t\tconst canvas = this.canvas.current;\n\t\tthis.props.setSelectedWaypoint(index);\n\t\tthis.setState(() => ({ index: index }));\n\t\tif (index === undefined) return;\n\t\tif (this.state.ctrlKey) {\n\t\t\tawait addWaypoint({ x: x, y: y }, index, this.props);\n\t\t\tthis.setState(() => ({ index: index + 1 }));\n\t\t\tsetSelectedWaypoint(index + 1);\n\t\t}\n\t\tcanvas.addEventListener('mousemove', this.whileMove);\n\t\tcanvas.addEventListener('mouseup', this.onUp);\n\t};\n\n\twhileMove = (event) => {\n\t\tconst { index } = this.state;\n\t\tconst { setWaypoint, waypoints } = this.props;\n\t\tsetWaypoint({ ...waypoints[index], ...this.getMousePosition(event) }, this.props);\n\t};\n\n\tonUp = () => {\n\t\tconst canvas = this.canvas.current;\n\t\tcanvas.removeEventListener('mousemove', this.whileMove);\n\t\tcanvas.removeEventListener('mouseup', this.onUp);\n\t};\n\n\tondblclick = (event) => {\n\t\tconst { path, isPathMode } = this.props;\n\t\tif (!path || !isPathMode) return;\n\t\tconst { x, y } = this.getMousePosition(event);\n\t\tconst index = this.getWaypointIndex(x, y);\n\t\tif (index === undefined) return;\n\t\tthis.setState(() => ({ index: index, showInfo: true }));\n\t};\n\n\tonClose = () => this.setState(() => ({ showInfo: false }));\n\tonCopy = async () => {\n\t\tconst { index } = this.state;\n\t\tif (index === undefined) return;\n\t\tconst { waypoints } = this.props;\n\t\tawait navigator.clipboard.writeText(JSON.stringify(waypoints[index]));\n\t};\n\n\tonPaste = async () => {\n\t\ttry {\n\t\t\tconst { index } = this.state;\n\t\t\tif (index === undefined) return;\n\t\t\tconst waypoint = JSON.parse(await navigator.clipboard.readText());\n\t\t\tawait this.props.addWaypoint(waypoint, index, this.props);\n\t\t} catch (error) {}\n\t};\n\n\tgetWaypointIndex = (x, y) => {\n\t\tconst maxX = x + this.space,\n\t\t\tminX = x - this.space,\n\t\t\tmaxY = y + this.space,\n\t\t\tminY = y - this.space;\n\t\tconst { waypoints } = this.props;\n\t\tlet index = undefined;\n\t\tconst waypoint = waypoints.filter((waypoint, i) => {\n\t\t\tif (maxX >= waypoint.x && minX <= waypoint.x && maxY >= waypoint.y && minY <= waypoint.y) {\n\t\t\t\tindex = i;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tif (waypoint.length > 0) return index;\n\t\telse return undefined;\n\t};\n\n\tgetMousePosition = (event) => {\n\t\tconst canvas = this.canvas.current;\n\t\tconst rect = canvas.getBoundingClientRect();\n\t\tconst scaleX = canvas.width / rect.width;\n\t\tconst scaleY = canvas.height / rect.height;\n\t\tconst { topLeftXPixel, topLeftYPixel, widthPixelToMeter, hightPixelToMeter } = this.props.fieldConfig;\n\t\tconst x = ((event.clientX - rect.left) * scaleX - topLeftXPixel) * widthPixelToMeter;\n\t\tconst y = ((event.clientY - rect.top) * scaleY - topLeftYPixel) * hightPixelToMeter;\n\t\treturn { x: Number(x.toFixed(3)), y: Number(y.toFixed(3)) };\n\t};\n\n\trender() {\n\t\tconst { waypoints, filedImageUrl } = this.props;\n\t\tconst { index, showInfo, width, height } = this.state;\n\t\treturn (\n\t\t\t<div className=\"FieldView\">\n\t\t\t\t<Waypoint show={showInfo} waypoint={waypoints[index]} index={index} close={this.onClose} />\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"FieldImage\"\n\t\t\t\t\tref={this.canvas}\n\t\t\t\t\theight={height}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundPosition: 'center',\n\t\t\t\t\t\tbackgroundSize: 'contain',\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\t\tbackgroundImage: 'url(' + filedImageUrl + ')',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tpath: state.path,\n\tpaths: state.paths,\n\tselected: state.selected,\n\tdriveType: state.driveType,\n\tpathConfig: state.pathConfig,\n\tisPathMode: state.isPathMode,\n\tfiledImageUrl: state.imageUrl,\n\tfieldConfig: state.fieldConfig,\n\trangePosition: state.rangePosition,\n\trobotDrawConfig: state.robotDrawConfig,\n\tselectedWaypoint: state.selectedWaypoint,\n\tdrawRobotInterval: state.drawRobotInterval,\n\tlistenToMouseClicks: state.listenToMouseClicks,\n\tisPathInReverse: state.path ? state.path.isReverse() : false,\n\twaypoints: state.selected && state.isPathMode ? state.paths[state.selected].waypoints : {},\n});\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetSelectedWaypoint: (index) => dispatch(setSelectedWaypoint(index)),\n\t\tsetWaypoint: async (waypoint, state) => dispatch(await setWaypoint(waypoint, state)),\n\t\taddWaypoint: async (waypoint, index, state) => dispatch(await addWaypoint(waypoint, index + 1, state)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FieldView);\n","export const DIRECTION_SHORTCUT = ['command+f', 'alt+f'];\nexport const DOWNLOAD_SHORTCUT = ['command+s', 'alt+s'];\nexport const SETTINGS_SHORTCUT = ['command+p', 'alt+p'];\nexport const DELETE_SHORTCUT = ['command+d', 'alt+d'];\nexport const RENAME_SHORTCUT = ['command+r', 'alt+r'];\nexport const CREATE_SHORTCUT = ['command+n', 'alt+n'];\nexport const MODE_SHORTCUT = ['command+m', 'alt+m'];\nexport const CONFIRM_SHORTCUT = ['return', 'enter'];\nexport const PLAY_SHORTCUT = ['space'];\nexport const CANCEL_SHORTCUT = ['esc'];\n","import { Container, Row } from 'react-bootstrap';\nimport React from 'react';\n\nclass SettingsConfig extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getData = this.getData.bind(this);\n\t\tthis.style = { fontSize: 20, fontWeight: 'bold' };\n\t}\n\n\tgetData() {\n\t\treturn {};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn '';\n\t}\n\n\tgetBody() {\n\t\treturn <div />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Row className=\"ml-0 mb-1\">\n\t\t\t\t\t<span style={this.style}>{this.getConfigInfo()}</span>\n\t\t\t\t</Row>\n\t\t\t\t<Container>{this.getBody()}</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SettingsConfig;\n","import { Row, Col, Button } from 'react-bootstrap';\nimport * as PathGenerator from 'path-generator';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsDriveTypeConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { driveType: PathGenerator.Tank };\n\t\tthis.setDriveType = this.setDriveType.bind(this);\n\t}\n\n\tgetData() {\n\t\treturn { driveType: this.state.driveType };\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('driveType', this.getData);\n\t\tthis.setState(() => {\n\t\t\treturn {\n\t\t\t\tdriveType: this.props.driveType,\n\t\t\t};\n\t\t});\n\t}\n\n\tsetDriveType(type) {\n\t\tthis.setState(() => {\n\t\t\treturn { driveType: PathGenerator[type] };\n\t\t});\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Path config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Row className=\"mb-3\">\n\t\t\t\t{PathGenerator.driveTypes.map((type, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Col key={index}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t\tonClick={() => this.setDriveType(type)}\n\t\t\t\t\t\t\t\tactive={this.state.driveType === PathGenerator[type]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{type}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tdriveType: state.driveType,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsDriveTypeConfig);\n","export const CHANGE_LISTEN_TO_MOUSE_STATUS = 'CHANGE_LISTEN_TO_MOUSE_STATUS';\nexport const SET_DRAW_ROBOT_INTERVAL = 'SET_DRAW_ROBOT_INTERVAL';\nexport const CHANGE_RANGE_POSITION = 'CHANGE_RANGE_POSITION';\nexport const CHANGE_POPUPS_STATUS = 'CHANGE_POPUPS_STATUS';\nexport const CHANGE_MODE = 'CHANGE_MODE';\n","import {\n\tCHANGE_LISTEN_TO_MOUSE_STATUS,\n\tSET_DRAW_ROBOT_INTERVAL,\n\tCHANGE_RANGE_POSITION,\n\tCHANGE_POPUPS_STATUS,\n\tCHANGE_MODE,\n} from './action-types';\n\nexport function changeRangePosition(position) {\n\treturn {\n\t\ttype: CHANGE_RANGE_POSITION,\n\t\tpayload: {\n\t\t\tposition: position,\n\t\t},\n\t};\n}\n\nexport function setDrawRobotInterval(interval) {\n\treturn {\n\t\ttype: SET_DRAW_ROBOT_INTERVAL,\n\t\tpayload: {\n\t\t\tinterval: interval,\n\t\t},\n\t};\n}\n\nexport function changePopupsStatus(popup) {\n\treturn {\n\t\ttype: CHANGE_POPUPS_STATUS,\n\t\tpayload: {\n\t\t\tpopup: popup,\n\t\t},\n\t};\n}\n\nexport function changeListenToMouseStatus(index) {\n\treturn {\n\t\ttype: CHANGE_LISTEN_TO_MOUSE_STATUS,\n\t\tpayload: {\n\t\t\tindex: index,\n\t\t},\n\t};\n}\n\nexport function changeMode() {\n\treturn {\n\t\ttype: CHANGE_MODE,\n\t\tpayload: {},\n\t};\n}\n","import { changeProjectFolderPath } from '../../handlers/project-handler';\nimport SettingsConfig from './settings-config';\nimport { Form, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsFoldersConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { lastProjectPath: '' };\n\t\tthis.CSVFolderRef = React.createRef();\n\t\tthis.projectFolderRef = React.createRef();\n\t\tthis.resetProjectPath = this.resetProjectPath.bind(this);\n\t\tthis.onProjectFolderPathChange = this.onProjectFolderPathChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('foldersConfig', this.getData);\n\t\tthis.props.setElementData('resetProjectPath', this.resetProjectPath);\n\t\tthis.setState(() => {\n\t\t\treturn { lastProjectPath: this.props.projectPath };\n\t\t});\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\tsaveCSVTo: this.CSVFolderRef.current.value || this.props.saveCSVTo,\n\t\t\tprojectPath: this.projectFolderRef.current.value,\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Folders config:';\n\t}\n\n\tonProjectFolderPathChange() {\n\t\tchangeProjectFolderPath(this.projectFolderRef.current.value);\n\t}\n\n\tresetProjectPath() {\n\t\tif (this.props.projectPath !== this.state.lastProjectPath) changeProjectFolderPath(this.state.lastProjectPath);\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Project folder</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.projectPath}\n\t\t\t\t\t\t\tref={this.projectFolderRef}\n\t\t\t\t\t\t\tonChange={this.onProjectFolderPathChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Paths CSV folder:</Form.Label>\n\t\t\t\t\t\t<Form.Control defaultValue={this.props.saveCSVTo} ref={this.CSVFolderRef} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprojectPath: state.projectPath,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsFoldersConfig);\n","import { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { RobotDrawConfig } from '../field-view/view-config';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsRobotConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.robotWidthRef = React.createRef();\n\t\tthis.robotLengthRef = React.createRef();\n\t\tthis.robotCenterRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('robotDrawConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.robotWidthRef.current.value = this.props.robotDrawConfig.width;\n\t\tthis.robotLengthRef.current.value = this.props.robotDrawConfig.length;\n\t\tthis.robotCenterRef.current.value = this.props.robotDrawConfig.center;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\trobotDrawConfig: new RobotDrawConfig(\n\t\t\t\tthis.robotWidthRef.current.value,\n\t\t\t\tthis.robotLengthRef.current.value,\n\t\t\t\tthis.robotCenterRef.current.value\n\t\t\t),\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Robot draw config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> with bumper </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotWidthRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.width}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> with bumper </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Length</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotLengthRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.length}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col} md=\"4\">\n\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\toverlay={\n\t\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t\t<span style={{ color: 'red' }}>back</span> {' (-) < '}\n\t\t\t\t\t\t\t\t<span style={{ color: 'rgb(50, 100, 0)' }}> center </span>\n\t\t\t\t\t\t\t\t{' < (+) '} <span style={{ color: 'blue' }}>front</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Label>Center</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotCenterRef}\n\t\t\t\t\t\tdefaultValue={this.props.robotDrawConfig.center}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t</Form.Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trobotDrawConfig: state.robotDrawConfig,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsRobotConfig);\n","import { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { FieldConfig } from '../field-view/view-config';\nimport SettingsConfig from './settings-config';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsFiledConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.fieldHeightInPixelRef = React.createRef();\n\t\tthis.fieldHeightInMeterRef = React.createRef();\n\t\tthis.fieldWidthInPixelRef = React.createRef();\n\t\tthis.fieldWidthInMeterRef = React.createRef();\n\t\tthis.filedImageNameRef = React.createRef();\n\t\tthis.fieldTopLeftXRef = React.createRef();\n\t\tthis.fieldTopLeftYRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('filedConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.fieldHeightInMeterRef.current.value = this.props.fieldConfig.heightInMeter;\n\t\tthis.fieldWidthInMeterRef.current.value = this.props.fieldConfig.widthInMeter;\n\t\tthis.fieldTopLeftXRef.current.value = this.props.fieldConfig.topLeftXPixel;\n\t\tthis.fieldTopLeftYRef.current.value = this.props.fieldConfig.topLeftYPixel;\n\t\tthis.fieldWidthInPixelRef.current.value = this.props.fieldConfig.widthInPixel;\n\t\tthis.fieldHeightInPixelRef.current.value = this.props.fieldConfig.heigthInPixel;\n\t\tthis.filedImageNameRef.current.value = this.props.filedImageUrl;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\timage: this.filedImageNameRef.current.value,\n\t\t\tfieldConfig: new FieldConfig(\n\t\t\t\tthis.fieldWidthInMeterRef.current.value,\n\t\t\t\tthis.fieldHeightInMeterRef.current.value,\n\t\t\t\tthis.fieldTopLeftXRef.current.value,\n\t\t\t\tthis.fieldTopLeftYRef.current.value,\n\t\t\t\tthis.fieldWidthInPixelRef.current.value,\n\t\t\t\tthis.fieldHeightInPixelRef.current.value\n\t\t\t),\n\t\t};\n\t}\n\n\tgetConfigInfo() {\n\t\treturn 'Filed config:';\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In meter </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.widthInMeter}\n\t\t\t\t\t\t\tref={this.fieldWidthInMeterRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In meter </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Height</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.heightInMeter}\n\t\t\t\t\t\t\tref={this.fieldHeightInMeterRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Image</Form.Label>\n\t\t\t\t\t\t<Form.Control defaultValue={this.props.filedImageUrl} ref={this.filedImageNameRef} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\n\t\t\t\t<Form.Row>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Top left x</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.topLeftXPixel}\n\t\t\t\t\t\t\tref={this.fieldTopLeftXRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<Form.Label>Top left y</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.topLeftYPixel}\n\t\t\t\t\t\t\tref={this.fieldTopLeftYRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In pixel </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.widthInPixel}\n\t\t\t\t\t\t\tref={this.fieldWidthInPixelRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> In pixel </Tooltip>}>\n\t\t\t\t\t\t\t<Form.Label>Height</Form.Label>\n\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tdefaultValue={this.props.fieldConfig.heigthInPixel}\n\t\t\t\t\t\t\tref={this.fieldHeightInPixelRef}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfieldConfig: state.fieldConfig,\n\t\tfiledImageUrl: state.image,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsFiledConfig);\n","import SettingsConfig from './settings-config';\nimport { Form, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass SettingsPathConfig extends SettingsConfig {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.pathWidthRef = React.createRef();\n\t\tthis.robotMaxVRef = React.createRef();\n\t\tthis.pathLengthRef = React.createRef();\n\t\tthis.robotMaxAccRef = React.createRef();\n\t\tthis.robotLoopTimeRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.setElementData('pathConfig', this.getData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.robotMaxVRef.current.value = this.props.pathConfig.vMax;\n\t\tthis.pathWidthRef.current.value = this.props.pathConfig.width;\n\t\tthis.robotMaxAccRef.current.value = this.props.pathConfig.acc;\n\t\tthis.pathLengthRef.current.value = this.props.pathConfig.length;\n\t\tthis.robotLoopTimeRef.current.value = this.props.pathConfig.robotLoopTime;\n\t}\n\n\tgetData() {\n\t\treturn {\n\t\t\tpathConfig: new this.props.driveType.PathConfig(\n\t\t\t\tNumber(this.robotMaxVRef.current.value),\n\t\t\t\tNumber(this.robotMaxAccRef.current.value),\n\t\t\t\tNumber(this.pathWidthRef.current.value),\n\t\t\t\tNumber(this.pathLengthRef.current.value),\n\t\t\t\tNumber(this.robotLoopTimeRef.current.value)\n\t\t\t),\n\t\t};\n\t}\n\n\tgetBody() {\n\t\treturn (\n\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Width</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.pathWidthRef} defaultValue={this.props.pathConfig.width} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Length</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.pathLengthRef} defaultValue={this.props.pathConfig.length} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m / s </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Max V</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.robotMaxVRef} defaultValue={this.props.pathConfig.vMax} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> m / s ^ 2 </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Max Acc</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control type=\"number\" ref={this.robotMaxAccRef} defaultValue={this.props.pathConfig.acc} />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group as={Col}>\n\t\t\t\t\t<OverlayTrigger overlay={<Tooltip> s </Tooltip>}>\n\t\t\t\t\t\t<Form.Label>Loop time</Form.Label>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tref={this.robotLoopTimeRef}\n\t\t\t\t\t\tdefaultValue={this.props.pathConfig.robotLoopTime}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t</Form.Row>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathConfig: state.pathConfig,\n\t\tdriveType: state.driveType,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsPathConfig);\n","import SettingsDriveTypeConfig from './settings-drive-type-config';\nimport { loadFieldImage } from '../../handlers/project-handler';\nimport { changePopupsStatus } from '../../redux/view/actions';\nimport SettingsFoldersConfig from './settings-folders-config';\nimport { setSettings } from '../../redux/project/actions';\nimport SettingsRobotConfig from './settings-robot-config';\nimport SettingsFiledConfig from './settings-filed-config';\nimport SettingsPathConfig from './settings-path-config';\nimport { updateApp } from '../../handlers/app-handler';\nimport { CONFIRM_SHORTCUT } from '../../shortcut';\nimport { Modal, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass Settings extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.saveSettings = this.saveSettings.bind(this);\n\t\tthis.closeSettings = this.closeSettings.bind(this);\n\t\tthis.getAppVersion = this.getAppVersion.bind(this);\n\t\tthis.setElementData = this.setElementData.bind(this);\n\t\tthis.getUpdateButton = this.getUpdateButton.bind(this);\n\t\tthis.getFoldersConfig = this.getFoldersConfig.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.popupsStatus.settingsPopup) mousetrap.bindGlobal(CONFIRM_SHORTCUT, this.saveSettings);\n\t\telse mousetrap.unbind('enter');\n\t}\n\n\tsetElementData(key, func) {\n\t\tthis[key] = func;\n\t}\n\n\tsaveSettings() {\n\t\tvar settings = {\n\t\t\t...this.driveType(),\n\t\t\t...this.pathConfig(),\n\t\t\t...this.filedConfig(),\n\t\t\t...this.robotDrawConfig(),\n\t\t};\n\t\tif (this.foldersConfig) settings = Object.assign(settings, this.foldersConfig());\n\t\tif (settings.image !== this.props.filedImageUrl) loadFieldImage(settings.image);\n\t\tthis.props.setSettings(settings);\n\t\tthis.props.closePopups();\n\t}\n\n\tgetUpdateButton() {\n\t\tif (this.props.newVersion !== undefined) {\n\t\t\treturn (\n\t\t\t\t<Button variant=\"outline-success\" onClick={updateApp}>{`Update to v${this.props.newVersion}`}</Button>\n\t\t\t);\n\t\t}\n\t\treturn <span />;\n\t}\n\n\tgetAppVersion() {\n\t\tif (this.props.isWeb) return <span />;\n\t\treturn <div style={{ fontSize: 10 }}>v{this.props.version}</div>;\n\t}\n\n\tgetFoldersConfig() {\n\t\tif (this.props.isWeb) return <span />;\n\t\treturn <SettingsFoldersConfig setElementData={this.setElementData} />;\n\t}\n\n\tcloseSettings() {\n\t\tif (this.resetProjectPath) this.resetProjectPath();\n\t\tthis.props.closePopups();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Modal show={this.props.popupsStatus.settingsPopup} onHide={this.closeSettings} backdrop=\"static\">\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>Settings</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<div className=\"SettingsBody\">\n\t\t\t\t\t\t{this.getFoldersConfig()}\n\t\t\t\t\t\t<SettingsDriveTypeConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsPathConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsFiledConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t<SettingsRobotConfig setElementData={this.setElementData} />\n\t\t\t\t\t\t{this.getAppVersion()}\n\t\t\t\t\t</div>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{this.getUpdateButton()}\n\t\t\t\t\t<Button variant=\"outline-primary\" onClick={this.closeSettings}>\n\t\t\t\t\t\tcancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={this.saveSettings}>save</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpopupsStatus: state.popupsStatus,\n\t\tprojectPath: state.projectPath,\n\t\tnewVersion: state.newVersion,\n\t\tfiledImageUrl: state.image,\n\t\tversion: state.version,\n\t\tisWeb: state.isWeb,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetSettings: (settings) => dispatch(setSettings(settings)),\n\t\tclosePopups: () => dispatch(changePopupsStatus()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import { changeRangePosition, setDrawRobotInterval } from '../redux/view/actions';\nimport { Form, Container, Row, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass PlayingBar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.range = React.createRef();\n\t\tthis.changeRangePosition = this.changeRangePosition.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.range.current.value = 0;\n\t\tthis.range.current.disabled = true;\n\t\tdocument.querySelector('canvas').addEventListener('wheel', (event) => {\n\t\t\tconst { selectedWaypoint, rangePosition } = this.props;\n\t\t\tif (selectedWaypoint === undefined) {\n\t\t\t\tthis.changeRangePosition(rangePosition - Math.sign(event.deltaY));\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.path) {\n\t\t\tthis.range.current.max = this.props.path.coords.length - 1;\n\t\t\tthis.range.current.value = this.props.rangePosition;\n\t\t\tthis.range.current.disabled = false;\n\t\t} else {\n\t\t\tthis.range.current.disabled = true;\n\t\t\tthis.range.current.value = 0;\n\t\t}\n\t}\n\n\tchangeRangePosition(newPosition) {\n\t\tif (!this.props.path) return;\n\t\tthis.props.setDrawRobotInterval();\n\t\tconst lastPosition = this.props.rangePosition;\n\t\tconst maxPosition = this.props.path.coords.length - 1;\n\t\tconst position = newPosition >= 0 && newPosition <= maxPosition ? newPosition : lastPosition;\n\t\tthis.props.changeRangePosition(position);\n\t}\n\n\trender() {\n\t\tconst style = { fontSize: '12px' };\n\t\tconst { rangePosition, robotLoopTime, path } = this.props;\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col sm={0.5} style={style}>\n\t\t\t\t\t\t{path ? (robotLoopTime * rangePosition).toFixed(2) : '0.00'}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tref={this.range}\n\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\tonChange={(event) => this.changeRangePosition(event.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col sm={0.5} style={style}>\n\t\t\t\t\t\t{path && !path.isIllegal() ? ((path.coords.length - 1) * robotLoopTime).toFixed(2) : '0.00'}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.path,\n\t\trangePosition: state.rangePosition,\n\t\tselectedWaypoint: state.selectedWaypoint,\n\t\trobotLoopTime: state.pathConfig.robotLoopTime,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeRangePosition: (position) => dispatch(changeRangePosition(position)),\n\t\tsetDrawRobotInterval: () => dispatch(setDrawRobotInterval()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayingBar);\n","import { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Alert } from 'react-bootstrap';\nimport React from 'react';\n\nconst getListStyle = (isDraggingOver) => ({\n\tbackground: isDraggingOver ? 'lightblue' : 'white',\n\tpadding: '10px 8px 0 8px',\n\toverflowX: 'hidden',\n\tborderRadius: '5px',\n\toverflowY: 'auto',\n\theight: '250px',\n});\n\nconst DragAndDropList = ({ style, title, id, items }) => (\n\t<div style={{ ...style, width: '50%', padding: '10px' }}>\n\t\t<h5>{title}</h5>\n\t\t<Droppable droppableId={id}>\n\t\t\t{(provided, snapshot) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\tstyle={getListStyle(snapshot.isDraggingOver)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items.map((item, index) => (\n\t\t\t\t\t\t\t<Draggable key={item} draggableId={item} index={index}>\n\t\t\t\t\t\t\t\t{(provided, snapshot) => (\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\t\t\t\t\tvariant={snapshot.isDragging ? 'success' : 'primary'}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Draggable>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{items.length === 0 && <h6>list is empty</h6>}\n\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Droppable>\n\t</div>\n);\n\nexport default DragAndDropList;\n","import { changePopupsStatus } from '../redux/view/actions';\nimport { updateGroup } from '../redux/group/actions';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport DragAndDropList from './drag-and-drop-list';\nimport { Modal } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass PathsList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { items: [], selected: [] };\n\t}\n\n\tcomponentDidUpdate(props) {\n\t\tconst { paths, groupPaths } = this.props;\n\t\tif (JSON.stringify(props) !== JSON.stringify(this.props))\n\t\t\tthis.setState({ items: paths.filter((path) => !groupPaths.includes(path)), selected: groupPaths });\n\t}\n\n\treorder = (source, destination) => {\n\t\tconst newList = Array.from(this.state[source.droppableId]);\n\t\tconst [removed] = newList.splice(source.index, 1);\n\t\tnewList.splice(destination.index, 0, removed);\n\t\tconst result = {};\n\t\tresult[destination.droppableId] = newList;\n\t\treturn result;\n\t};\n\n\tmove = (source, destination) => {\n\t\tconst sourceClone = Array.from(this.state[source.droppableId]);\n\t\tconst destClone = Array.from(this.state[destination.droppableId]);\n\t\tconst [removed] = sourceClone.splice(source.index, 1);\n\t\tdestClone.splice(destination.index, 0, removed);\n\t\tconst result = {};\n\t\tresult[source.droppableId] = sourceClone;\n\t\tresult[destination.droppableId] = destClone;\n\t\treturn result;\n\t};\n\n\tonDragEnd = (result) => {\n\t\tconst { source, destination } = result;\n\t\tif (!destination) return;\n\t\tif (source.droppableId === destination.droppableId) this.setState(this.reorder(source, destination));\n\t\telse this.setState(this.move(source, destination));\n\t};\n\n\tonClose = (group) => {\n\t\tconst { close, updateGroup } = this.props;\n\t\tclose();\n\t\tupdateGroup(group);\n\t};\n\n\trender() {\n\t\tconst { show, selected } = this.props;\n\t\treturn (\n\t\t\t<Modal show={show} onHide={() => this.onClose(this.state.selected)} size={'lg'} centered>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{`${selected} Group Info`}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\n\t\t\t\t<Modal.Body style={{ display: 'flex', height: '100%', width: '100%', textAlign: 'center' }}>\n\t\t\t\t\t<DragDropContext onDragEnd={this.onDragEnd}>\n\t\t\t\t\t\t<DragAndDropList id={'items'} title={'paths to use'} items={this.state.items} />\n\t\t\t\t\t\t<DragAndDropList\n\t\t\t\t\t\t\tid={'selected'}\n\t\t\t\t\t\t\ttitle={'paths in group'}\n\t\t\t\t\t\t\titems={this.state.selected}\n\t\t\t\t\t\t\tstyle={{ margin: '0 0 0 auto' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DragDropContext>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tselected: state.selected,\n\t\tpaths: Object.keys(state.paths),\n\t\tshow: state.popupsStatus.groupPopup,\n\t\tgroupPaths: state.groups[state.selected] ? state.groups[state.selected] : [],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tclose: () => dispatch(changePopupsStatus()),\n\t\tupdateGroup: (group) => dispatch(updateGroup(group)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PathsList);\n","import { deleteGroup, renameGroup, addGroup } from '../../redux/group/actions';\nimport { deletePath, renamePath, addPath } from '../../redux/path/actions';\n\nexport function deleteAction(state) {\n\tif (state.isPathMode) return deletePath(state);\n\treturn deleteGroup();\n}\n\nexport function renameAction(isPathMode, paths, oldName, newName) {\n\tif (isPathMode) return renamePath(paths, oldName, newName);\n\treturn renameGroup(newName);\n}\n\nexport function createNewAction(isPathMode, paths, pathConfig, driveType, name) {\n\tif (isPathMode) return addPath(paths, pathConfig, driveType, name);\n\treturn addGroup(name);\n}\n","import { CONFIRM_SHORTCUT } from '../../shortcut';\nimport { Modal, Button } from 'react-bootstrap';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass Popup extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.cancelButtonRef = React.createRef();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.props.show) return;\n\t\tif (this.props.refToUse !== undefined && this.props.refToUse.current !== null)\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.props.refToUse.current !== null) this.props.refToUse.current.focus();\n\t\t\t}, 100);\n\t\telse if (this.cancelButtonRef.current !== null) this.cancelButtonRef.current.focus();\n\t\tif (this.props.confirm)\n\t\t\tmousetrap.bindGlobal(CONFIRM_SHORTCUT, () => {\n\t\t\t\tif (document.activeElement === this.cancelButtonRef.current) return;\n\t\t\t\tif (this.props.show) this.props.confirm();\n\t\t\t});\n\t}\n\n\trender() {\n\t\tvar confirmButton = <Button onClick={this.props.confirm}>confirm</Button>;\n\t\tvar cancelButton = (\n\t\t\t<Button variant=\"outline-primary\" onClick={this.props.close} ref={this.cancelButtonRef}>\n\t\t\t\tcancel\n\t\t\t</Button>\n\t\t);\n\t\tif (this.props.confirm === undefined) {\n\t\t\tconfirmButton = <span />;\n\t\t\tcancelButton = (\n\t\t\t\t<Button ref={this.cancelButtonRef} onClick={this.props.close}>\n\t\t\t\t\tok\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Modal show={this.props.show} onHide={this.props.close}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>{this.props.title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>{this.props.body}</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{cancelButton}\n\t\t\t\t\t{confirmButton}\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nexport default Popup;\n","import { changePopupsStatus, changeRangePosition } from '../../redux/view/actions';\nimport { deleteAction, renameAction, createNewAction } from './util';\nimport { FormControl } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport Popup from './popup';\nimport React from 'react';\n\nclass Popups extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.newPathRef = React.createRef();\n\t\tthis.renamePathRef = React.createRef();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.popupsStatus.renamePopup) this.renamePathRef.current.defaultValue = this.props.pathName;\n\t}\n\n\tdeleteAction = async () => {\n\t\tawait this.props.deleteAction(this.props);\n\t\tthis.props.closePopups();\n\t};\n\n\trenamePath = async () => {\n\t\tconst { selected, paths, renameAction, closePopups, isPathMode } = this.props;\n\t\tif (this.renamePathRef.current.value) {\n\t\t\tawait renameAction(isPathMode, paths, selected, this.renamePathRef.current.value);\n\t\t\tclosePopups();\n\t\t}\n\t};\n\n\tcreateNew = async () => {\n\t\tconst { isPathMode, paths, pathConfig, driveType, pathsName } = this.props;\n\t\tif (this.newPathRef.current.value && !pathsName.includes(this.newPathRef.current.value)) {\n\t\t\tawait this.props.createNewAction(isPathMode, paths, pathConfig, driveType, this.newPathRef.current.value);\n\t\t\tthis.props.resetRangePosition();\n\t\t\tthis.props.closePopups();\n\t\t}\n\t};\n\n\trender() {\n\t\tconst type = this.props.isPathMode ? 'path' : 'group';\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.deletePopup}\n\t\t\t\t\tbody={`Are you sure you want to delete ${type}?`}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\tconfirm={this.deleteAction}\n\t\t\t\t\ttitle={`Delete ${type}`}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.renamePopup}\n\t\t\t\t\tbody={<FormControl ref={this.renamePathRef} />}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\trefToUse={this.renamePathRef}\n\t\t\t\t\tconfirm={this.renamePath}\n\t\t\t\t\ttitle={`Rename ${type}`}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tbody={<FormControl ref={this.newPathRef} placeholder={`${type} name`} />}\n\t\t\t\t\tshow={this.props.popupsStatus.createNewPopup}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\tconfirm={this.createNew}\n\t\t\t\t\trefToUse={this.newPathRef}\n\t\t\t\t\ttitle={`Create a new ${type}`}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.pathIsIllegalPopup}\n\t\t\t\t\ttitle={this.props.path && this.props.path.isIllegal() && this.props.path.error.message}\n\t\t\t\t\tbody={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{this.props.path &&\n\t\t\t\t\t\t\t\tthis.props.path.isIllegal() &&\n\t\t\t\t\t\t\t\tthis.props.path.error.position &&\n\t\t\t\t\t\t\t\t`${this.props.path.error.position}\\n\\n`}\n\t\t\t\t\t\t\t{this.props.path &&\n\t\t\t\t\t\t\t\tthis.props.path.isIllegal() &&\n\t\t\t\t\t\t\t\tthis.props.path.error.problem &&\n\t\t\t\t\t\t\t\t`${this.props.path.error.problem}\\n\\n`}\n\t\t\t\t\t\t\t{this.props.path && this.props.path.isIllegal() && `${this.props.path.error.solution}!`}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\ttitle={`v${this.props.newVersion} is available`}\n\t\t\t\t\tshow={this.props.popupsStatus.newVersionPopup}\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t\tbody={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{'There is a new version waiting for you to update to!\\n' +\n\t\t\t\t\t\t\t\t'To update jest go to settings and click on update...'}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={\n\t\t\t\t\t\tthis.props.popupsStatus.savePathToCSVPopup && this.props.saveCSVTo === '' && !this.props.isWeb\n\t\t\t\t\t}\n\t\t\t\t\ttitle=\"Save path CSV\"\n\t\t\t\t\tbody=\"Can't save path CSV, you need to set CSV folder path in settings!\"\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t/>\n\n\t\t\t\t<Popup\n\t\t\t\t\tshow={this.props.popupsStatus.savePathToCSVPopup && this.props.saveCSVTo !== ''}\n\t\t\t\t\ttitle=\"Save path CSV\"\n\t\t\t\t\tbody=\"Path CSV saved!\"\n\t\t\t\t\tclose={this.props.closePopups}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathName: state.selected ? state.selected : '',\n\t\tpathsName: Object.keys(state.paths),\n\t\tpopupsStatus: state.popupsStatus,\n\t\tnewVersion: state.newVersion,\n\t\tisPathMode: state.isPathMode,\n\t\tpathConfig: state.pathConfig,\n\t\tdriveType: state.driveType,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t\tselected: state.selected,\n\t\tisWeb: state.isWeb,\n\t\tpaths: state.paths,\n\t\tpath: state.path,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tcreateNewAction: async (isPathMode, paths, pathConfig, driveType, name) =>\n\t\t\tdispatch(await createNewAction(isPathMode, paths, pathConfig, driveType, name)),\n\t\trenameAction: async (isPathMode, paths, oldName, newName) =>\n\t\t\tdispatch(await renameAction(isPathMode, paths, oldName, newName)),\n\t\tdeleteAction: async (state) => dispatch(await deleteAction(state)),\n\t\tresetRangePosition: () => dispatch(changeRangePosition(0)),\n\t\tclosePopups: () => dispatch(changePopupsStatus()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Popups);\n","export class PopupsConfig {\n\tconstructor() {\n\t\tthis.savePathToCSVPopup = false;\n\t\tthis.pathIsIllegalPopup = false;\n\t\tthis.newVersionPopup = false;\n\t\tthis.createNewPopup = false;\n\t\tthis.settingsPopup = false;\n\t\tthis.renamePopup = false;\n\t\tthis.deletePopup = false;\n\t\tthis.groupPopup = false;\n\t}\n}\n","import { saveCSVPath } from '../../handlers/project-handler';\nimport { PopupsConfig } from '../popups/popups-config';\n\nexport async function onDownloadClick(props) {\n\tconst { driveType, paths, path, saveCSVTo, isWeb, isPathMode, pathName, group, pathConfig } = props;\n\tconst { showIllegalPathPopup, showCSVSavePopup } = props;\n\tif (document.activeElement) document.activeElement.blur();\n\tif (!path || (saveCSVTo === '' && !isWeb)) return;\n\tif (path.isIllegal()) {\n\t\tshowIllegalPathPopup();\n\t} else {\n\t\tconst pathsToDownload = isPathMode ? [pathName] : group;\n\t\tpathsToDownload.forEach((pathName) => {\n\t\t\tconst path = new driveType.Path(paths[pathName].waypoints, pathConfig);\n\t\t\tsaveCSVPath(path, pathName, saveCSVTo);\n\t\t});\n\t\tshowCSVSavePopup();\n\t}\n}\n\nexport async function onSettingsClick(props, event) {\n\tevent.preventDefault();\n\tif (document.activeElement) document.activeElement.blur();\n\tprops.showSettings();\n}\n\nexport async function onPlayClick(props, updateRangePosition, event) {\n\tevent.preventDefault();\n\tconst { path, drawRobotInterval, popupsStatus, rangePosition, robotLoopTime } = props;\n\tconst { setDrawRobotInterval, changeRangePosition } = props;\n\tconst canCreateInterval = () => path && !drawRobotInterval && path.coords.length > 0 && !popupsStatus.settingsPopup;\n\tconst isRangePositionInTheEnd = () => path && path.coords.length - 1 === rangePosition;\n\n\tif (JSON.stringify(popupsStatus) !== JSON.stringify(new PopupsConfig())) return;\n\tif (document.activeElement) document.activeElement.blur();\n\tlet interval = undefined;\n\tif (canCreateInterval()) {\n\t\tif (isRangePositionInTheEnd()) changeRangePosition(0);\n\t\tinterval = setInterval(updateRangePosition, robotLoopTime * 1000);\n\t}\n\tsetDrawRobotInterval(interval);\n}\n\nexport async function onDeleteClick(props, event) {\n\tevent.preventDefault();\n\tconst { path, showDeletePopup } = props;\n\tif (document.activeElement) document.activeElement.blur();\n\tif (path) showDeletePopup();\n}\n\nexport async function onRenameClick(props, event) {\n\tevent.preventDefault();\n\tconst { path, showRenamePopup } = props;\n\tif (document.activeElement) document.activeElement.blur();\n\tif (path) showRenamePopup();\n}\n\nexport async function onChangeModeClick(props, event) {\n\tevent.preventDefault();\n\tif (document.activeElement) document.activeElement.blur();\n\tprops.changeMode();\n}\n\nexport async function onGroupEditClick(props) {\n\tif (document.activeElement) document.activeElement.blur();\n\tprops.showGroupPopup();\n}\n","import { changeDirection } from '../../redux/path/actions';\nimport { FiCircle, FiCheckCircle } from 'react-icons/fi';\nimport { DIRECTION_SHORTCUT } from '../../shortcut';\nimport { Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsPathDirection extends React.Component {\n\tcomponentDidMount = () => mousetrap.bindGlobal(DIRECTION_SHORTCUT, this.onClick);\n\n\tonClick = async () => {\n\t\tconst { changeDirection, path, paths, selected, isPathMode } = this.props;\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (!isPathMode) return;\n\t\tif (path) await changeDirection(path, paths, selected);\n\t};\n\n\tgetButtonIcon = () => {\n\t\tif (this.props.path && this.props.isPathReverse) return <FiCheckCircle className=\"mr-2\" />;\n\t\treturn <FiCircle className=\"mr-2\" />;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tsize=\"lg\"\n\t\t\t\tclassName=\"mr-3\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tdisabled={!this.props.path || this.props.path.isTurnInPlace()}\n\t\t\t>\n\t\t\t\t{this.getButtonIcon()}\n\t\t\t\tin reverse\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.path,\n\t\tpaths: state.paths,\n\t\tselected: state.selected,\n\t\tisPathMode: state.isPathMode,\n\t\tisPathReverse: state.selected ? state.paths[state.selected].isInReverse : false,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchangeDirection: async (path, paths, selected) => dispatch(await changeDirection(path, paths, selected)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsPathDirection);\n","import { changeSelectedGroup } from '../../redux/group/actions';\nimport { changePopupsStatus } from '../../redux/view/actions';\nimport { changeSelectedPath } from '../../redux/path/actions';\nimport { Dropdown, DropdownButton } from 'react-bootstrap';\nimport { CREATE_SHORTCUT } from '../../shortcut';\nimport { connect } from 'react-redux';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass ToolsSelect extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.getItems = this.getItems.bind(this);\n\t\tthis.setSelected = this.setSelected.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tmousetrap.bindGlobal(CREATE_SHORTCUT, this.props.showCreateNewPopup);\n\t}\n\n\tgetItems() {\n\t\tconst { pathsName, groups, isPathMode, selected } = this.props;\n\t\tconst list = isPathMode ? pathsName : groups;\n\t\treturn list.map((element, index) => {\n\t\t\treturn (\n\t\t\t\t<Dropdown.Item\n\t\t\t\t\tas=\"button\"\n\t\t\t\t\tkey={index}\n\t\t\t\t\tactive={element === selected}\n\t\t\t\t\tonClick={() => this.setSelected(element)}\n\t\t\t\t>\n\t\t\t\t\t{element}\n\t\t\t\t</Dropdown.Item>\n\t\t\t);\n\t\t});\n\t}\n\n\tasync setSelected(selected) {\n\t\tconst { changeSelectedGroup, changeSelectedPath, isPathMode } = this.props;\n\t\tif (document.activeElement) document.activeElement.blur();\n\t\tif (isPathMode) await changeSelectedPath(selected, this.props);\n\t\telse changeSelectedGroup(selected, this.props);\n\t}\n\n\trender() {\n\t\tconst { showCreateNewPopup, isPathMode, selected } = this.props;\n\t\tconst selectDropdownText = selected ? selected : isPathMode ? 'Select Path' : 'Select Group';\n\t\treturn (\n\t\t\t<DropdownButton className=\"ml-3 mr-2\" size=\"lg\" drop=\"up\" title={selectDropdownText}>\n\t\t\t\t{this.getItems()}\n\t\t\t\t<Dropdown.Divider />\n\t\t\t\t<Dropdown.Item as=\"button\" onClick={showCreateNewPopup}>\n\t\t\t\t\t{isPathMode ? 'New Path' : 'New Group'}\n\t\t\t\t</Dropdown.Item>\n\t\t\t</DropdownButton>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpathsName: Object.keys(state.paths),\n\t\tgroups: Object.keys(state.groups),\n\t\tisPathMode: state.isPathMode,\n\t\tpathConfig: state.pathConfig,\n\t\tdriveType: state.driveType,\n\t\tselected: state.selected,\n\t\tpaths: state.paths,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowCreateNewPopup: () => dispatch(changePopupsStatus('createNewPopup')),\n\t\tchangeSelectedGroup: (groupName) => dispatch(changeSelectedGroup(groupName)),\n\t\tchangeSelectedPath: async (pathName, state) => dispatch(await changeSelectedPath(pathName, state)),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolsSelect);\n","import React, { useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\n\nexport default function toolsButton({ title, variant, disabled, body, onClick, shortcut }) {\n\tuseEffect(() => (shortcut ? mousetrap.bindGlobal(shortcut, onClick) : undefined), []);\n\treturn (\n\t\t<Button size=\"lg\" className=\"mr-2\" variant={variant} title={title} onClick={onClick} disabled={disabled}>\n\t\t\t{body}\n\t\t</Button>\n\t);\n}\n","import { changePopupsStatus, setDrawRobotInterval, changeRangePosition, changeMode } from '../../redux/view/actions';\nimport { MdError, MdBuild, MdPause, MdReplay, MdPlayArrow, MdDelete, MdEdit } from 'react-icons/all';\nimport { onDownloadClick, onPlayClick, onDeleteClick, onRenameClick } from './tools-events';\nimport { onSettingsClick, onChangeModeClick, onGroupEditClick } from './tools-events';\nimport { DOWNLOAD_SHORTCUT, SETTINGS_SHORTCUT, PLAY_SHORTCUT } from '../../shortcut';\nimport { DELETE_SHORTCUT, RENAME_SHORTCUT, MODE_SHORTCUT } from '../../shortcut';\nimport { FiDownload, BiMovie, BiEdit, BsFileEarmarkPlus } from 'react-icons/all';\nimport ToolsPathDirection from './tools-path-direction';\nimport { Container, Row } from 'react-bootstrap';\nimport { Holonomic } from 'path-generator';\nimport ToolsSelect from './tools-select';\nimport ToolsButton from './tools-button';\nimport { connect } from 'react-redux';\nimport React from 'react';\n\nclass Tools extends React.Component {\n\tgetPlayButtonIcon = () => {\n\t\tconst { drawRobotInterval, path, rangePosition } = this.props;\n\t\tif (drawRobotInterval) return <MdPause />;\n\t\telse if (path && path.coords.length - 1 === rangePosition) return <MdReplay />;\n\t\telse return <MdPlayArrow />;\n\t};\n\n\tupdateRangePosition = () => {\n\t\tconst { path, rangePosition } = this.props;\n\t\tconst { setDrawRobotInterval, changeRangePosition } = this.props;\n\t\tconst isRangePositionInTheEnd = () => path && path.coords.length - 1 === rangePosition;\n\t\tif (isRangePositionInTheEnd()) setDrawRobotInterval();\n\t\telse changeRangePosition(rangePosition + 1);\n\t};\n\n\trender() {\n\t\tconst { driveType, isPathMode, path, newVersion, pathName } = this.props;\n\t\tconst isPathIllegal = path && path.isIllegal();\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\ttitle=\"Settings\"\n\t\t\t\t\t\tbody={<MdBuild />}\n\t\t\t\t\t\tshortcut={SETTINGS_SHORTCUT}\n\t\t\t\t\t\tonClick={(event) => onSettingsClick(this.props, event)}\n\t\t\t\t\t\tvariant={newVersion ? 'success' : 'primary'}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\tshortcut={MODE_SHORTCUT}\n\t\t\t\t\t\tbody={isPathMode ? <BiMovie /> : <BiEdit />}\n\t\t\t\t\t\tonClick={(event) => onChangeModeClick(this.props, event)}\n\t\t\t\t\t\ttitle={`Change to ${isPathMode ? 'group' : 'path'} mode`}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolsSelect />\n\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\ttitle=\"Rename\"\n\t\t\t\t\t\tdisabled={!path}\n\t\t\t\t\t\tbody={<MdEdit />}\n\t\t\t\t\t\tshortcut={RENAME_SHORTCUT}\n\t\t\t\t\t\tonClick={(event) => onRenameClick(this.props, event)}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\tdisabled={!path}\n\t\t\t\t\t\ttitle=\"Save csv path\"\n\t\t\t\t\t\tshortcut={DOWNLOAD_SHORTCUT}\n\t\t\t\t\t\tvariant={isPathIllegal ? 'danger' : 'primary'}\n\t\t\t\t\t\tonClick={(event) => onDownloadClick(this.props, event)}\n\t\t\t\t\t\tbody={isPathIllegal ? <MdError /> : <FiDownload />}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\tshortcut={PLAY_SHORTCUT}\n\t\t\t\t\t\tbody={this.getPlayButtonIcon()}\n\t\t\t\t\t\tdisabled={!path || path.waypoints.length <= 1 || path.isIllegal()}\n\t\t\t\t\t\tonClick={(event) => onPlayClick(this.props, this.updateRangePosition, event)}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\ttitle=\"Delete\"\n\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\tdisabled={!path}\n\t\t\t\t\t\tbody={<MdDelete />}\n\t\t\t\t\t\tshortcut={DELETE_SHORTCUT}\n\t\t\t\t\t\tonClick={(event) => onDeleteClick(this.props, event)}\n\t\t\t\t\t/>\n\t\t\t\t\t{!isPathMode && (\n\t\t\t\t\t\t<ToolsButton\n\t\t\t\t\t\t\tdisabled={pathName === undefined}\n\t\t\t\t\t\t\tbody={<BsFileEarmarkPlus />}\n\t\t\t\t\t\t\tonClick={() => onGroupEditClick(this.props)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{isPathMode && driveType !== Holonomic && <ToolsPathDirection />}\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpath: state.path,\n\t\tpaths: state.paths,\n\t\tisWeb: state.isWeb,\n\t\tpathName: state.selected,\n\t\tsaveCSVTo: state.saveCSVTo,\n\t\tdriveType: state.driveType,\n\t\tnewVersion: state.newVersion,\n\t\tpathConfig: state.pathConfig,\n\t\tisPathMode: state.isPathMode,\n\t\tpopupsStatus: state.popupsStatus,\n\t\trangePosition: state.rangePosition,\n\t\tgroup: state.groups[state.selected],\n\t\tdrawRobotInterval: state.drawRobotInterval,\n\t\trobotLoopTime: state.pathConfig.robotLoopTime,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tshowIllegalPathPopup: () => dispatch(changePopupsStatus('pathIsIllegalPopup')),\n\t\tsetDrawRobotInterval: (interval) => dispatch(setDrawRobotInterval(interval)),\n\t\tchangeRangePosition: (position) => dispatch(changeRangePosition(position)),\n\t\tshowCSVSavePopup: () => dispatch(changePopupsStatus('savePathToCSVPopup')),\n\t\tshowRenamePopup: () => dispatch(changePopupsStatus('renamePopup')),\n\t\tshowDeletePopup: () => dispatch(changePopupsStatus('deletePopup')),\n\t\tshowSettings: () => dispatch(changePopupsStatus('settingsPopup')),\n\t\tshowGroupPopup: () => dispatch(changePopupsStatus('groupPopup')),\n\t\tcloseSettings: () => dispatch(changePopupsStatus()),\n\t\tchangeMode: () => dispatch(changeMode()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Tools);\n","import { projectInit } from '../handlers/project-handler';\nimport { appUpdaterInit } from '../handlers/app-handler';\nimport FieldView from './field-view/field-view';\nimport { CANCEL_SHORTCUT } from '../shortcut';\nimport Settings from './settings/settings';\nimport PlayingBar from './playing-bar';\nimport GroupInfo from './group-info';\nimport { connect } from 'react-redux';\nimport Popups from './popups/popups';\nimport Tools from './tools/tools';\nimport mousetrap from 'mousetrap';\nimport 'mousetrap-global-bind';\nimport React from 'react';\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tappUpdaterInit(this.props.dispatch);\n\t\tprojectInit(this.props.dispatch);\n\t\tmousetrap.bindGlobal(CANCEL_SHORTCUT, () => {\n\t\t\tif (document.activeElement) document.activeElement.blur();\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<GroupInfo />\n\t\t\t\t<Popups />\n\t\t\t\t<Settings />\n\t\t\t\t<FieldView />\n\t\t\t\t<div id=\"bottom\">\n\t\t\t\t\t<PlayingBar />\n\t\t\t\t\t<Tools />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisPathMode: state.isPathMode,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tdispatch: (value) => dispatch(value),\n\t};\n};\n\nconst app = connect(mapStateToProps, mapDispatchToProps)(App);\nexport default app;\n","import { FieldConfig, RobotDrawConfig } from '../component/field-view/view-config';\nimport { PopupsConfig } from '../component/popups/popups-config';\nimport { Tank } from 'path-generator';\n\nexport const initialState = {\n\t//View\n\tpopupsStatus: new PopupsConfig(),\n\tdrawRobotInterval: undefined,\n\tselected: undefined,\n\trangePosition: 0,\n\tisPathMode: true,\n\n\t// group\n\tgroups: {},\n\n\t// Path\n\tselectedWaypoint: undefined,\n\tdriveType: Tank,\n\tpath: undefined,\n\tpaths: {},\n\n\t//Project\n\trobotDrawConfig: new RobotDrawConfig(),\n\tpathConfig: new Tank.PathConfig(),\n\tfieldConfig: new FieldConfig(),\n\tprojectPath: '',\n\tsaveCSVTo: '',\n\timageUrl: '',\n\timage: '',\n\n\t//App\n\tnewVersion: undefined,\n\tversion: '0.0.0',\n\tisWeb: true,\n};\n","import { Util } from 'path-generator';\n\nfunction illegalGroup(group, state) {\n\tgroup.coords = [];\n\tgroup.waypoints = [];\n\tgroup.sourceSetpoints = [];\n\tgroup.isIllegal = () => true;\n\tstate.popupsStatus.pathIsIllegalPopup = true;\n}\n\nfunction illegalPathInGroup(group, state) {\n\tillegalGroup(group, state);\n\tgroup.error = {\n\t\tinfo: 'Illegal Path In Group!',\n\t\tproblem: `There is illegal path!`,\n\t\tsolution: `Fix the illegal path!`,\n\t};\n}\n\nfunction addPathToGroup(state, group, path, pathName) {\n\tgroup.sourceSetpoints.push(...path.sourceSetpoints);\n\tgroup.waypoints.push(...path.waypoints);\n\n\tconst coords = path.coords;\n\tif (state.paths[pathName].isInReverse)\n\t\tpath.coords.forEach((coord) => {\n\t\t\tcoord.angle += Util.d2r(180);\n\t\t});\n\tgroup.coords.push(...coords);\n}\n\nexport function getGroup(state) {\n\tconst group = { coords: [], waypoints: [], sourceSetpoints: [], isIllegal: () => false, isReverse: () => false };\n\tstate.groups[state.selected].forEach((pathName) => {\n\t\tif (!state.paths[pathName]) {\n\t\t\tconst index = state.groups[state.selected].indexOf(pathName);\n\t\t\tif (index >= 0) state.groups[state.selected].splice(index, 1);\n\t\t\treturn;\n\t\t}\n\t\tconst path = new state.driveType.Path(state.paths[pathName].waypoints, state.pathConfig);\n\t\tif (path.isIllegal()) {\n\t\t\tillegalPathInGroup(group, state);\n\t\t\treturn;\n\t\t}\n\t\taddPathToGroup(state, group, path, pathName);\n\t});\n\treturn { ...state, path: group };\n}\n","import { CHANGE_SELECTED_PATHS_GROUP, DELETE_GROUP, RENAME_GROUP, ADD_GROUP, UPDATE_GROUP } from './action-types';\nimport { saveJsonGroup, deleteGroup, renameJsonGroup } from '../../handlers/project-handler';\nimport { getGroup } from './util';\n\nfunction changeSelectedGroup(state, payload) {\n\treturn getGroup({ ...state, selected: payload.groupName });\n}\n\nfunction updateGroup(state, payload) {\n\tconst newState = { ...state };\n\tnewState.groups[newState.selected] = payload.group;\n\tsaveJsonGroup(newState.selected, newState.groups[newState.selected]);\n\treturn getGroup(newState);\n}\n\nfunction removeGroup(state, payload) {\n\tconst newState = { ...state, selected: undefined, path: undefined };\n\tdelete newState.groups[state.selected];\n\tdeleteGroup(state.selected);\n\treturn newState;\n}\n\nfunction renameGroup(state, payload) {\n\tconst newState = { ...state, selected: payload.name };\n\tif (payload.name !== state.selected) {\n\t\trenameJsonGroup(state.selected, payload.name);\n\t\tnewState.groups[payload.name] = newState.groups[state.selected];\n\t\tdelete newState.groups[state.selected];\n\t}\n\treturn newState;\n}\n\nfunction addGroup(state, payload) {\n\tconst newState = { ...state };\n\tconst paths = payload.paths ? payload.paths : [];\n\tnewState.groups[payload.name] = paths;\n\tif (!payload.paths) {\n\t\tnewState.path = undefined;\n\t\tnewState.selected = payload.name;\n\t\tsaveJsonGroup(newState.selected, newState.groups[state.selected]);\n\t}\n\treturn newState;\n}\n\nexport default function group(state, action) {\n\tif (action.type === CHANGE_SELECTED_PATHS_GROUP) return changeSelectedGroup(state, action.payload);\n\tif (action.type === UPDATE_GROUP) return updateGroup(state, action.payload);\n\tif (action.type === RENAME_GROUP) return renameGroup(state, action.payload);\n\tif (action.type === DELETE_GROUP) return removeGroup(state, action.payload);\n\tif (action.type === ADD_GROUP) return addGroup(state, action.payload);\n\treturn state;\n}\n","import { saveJsonProject } from '../../handlers/project-handler';\nimport {\n\tSET_ROBOT_DRAW_CONFIG,\n\tSET_PROJECT_PATH,\n\tSET_FIELD_CONFIG,\n\tSET_SETTINGS,\n\tSET_CSV_PATH,\n\tSET_IMAGE,\n} from './action-types';\n\nfunction setSettings(state, payload) {\n\tsaveJsonProject(payload.settings);\n\treturn { ...state, ...payload.settings, selected: undefined, path: undefined, listenToMouseClicks: false };\n}\n\nfunction setProjectPath(state, payload) {\n\treturn { ...state, projectPath: payload.projectPath, selected: undefined, paths: {} };\n}\n\nfunction setFieldConfig(state, payload) {\n\treturn { ...state, fieldConfig: payload.fieldConfig };\n}\n\nfunction setImage(state, payload) {\n\treturn { ...state, image: payload.image, imageUrl: payload.imageUrl };\n}\n\nfunction setCSVPath(state, payload) {\n\treturn { ...state, saveCSVTo: payload.path };\n}\n\nfunction setRobotDrawConfig(state, payload) {\n\treturn { ...state, robotDrawConfig: payload.robotDrawConfig };\n}\n\nexport default function project(state, action) {\n\tif (action.type === SET_IMAGE) return setImage(state, action.payload);\n\tif (action.type === SET_CSV_PATH) return setCSVPath(state, action.payload);\n\tif (action.type === SET_SETTINGS) return setSettings(state, action.payload);\n\tif (action.type === SET_PROJECT_PATH) return setProjectPath(state, action.payload);\n\tif (action.type === SET_FIELD_CONFIG) return setFieldConfig(state, action.payload);\n\tif (action.type === SET_ROBOT_DRAW_CONFIG) return setRobotDrawConfig(state, action.payload);\n\treturn state;\n}\n","import { PopupsConfig } from '../../component/popups/popups-config';\nimport {\n\tCHANGE_LISTEN_TO_MOUSE_STATUS,\n\tSET_DRAW_ROBOT_INTERVAL,\n\tCHANGE_RANGE_POSITION,\n\tCHANGE_POPUPS_STATUS,\n\tCHANGE_MODE,\n} from './action-types';\n\nfunction changeRangePosition(state, payload) {\n\treturn { ...state, rangePosition: Number(payload.position) };\n}\n\nfunction setDrawRobotInterval(state, payload) {\n\tif (!state.drawRobotInterval && payload.interval)\n\t\treturn { ...state, drawRobotInterval: payload.interval, selectedWaypoint: undefined };\n\tclearInterval(state.drawRobotInterval);\n\treturn { ...state, drawRobotInterval: undefined, selectedWaypoint: undefined };\n}\n\nfunction changePopupsStatus(state, payload) {\n\tconst newState = { ...state, popupsStatus: new PopupsConfig() };\n\tif (payload.popup !== undefined) newState.popupsStatus[payload.popup] = !state.popupsStatus[payload.popup];\n\treturn newState;\n}\n\nfunction changeListenToMouseStatus(state, payload) {\n\tconst index = state.addWaypointInIndex !== undefined ? undefined : payload.index;\n\tconst status = payload.index !== undefined ? true : !state.listenToMouseClicks;\n\treturn {\n\t\t...state,\n\t\tlistenToMouseClicks: status,\n\t\taddWaypointInIndex: index,\n\t};\n}\n\nfunction changeMode(state, payload) {\n\treturn {\n\t\t...state,\n\t\tisPathMode: !state.isPathMode,\n\t\tlistenToMouseClicks: false,\n\t\tselected: undefined,\n\t\tpath: undefined,\n\t};\n}\n\nexport default function view(state, action) {\n\tif (action.type !== SET_DRAW_ROBOT_INTERVAL && action.type !== CHANGE_RANGE_POSITION) {\n\t\tstate = setDrawRobotInterval(state, {});\n\t\tstate = changeRangePosition(state, { position: 0 });\n\t}\n\tif (action.type === CHANGE_MODE) return changeMode(state, action.payload);\n\tif (action.type === CHANGE_POPUPS_STATUS) return changePopupsStatus(state, action.payload);\n\tif (action.type === CHANGE_RANGE_POSITION) return changeRangePosition(state, action.payload);\n\tif (action.type === SET_DRAW_ROBOT_INTERVAL) return setDrawRobotInterval(state, action.payload);\n\tif (action.type === CHANGE_LISTEN_TO_MOUSE_STATUS) return changeListenToMouseStatus(state, action.payload);\n\treturn state;\n}\n","import { UPDATE_PATH_REDUCER, LOAD_PATH } from './action-types';\n\nconst updatePathReducer = (state, payload) => ({ ...state, ...payload });\n\nfunction loadPath(state, payload) {\n\tconst { driveType, paths } = state;\n\tlet { waypoints, name, isInReverse } = payload;\n\twaypoints = waypoints.map((waypoint) => Object.assign(new driveType.Waypoint(), waypoint));\n\tpaths[name] = { waypoints: waypoints, isInReverse: isInReverse };\n\treturn updatePathReducer(state, { waypoints: waypoints, paths: paths });\n}\n\nexport default function path(state, action) {\n\tif (action.type === LOAD_PATH) return loadPath(state, action.payload);\n\tif (action.type === UPDATE_PATH_REDUCER) return updatePathReducer(state, action.payload);\n\treturn state;\n}\n","import { initialState } from './initial-state';\nimport reduceReducers from 'reduce-reducers';\nimport group from './group/reducer';\nimport project from './project/reducer';\nimport { createStore } from 'redux';\nimport view from './view/reducer';\nimport path from './path/reducer';\nimport app from './app/reducer';\n\nconst reducers = reduceReducers(initialState, view, path, project, app, group);\nconst store = createStore(reducers);\n\nif (process.env.NODE_ENV === 'development')\n\tstore.subscribe(() => {\n\t\tconsole.log('Store change!', store.getState());\n\t});\n\nexport default store;\n","import { SET_APP_VERSION, SET_NEW_VERSION, SET_PLATFORM } from './action-types';\nimport { PopupsConfig } from '../../component/popups/popups-config';\n\nfunction setPlatform(state, payload) {\n\treturn { ...state, isWeb: payload.isWeb };\n}\n\nfunction setAppVersion(state, payload) {\n\treturn { ...state, version: payload.version };\n}\n\nfunction setNewVersion(state, payload) {\n\tconst newState = { ...state, newVersion: payload.version, popupsStatus: new PopupsConfig() };\n\tnewState.popupsStatus.newVersionPopup = true;\n\treturn newState;\n}\n\nexport default function app(state, action) {\n\tif (action.type === SET_PLATFORM) return setPlatform(state, action.payload);\n\tif (action.type === SET_APP_VERSION) return setAppVersion(state, action.payload);\n\tif (action.type === SET_NEW_VERSION) return setNewVersion(state, action.payload);\n\treturn state;\n}\n","import * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Provider } from 'react-redux';\nimport App from './component/app';\nimport ReactDOM from 'react-dom';\nimport store from './redux/store';\nimport React from 'react';\nimport './index.css';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}